(()=>{var aj=Object.create;var VA=Object.defineProperty;var sj=Object.getOwnPropertyDescriptor;var uj=Object.getOwnPropertyNames;var lj=Object.getPrototypeOf,cj=Object.prototype.hasOwnProperty;var QS=(h,g)=>()=>(g||h((g={exports:{}}).exports,g),g.exports);var hj=(h,g,_,O)=>{if(g&&typeof g=="object"||typeof g=="function")for(let P of uj(g))!cj.call(h,P)&&P!==_&&VA(h,P,{get:()=>g[P],enumerable:!(O=sj(g,P))||O.enumerable});return h};var JS=(h,g,_)=>(_=h!=null?aj(lj(h)):{},hj(g||!h||!h.__esModule?VA(_,"default",{value:h,enumerable:!0}):_,h));var hP=QS((WA,qA)=>{(function(h){var g=Object.hasOwnProperty,_=Array.isArray?Array.isArray:function(U){return Object.prototype.toString.call(U)==="[object Array]"},O=10,P=typeof process=="object"&&typeof process.nextTick=="function",R=typeof Symbol=="function",H=typeof Reflect=="object",q=typeof setImmediate=="function",le=q?setImmediate:setTimeout,ge=R?H&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(j){var U=Object.getOwnPropertyNames(j);return U.push.apply(U,Object.getOwnPropertySymbols(j)),U}:Object.keys;function ce(){this._events={},this._conf&&X.call(this,this._conf)}function X(j){j&&(this._conf=j,j.delimiter&&(this.delimiter=j.delimiter),j.maxListeners!==h&&(this._maxListeners=j.maxListeners),j.wildcard&&(this.wildcard=j.wildcard),j.newListener&&(this._newListener=j.newListener),j.removeListener&&(this._removeListener=j.removeListener),j.verboseMemoryLeak&&(this.verboseMemoryLeak=j.verboseMemoryLeak),j.ignoreErrors&&(this.ignoreErrors=j.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function Re(j,U){var K="(node) warning: possible EventEmitter memory leak detected. "+j+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(K+=" Event name: "+U+"."),typeof process<"u"&&process.emitWarning){var ee=new Error(K);ee.name="MaxListenersExceededWarning",ee.emitter=this,ee.count=j,process.emitWarning(ee)}else console.error(K),console.trace&&console.trace()}var $e=function(j,U,K){var ee=arguments.length;switch(ee){case 0:return[];case 1:return[j];case 2:return[j,U];case 3:return[j,U,K];default:for(var ne=new Array(ee);ee--;)ne[ee]=arguments[ee];return ne}};function we(j,U){for(var K={},ee,ne=j.length,re=U?U.length:0,de=0;de<ne;de++)ee=j[de],K[ee]=de<re?U[de]:h;return K}function ze(j,U,K){this._emitter=j,this._target=U,this._listeners={},this._listenersCount=0;var ee,ne;if((K.on||K.off)&&(ee=K.on,ne=K.off),U.addEventListener?(ee=U.addEventListener,ne=U.removeEventListener):U.addListener?(ee=U.addListener,ne=U.removeListener):U.on&&(ee=U.on,ne=U.off),!ee&&!ne)throw Error("target does not implement any known event API");if(typeof ee!="function")throw TypeError("on method must be a function");if(typeof ne!="function")throw TypeError("off method must be a function");this._on=ee,this._off=ne;var re=j._observers;re?re.push(this):j._observers=[this]}Object.assign(ze.prototype,{subscribe:function(j,U,K){var ee=this,ne=this._target,re=this._emitter,de=this._listeners,me=function(){var ve=$e.apply(null,arguments),ke={data:ve,name:U,original:j};if(K){var Ve=K.call(ne,ke);Ve!==!1&&re.emit.apply(re,[ke.name].concat(ve));return}re.emit.apply(re,[U].concat(ve))};if(de[j])throw Error("Event '"+j+"' is already listening");this._listenersCount++,re._newListener&&re._removeListener&&!ee._onNewListener?(this._onNewListener=function(ve){ve===U&&de[j]===null&&(de[j]=me,ee._on.call(ne,j,me))},re.on("newListener",this._onNewListener),this._onRemoveListener=function(ve){ve===U&&!re.hasListeners(ve)&&de[j]&&(de[j]=null,ee._off.call(ne,j,me))},de[j]=null,re.on("removeListener",this._onRemoveListener)):(de[j]=me,ee._on.call(ne,j,me))},unsubscribe:function(j){var U=this,K=this._listeners,ee=this._emitter,ne,re,de=this._off,me=this._target,ve;if(j&&typeof j!="string")throw TypeError("event must be a string");function ke(){U._onNewListener&&(ee.off("newListener",U._onNewListener),ee.off("removeListener",U._onRemoveListener),U._onNewListener=null,U._onRemoveListener=null);var Ve=gr.call(ee,U);ee._observers.splice(Ve,1)}if(j){if(ne=K[j],!ne)return;de.call(me,j,ne),delete K[j],--this._listenersCount||ke()}else{for(re=ge(K),ve=re.length;ve-- >0;)j=re[ve],de.call(me,j,K[j]);this._listeners={},this._listenersCount=0,ke()}}});function Vt(j,U,K,ee){var ne=Object.assign({},U);if(!j)return ne;if(typeof j!="object")throw TypeError("options must be an object");var re=Object.keys(j),de=re.length,me,ve,ke;function Ve(Mt){throw Error('Invalid "'+me+'" option value'+(Mt?". Reason: "+Mt:""))}for(var Er=0;Er<de;Er++){if(me=re[Er],!ee&&!g.call(U,me))throw Error('Unknown "'+me+'" option');ve=j[me],ve!==h&&(ke=K[me],ne[me]=ke?ke(ve,Ve):ve)}return ne}function Me(j,U){return(typeof j!="function"||!j.hasOwnProperty("prototype"))&&U("value must be a constructor"),j}function rt(j){var U="value must be type of "+j.join("|"),K=j.length,ee=j[0],ne=j[1];return K===1?function(re,de){if(typeof re===ee)return re;de(U)}:K===2?function(re,de){var me=typeof re;if(me===ee||me===ne)return re;de(U)}:function(re,de){for(var me=typeof re,ve=K;ve-- >0;)if(me===j[ve])return re;de(U)}}var nt=rt(["function"]),Rt=rt(["object","function"]);function It(j,U,K){var ee,ne,re=0,de,me=new j(function(ve,ke,Ve){K=Vt(K,{timeout:0,overload:!1},{timeout:function(Gt,qr){return Gt*=1,(typeof Gt!="number"||Gt<0||!Number.isFinite(Gt))&&qr("timeout must be a positive number"),Gt}}),ee=!K.overload&&typeof j.prototype.cancel=="function"&&typeof Ve=="function";function Er(){ne&&(ne=null),re&&(clearTimeout(re),re=0)}var Mt=function(Gt){Er(),ve(Gt)},_t=function(Gt){Er(),ke(Gt)};ee?U(Mt,_t,Ve):(ne=[function(Gt){_t(Gt||Error("canceled"))}],U(Mt,_t,function(Gt){if(de)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof Gt!="function")throw TypeError("onCancel callback must be a function");ne.push(Gt)}),de=!0),K.timeout>0&&(re=setTimeout(function(){var Gt=Error("timeout");Gt.code="ETIMEDOUT",re=0,me.cancel(Gt),ke(Gt)},K.timeout))});return ee||(me.cancel=function(ve){if(ne){for(var ke=ne.length,Ve=1;Ve<ke;Ve++)ne[Ve](ve);ne[0](ve),ne=null}}),me}function gr(j){var U=this._observers;if(!U)return-1;for(var K=U.length,ee=0;ee<K;ee++)if(U[ee]._target===j)return ee;return-1}function it(j,U,K,ee,ne){if(!K)return null;if(ee===0){var re=typeof U;if(re==="string"){var de,me,ve=0,ke=0,Ve=this.delimiter,Er=Ve.length;if((me=U.indexOf(Ve))!==-1){de=new Array(5);do de[ve++]=U.slice(ke,me),ke=me+Er;while((me=U.indexOf(Ve,ke))!==-1);de[ve++]=U.slice(ke),U=de,ne=ve}else U=[U],ne=1}else re==="object"?ne=U.length:(U=[U],ne=1)}var Mt=null,_t,Gt,qr,oi,Ti,os=U[ee],An=U[ee+1],fr,Gr;if(ee===ne)K._listeners&&(typeof K._listeners=="function"?(j&&j.push(K._listeners),Mt=[K]):(j&&j.push.apply(j,K._listeners),Mt=[K]));else if(os==="*"){for(fr=ge(K),me=fr.length;me-- >0;)_t=fr[me],_t!=="_listeners"&&(Gr=it(j,U,K[_t],ee+1,ne),Gr&&(Mt?Mt.push.apply(Mt,Gr):Mt=Gr));return Mt}else if(os==="**"){for(Ti=ee+1===ne||ee+2===ne&&An==="*",Ti&&K._listeners&&(Mt=it(j,U,K,ne,ne)),fr=ge(K),me=fr.length;me-- >0;)_t=fr[me],_t!=="_listeners"&&(_t==="*"||_t==="**"?(K[_t]._listeners&&!Ti&&(Gr=it(j,U,K[_t],ne,ne),Gr&&(Mt?Mt.push.apply(Mt,Gr):Mt=Gr)),Gr=it(j,U,K[_t],ee,ne)):_t===An?Gr=it(j,U,K[_t],ee+2,ne):Gr=it(j,U,K[_t],ee,ne),Gr&&(Mt?Mt.push.apply(Mt,Gr):Mt=Gr));return Mt}else K[os]&&(Mt=it(j,U,K[os],ee+1,ne));if(Gt=K["*"],Gt&&it(j,U,Gt,ee+1,ne),qr=K["**"],qr)if(ee<ne)for(qr._listeners&&it(j,U,qr,ne,ne),fr=ge(qr),me=fr.length;me-- >0;)_t=fr[me],_t!=="_listeners"&&(_t===An?it(j,U,qr[_t],ee+2,ne):_t===os?it(j,U,qr[_t],ee+1,ne):(oi={},oi[_t]=qr[_t],it(j,U,{"**":oi},ee+1,ne)));else qr._listeners?it(j,U,qr,ne,ne):qr["*"]&&qr["*"]._listeners&&it(j,U,qr["*"],ne,ne);return Mt}function dn(j,U,K){var ee=0,ne=0,re,de=this.delimiter,me=de.length,ve;if(typeof j=="string")if((re=j.indexOf(de))!==-1){ve=new Array(5);do ve[ee++]=j.slice(ne,re),ne=re+me;while((re=j.indexOf(de,ne))!==-1);ve[ee++]=j.slice(ne)}else ve=[j],ee=1;else ve=j,ee=j.length;if(ee>1){for(re=0;re+1<ee;re++)if(ve[re]==="**"&&ve[re+1]==="**")return}var ke=this.listenerTree,Ve;for(re=0;re<ee;re++)if(Ve=ve[re],ke=ke[Ve]||(ke[Ve]={}),re===ee-1)return ke._listeners?(typeof ke._listeners=="function"&&(ke._listeners=[ke._listeners]),K?ke._listeners.unshift(U):ke._listeners.push(U),!ke._listeners.warned&&this._maxListeners>0&&ke._listeners.length>this._maxListeners&&(ke._listeners.warned=!0,Re.call(this,ke._listeners.length,Ve))):ke._listeners=U,!0;return!0}function ar(j,U,K,ee){for(var ne=ge(j),re=ne.length,de,me,ve,ke=j._listeners,Ve;re-- >0;)me=ne[re],de=j[me],me==="_listeners"?ve=K:ve=K?K.concat(me):[me],Ve=ee||typeof me=="symbol",ke&&U.push(Ve?ve:ve.join(this.delimiter)),typeof de=="object"&&ar.call(this,de,U,ve,Ve);return U}function te(j){for(var U=ge(j),K=U.length,ee,ne,re;K-- >0;)ne=U[K],ee=j[ne],ee&&(re=!0,ne!=="_listeners"&&!te(ee)&&delete j[ne]);return re}function Ie(j,U,K){this.emitter=j,this.event=U,this.listener=K}Ie.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function Ge(j,U,K){if(K===!0)ne=!0;else if(K===!1)ee=!0;else{if(!K||typeof K!="object")throw TypeError("options should be an object or true");var ee=K.async,ne=K.promisify,re=K.nextTick,de=K.objectify}if(ee||re||ne){var me=U,ve=U._origin||U;if(re&&!P)throw Error("process.nextTick is not supported");ne===h&&(ne=U.constructor.name==="AsyncFunction"),U=function(){var ke=arguments,Ve=this,Er=this.event;return ne?re?Promise.resolve():new Promise(function(Mt){le(Mt)}).then(function(){return Ve.event=Er,me.apply(Ve,ke)}):(re?process.nextTick:le)(function(){Ve.event=Er,me.apply(Ve,ke)})},U._async=!0,U._origin=ve}return[U,de?new Ie(this,j,U):this]}function Ce(j){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,X.call(this,j)}Ce.EventEmitter2=Ce,Ce.prototype.listenTo=function(j,U,K){if(typeof j!="object")throw TypeError("target musts be an object");var ee=this;K=Vt(K,{on:h,off:h,reducers:h},{on:nt,off:nt,reducers:Rt});function ne(re){if(typeof re!="object")throw TypeError("events must be an object");var de=K.reducers,me=gr.call(ee,j),ve;me===-1?ve=new ze(ee,j,K):ve=ee._observers[me];for(var ke=ge(re),Ve=ke.length,Er,Mt=typeof de=="function",_t=0;_t<Ve;_t++)Er=ke[_t],ve.subscribe(Er,re[Er]||Er,Mt?de:de&&de[Er])}return _(U)?ne(we(U)):ne(typeof U=="string"?we(U.split(/\s+/)):U),this},Ce.prototype.stopListeningTo=function(j,U){var K=this._observers;if(!K)return!1;var ee=K.length,ne,re=!1;if(j&&typeof j!="object")throw TypeError("target should be an object");for(;ee-- >0;)ne=K[ee],(!j||ne._target===j)&&(ne.unsubscribe(U),re=!0);return re},Ce.prototype.delimiter=".",Ce.prototype.setMaxListeners=function(j){j!==h&&(this._maxListeners=j,this._conf||(this._conf={}),this._conf.maxListeners=j)},Ce.prototype.getMaxListeners=function(){return this._maxListeners},Ce.prototype.event="",Ce.prototype.once=function(j,U,K){return this._once(j,U,!1,K)},Ce.prototype.prependOnceListener=function(j,U,K){return this._once(j,U,!0,K)},Ce.prototype._once=function(j,U,K,ee){return this._many(j,1,U,K,ee)},Ce.prototype.many=function(j,U,K,ee){return this._many(j,U,K,!1,ee)},Ce.prototype.prependMany=function(j,U,K,ee){return this._many(j,U,K,!0,ee)},Ce.prototype._many=function(j,U,K,ee,ne){var re=this;if(typeof K!="function")throw new Error("many only accepts instances of Function");function de(){return--U===0&&re.off(j,de),K.apply(this,arguments)}return de._origin=K,this._on(j,de,ee,ne)},Ce.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||ce.call(this);var j=arguments[0],U,K=this.wildcard,ee,ne,re,de,me;if(j==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(K&&(U=j,j!=="newListener"&&j!=="removeListener"&&typeof j=="object")){if(ne=j.length,R){for(re=0;re<ne;re++)if(typeof j[re]=="symbol"){me=!0;break}}me||(j=j.join(this.delimiter))}var ve=arguments.length,ke;if(this._all&&this._all.length)for(ke=this._all.slice(),re=0,ne=ke.length;re<ne;re++)switch(this.event=j,ve){case 1:ke[re].call(this,j);break;case 2:ke[re].call(this,j,arguments[1]);break;case 3:ke[re].call(this,j,arguments[1],arguments[2]);break;default:ke[re].apply(this,arguments)}if(K)ke=[],it.call(this,ke,U,this.listenerTree,0,ne);else if(ke=this._events[j],typeof ke=="function"){switch(this.event=j,ve){case 1:ke.call(this);break;case 2:ke.call(this,arguments[1]);break;case 3:ke.call(this,arguments[1],arguments[2]);break;default:for(ee=new Array(ve-1),de=1;de<ve;de++)ee[de-1]=arguments[de];ke.apply(this,ee)}return!0}else ke&&(ke=ke.slice());if(ke&&ke.length){if(ve>3)for(ee=new Array(ve-1),de=1;de<ve;de++)ee[de-1]=arguments[de];for(re=0,ne=ke.length;re<ne;re++)switch(this.event=j,ve){case 1:ke[re].call(this);break;case 2:ke[re].call(this,arguments[1]);break;case 3:ke[re].call(this,arguments[1],arguments[2]);break;default:ke[re].apply(this,ee)}return!0}else if(!this.ignoreErrors&&!this._all&&j==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},Ce.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||ce.call(this);var j=arguments[0],U=this.wildcard,K,ee,ne,re,de,me;if(j==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(U&&(K=j,j!=="newListener"&&j!=="removeListener"&&typeof j=="object")){if(re=j.length,R){for(de=0;de<re;de++)if(typeof j[de]=="symbol"){ee=!0;break}}ee||(j=j.join(this.delimiter))}var ve=[],ke=arguments.length,Ve;if(this._all)for(de=0,re=this._all.length;de<re;de++)switch(this.event=j,ke){case 1:ve.push(this._all[de].call(this,j));break;case 2:ve.push(this._all[de].call(this,j,arguments[1]));break;case 3:ve.push(this._all[de].call(this,j,arguments[1],arguments[2]));break;default:ve.push(this._all[de].apply(this,arguments))}if(U?(Ve=[],it.call(this,Ve,K,this.listenerTree,0)):Ve=this._events[j],typeof Ve=="function")switch(this.event=j,ke){case 1:ve.push(Ve.call(this));break;case 2:ve.push(Ve.call(this,arguments[1]));break;case 3:ve.push(Ve.call(this,arguments[1],arguments[2]));break;default:for(ne=new Array(ke-1),me=1;me<ke;me++)ne[me-1]=arguments[me];ve.push(Ve.apply(this,ne))}else if(Ve&&Ve.length){if(Ve=Ve.slice(),ke>3)for(ne=new Array(ke-1),me=1;me<ke;me++)ne[me-1]=arguments[me];for(de=0,re=Ve.length;de<re;de++)switch(this.event=j,ke){case 1:ve.push(Ve[de].call(this));break;case 2:ve.push(Ve[de].call(this,arguments[1]));break;case 3:ve.push(Ve[de].call(this,arguments[1],arguments[2]));break;default:ve.push(Ve[de].apply(this,ne))}}else if(!this.ignoreErrors&&!this._all&&j==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(ve)},Ce.prototype.on=function(j,U,K){return this._on(j,U,!1,K)},Ce.prototype.prependListener=function(j,U,K){return this._on(j,U,!0,K)},Ce.prototype.onAny=function(j){return this._onAny(j,!1)},Ce.prototype.prependAny=function(j){return this._onAny(j,!0)},Ce.prototype.addListener=Ce.prototype.on,Ce.prototype._onAny=function(j,U){if(typeof j!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),U?this._all.unshift(j):this._all.push(j),this},Ce.prototype._on=function(j,U,K,ee){if(typeof j=="function")return this._onAny(j,U),this;if(typeof U!="function")throw new Error("on only accepts instances of Function");this._events||ce.call(this);var ne=this,re;return ee!==h&&(re=Ge.call(this,j,U,ee),U=re[0],ne=re[1]),this._newListener&&this.emit("newListener",j,U),this.wildcard?(dn.call(this,j,U,K),ne):(this._events[j]?(typeof this._events[j]=="function"&&(this._events[j]=[this._events[j]]),K?this._events[j].unshift(U):this._events[j].push(U),!this._events[j].warned&&this._maxListeners>0&&this._events[j].length>this._maxListeners&&(this._events[j].warned=!0,Re.call(this,this._events[j].length,j))):this._events[j]=U,ne)},Ce.prototype.off=function(j,U){if(typeof U!="function")throw new Error("removeListener only takes instances of Function");var K,ee=[];if(this.wildcard){var ne=typeof j=="string"?j.split(this.delimiter):j.slice();if(ee=it.call(this,null,ne,this.listenerTree,0),!ee)return this}else{if(!this._events[j])return this;K=this._events[j],ee.push({_listeners:K})}for(var re=0;re<ee.length;re++){var de=ee[re];if(K=de._listeners,_(K)){for(var me=-1,ve=0,ke=K.length;ve<ke;ve++)if(K[ve]===U||K[ve].listener&&K[ve].listener===U||K[ve]._origin&&K[ve]._origin===U){me=ve;break}if(me<0)continue;return this.wildcard?de._listeners.splice(me,1):this._events[j].splice(me,1),K.length===0&&(this.wildcard?delete de._listeners:delete this._events[j]),this._removeListener&&this.emit("removeListener",j,U),this}else(K===U||K.listener&&K.listener===U||K._origin&&K._origin===U)&&(this.wildcard?delete de._listeners:delete this._events[j],this._removeListener&&this.emit("removeListener",j,U))}return this.listenerTree&&te(this.listenerTree),this},Ce.prototype.offAny=function(j){var U=0,K=0,ee;if(j&&this._all&&this._all.length>0){for(ee=this._all,U=0,K=ee.length;U<K;U++)if(j===ee[U])return ee.splice(U,1),this._removeListener&&this.emit("removeListenerAny",j),this}else{if(ee=this._all,this._removeListener)for(U=0,K=ee.length;U<K;U++)this.emit("removeListenerAny",ee[U]);this._all=[]}return this},Ce.prototype.removeListener=Ce.prototype.off,Ce.prototype.removeAllListeners=function(j){if(j===h)return!this._events||ce.call(this),this;if(this.wildcard){var U=it.call(this,null,j,this.listenerTree,0),K,ee;if(!U)return this;for(ee=0;ee<U.length;ee++)K=U[ee],K._listeners=null;this.listenerTree&&te(this.listenerTree)}else this._events&&(this._events[j]=null);return this},Ce.prototype.listeners=function(j){var U=this._events,K,ee,ne,re,de;if(j===h){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!U)return[];for(K=ge(U),re=K.length,ne=[];re-- >0;)ee=U[K[re]],typeof ee=="function"?ne.push(ee):ne.push.apply(ne,ee);return ne}else{if(this.wildcard){if(de=this.listenerTree,!de)return[];var me=[],ve=typeof j=="string"?j.split(this.delimiter):j.slice();return it.call(this,me,ve,de,0),me}return U?(ee=U[j],ee?typeof ee=="function"?[ee]:ee:[]):[]}},Ce.prototype.eventNames=function(j){var U=this._events;return this.wildcard?ar.call(this,this.listenerTree,[],null,j):U?ge(U):[]},Ce.prototype.listenerCount=function(j){return this.listeners(j).length},Ce.prototype.hasListeners=function(j){if(this.wildcard){var U=[],K=typeof j=="string"?j.split(this.delimiter):j.slice();return it.call(this,U,K,this.listenerTree,0),U.length>0}var ee=this._events,ne=this._all;return!!(ne&&ne.length||ee&&(j===h?ge(ee).length:ee[j]))},Ce.prototype.listenersAny=function(){return this._all?this._all:[]},Ce.prototype.waitFor=function(j,U){var K=this,ee=typeof U;return ee==="number"?U={timeout:U}:ee==="function"&&(U={filter:U}),U=Vt(U,{timeout:0,filter:h,handleError:!1,Promise,overload:!1},{filter:nt,Promise:Me}),It(U.Promise,function(ne,re,de){function me(){var ve=U.filter;if(!(ve&&!ve.apply(K,arguments)))if(K.off(j,me),U.handleError){var ke=arguments[0];ke?re(ke):ne($e.apply(null,arguments).slice(1))}else ne($e.apply(null,arguments))}de(function(){K.off(j,me)}),K._on(j,me,!1)},{timeout:U.timeout,overload:U.overload})};function ft(j,U,K){K=Vt(K,{Promise,timeout:0,overload:!1},{Promise:Me});var ee=K.Promise;return It(ee,function(ne,re,de){var me;if(typeof j.addEventListener=="function"){me=function(){ne($e.apply(null,arguments))},de(function(){j.removeEventListener(U,me)}),j.addEventListener(U,me,{once:!0});return}var ve=function(){ke&&j.removeListener("error",ke),ne($e.apply(null,arguments))},ke;U!=="error"&&(ke=function(Ve){j.removeListener(U,ve),re(Ve)},j.once("error",ke)),de(function(){ke&&j.removeListener("error",ke),j.removeListener(U,ve)}),j.once(U,ve)},{timeout:K.timeout,overload:K.overload})}var ut=Ce.prototype;if(Object.defineProperties(Ce,{defaultMaxListeners:{get:function(){return ut._maxListeners},set:function(j){if(typeof j!="number"||j<0||Number.isNaN(j))throw TypeError("n must be a non-negative number");ut._maxListeners=j},enumerable:!0},once:{value:ft,writable:!0,configurable:!0}}),Object.defineProperties(ut,{_maxListeners:{value:O,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return Ce});else if(typeof WA=="object")qA.exports=Ce;else{var Ht=new Function("","return this")();Ht.EventEmitter2=Ce}})()});var wD=QS((Hh,_D)=>{var bD=typeof self<"u"?self:Hh,eC=function(){function h(){this.fetch=!1,this.DOMException=bD.DOMException}return h.prototype=bD,new h}();(function(h){var g=function(_){var O={searchParams:"URLSearchParams"in h,iterable:"Symbol"in h&&"iterator"in Symbol,blob:"FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in h,arrayBuffer:"ArrayBuffer"in h};function P(te){return te&&DataView.prototype.isPrototypeOf(te)}if(O.arrayBuffer)var R=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],H=ArrayBuffer.isView||function(te){return te&&R.indexOf(Object.prototype.toString.call(te))>-1};function q(te){if(typeof te!="string"&&(te=String(te)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(te))throw new TypeError("Invalid character in header field name");return te.toLowerCase()}function le(te){return typeof te!="string"&&(te=String(te)),te}function ge(te){var Ie={next:function(){var Ge=te.shift();return{done:Ge===void 0,value:Ge}}};return O.iterable&&(Ie[Symbol.iterator]=function(){return Ie}),Ie}function ce(te){this.map={},te instanceof ce?te.forEach(function(Ie,Ge){this.append(Ge,Ie)},this):Array.isArray(te)?te.forEach(function(Ie){this.append(Ie[0],Ie[1])},this):te&&Object.getOwnPropertyNames(te).forEach(function(Ie){this.append(Ie,te[Ie])},this)}ce.prototype.append=function(te,Ie){te=q(te),Ie=le(Ie);var Ge=this.map[te];this.map[te]=Ge?Ge+", "+Ie:Ie},ce.prototype.delete=function(te){delete this.map[q(te)]},ce.prototype.get=function(te){return te=q(te),this.has(te)?this.map[te]:null},ce.prototype.has=function(te){return this.map.hasOwnProperty(q(te))},ce.prototype.set=function(te,Ie){this.map[q(te)]=le(Ie)},ce.prototype.forEach=function(te,Ie){for(var Ge in this.map)this.map.hasOwnProperty(Ge)&&te.call(Ie,this.map[Ge],Ge,this)},ce.prototype.keys=function(){var te=[];return this.forEach(function(Ie,Ge){te.push(Ge)}),ge(te)},ce.prototype.values=function(){var te=[];return this.forEach(function(Ie){te.push(Ie)}),ge(te)},ce.prototype.entries=function(){var te=[];return this.forEach(function(Ie,Ge){te.push([Ge,Ie])}),ge(te)},O.iterable&&(ce.prototype[Symbol.iterator]=ce.prototype.entries);function X(te){if(te.bodyUsed)return Promise.reject(new TypeError("Already read"));te.bodyUsed=!0}function Re(te){return new Promise(function(Ie,Ge){te.onload=function(){Ie(te.result)},te.onerror=function(){Ge(te.error)}})}function $e(te){var Ie=new FileReader,Ge=Re(Ie);return Ie.readAsArrayBuffer(te),Ge}function we(te){var Ie=new FileReader,Ge=Re(Ie);return Ie.readAsText(te),Ge}function ze(te){for(var Ie=new Uint8Array(te),Ge=new Array(Ie.length),Ce=0;Ce<Ie.length;Ce++)Ge[Ce]=String.fromCharCode(Ie[Ce]);return Ge.join("")}function Vt(te){if(te.slice)return te.slice(0);var Ie=new Uint8Array(te.byteLength);return Ie.set(new Uint8Array(te)),Ie.buffer}function Me(){return this.bodyUsed=!1,this._initBody=function(te){this._bodyInit=te,te?typeof te=="string"?this._bodyText=te:O.blob&&Blob.prototype.isPrototypeOf(te)?this._bodyBlob=te:O.formData&&FormData.prototype.isPrototypeOf(te)?this._bodyFormData=te:O.searchParams&&URLSearchParams.prototype.isPrototypeOf(te)?this._bodyText=te.toString():O.arrayBuffer&&O.blob&&P(te)?(this._bodyArrayBuffer=Vt(te.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):O.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(te)||H(te))?this._bodyArrayBuffer=Vt(te):this._bodyText=te=Object.prototype.toString.call(te):this._bodyText="",this.headers.get("content-type")||(typeof te=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):O.searchParams&&URLSearchParams.prototype.isPrototypeOf(te)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},O.blob&&(this.blob=function(){var te=X(this);if(te)return te;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?X(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then($e)}),this.text=function(){var te=X(this);if(te)return te;if(this._bodyBlob)return we(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ze(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},O.formData&&(this.formData=function(){return this.text().then(It)}),this.json=function(){return this.text().then(JSON.parse)},this}var rt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function nt(te){var Ie=te.toUpperCase();return rt.indexOf(Ie)>-1?Ie:te}function Rt(te,Ie){Ie=Ie||{};var Ge=Ie.body;if(te instanceof Rt){if(te.bodyUsed)throw new TypeError("Already read");this.url=te.url,this.credentials=te.credentials,Ie.headers||(this.headers=new ce(te.headers)),this.method=te.method,this.mode=te.mode,this.signal=te.signal,!Ge&&te._bodyInit!=null&&(Ge=te._bodyInit,te.bodyUsed=!0)}else this.url=String(te);if(this.credentials=Ie.credentials||this.credentials||"same-origin",(Ie.headers||!this.headers)&&(this.headers=new ce(Ie.headers)),this.method=nt(Ie.method||this.method||"GET"),this.mode=Ie.mode||this.mode||null,this.signal=Ie.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Ge)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ge)}Rt.prototype.clone=function(){return new Rt(this,{body:this._bodyInit})};function It(te){var Ie=new FormData;return te.trim().split("&").forEach(function(Ge){if(Ge){var Ce=Ge.split("="),ft=Ce.shift().replace(/\+/g," "),ut=Ce.join("=").replace(/\+/g," ");Ie.append(decodeURIComponent(ft),decodeURIComponent(ut))}}),Ie}function gr(te){var Ie=new ce,Ge=te.replace(/\r?\n[\t ]+/g," ");return Ge.split(/\r?\n/).forEach(function(Ce){var ft=Ce.split(":"),ut=ft.shift().trim();if(ut){var Ht=ft.join(":").trim();Ie.append(ut,Ht)}}),Ie}Me.call(Rt.prototype);function it(te,Ie){Ie||(Ie={}),this.type="default",this.status=Ie.status===void 0?200:Ie.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Ie?Ie.statusText:"OK",this.headers=new ce(Ie.headers),this.url=Ie.url||"",this._initBody(te)}Me.call(it.prototype),it.prototype.clone=function(){return new it(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ce(this.headers),url:this.url})},it.error=function(){var te=new it(null,{status:0,statusText:""});return te.type="error",te};var dn=[301,302,303,307,308];it.redirect=function(te,Ie){if(dn.indexOf(Ie)===-1)throw new RangeError("Invalid status code");return new it(null,{status:Ie,headers:{location:te}})},_.DOMException=h.DOMException;try{new _.DOMException}catch{_.DOMException=function(Ie,Ge){this.message=Ie,this.name=Ge;var Ce=Error(Ie);this.stack=Ce.stack},_.DOMException.prototype=Object.create(Error.prototype),_.DOMException.prototype.constructor=_.DOMException}function ar(te,Ie){return new Promise(function(Ge,Ce){var ft=new Rt(te,Ie);if(ft.signal&&ft.signal.aborted)return Ce(new _.DOMException("Aborted","AbortError"));var ut=new XMLHttpRequest;function Ht(){ut.abort()}ut.onload=function(){var j={status:ut.status,statusText:ut.statusText,headers:gr(ut.getAllResponseHeaders()||"")};j.url="responseURL"in ut?ut.responseURL:j.headers.get("X-Request-URL");var U="response"in ut?ut.response:ut.responseText;Ge(new it(U,j))},ut.onerror=function(){Ce(new TypeError("Network request failed"))},ut.ontimeout=function(){Ce(new TypeError("Network request failed"))},ut.onabort=function(){Ce(new _.DOMException("Aborted","AbortError"))},ut.open(ft.method,ft.url,!0),ft.credentials==="include"?ut.withCredentials=!0:ft.credentials==="omit"&&(ut.withCredentials=!1),"responseType"in ut&&O.blob&&(ut.responseType="blob"),ft.headers.forEach(function(j,U){ut.setRequestHeader(U,j)}),ft.signal&&(ft.signal.addEventListener("abort",Ht),ut.onreadystatechange=function(){ut.readyState===4&&ft.signal.removeEventListener("abort",Ht)}),ut.send(typeof ft._bodyInit>"u"?null:ft._bodyInit)})}return ar.polyfill=!0,h.fetch||(h.fetch=ar,h.Headers=ce,h.Request=Rt,h.Response=it),_.Headers=ce,_.Request=Rt,_.Response=it,_.fetch=ar,Object.defineProperty(_,"__esModule",{value:!0}),_}({})})(eC);eC.fetch.ponyfill=!0;delete eC.fetch.polyfill;var PE=eC;Hh=PE.fetch;Hh.default=PE.fetch;Hh.fetch=PE.fetch;Hh.Headers=PE.Headers;Hh.Request=PE.Request;Hh.Response=PE.Response;_D.exports=Hh});var DD=QS((rC,AD)=>{(function(h,g){typeof rC=="object"&&typeof AD<"u"?g(rC):typeof define=="function"&&define.amd?define(["exports"],g):(h=typeof globalThis<"u"?globalThis:h||self,g(h.vis=h.vis||{}))})(rC,function(h){function g(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var P={exports:{}},R=function(a){return a&&a.Math==Math&&a},H=R(typeof globalThis=="object"&&globalThis)||R(typeof window=="object"&&window)||R(typeof self=="object"&&self)||R(typeof _=="object"&&_)||function(){return this}()||Function("return this")(),q=function(a){try{return!!a()}catch{return!0}},le=q,ge=!le(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),ce=ge,X=Function.prototype,Re=X.apply,$e=X.call,we=typeof Reflect=="object"&&Reflect.apply||(ce?$e.bind(Re):function(){return $e.apply(Re,arguments)}),ze=ge,Vt=Function.prototype,Me=Vt.call,rt=ze&&Vt.bind.bind(Me,Me),nt=ze?rt:function(a){return function(){return Me.apply(a,arguments)}},Rt=nt,It=Rt({}.toString),gr=Rt("".slice),it=function(a){return gr(It(a),8,-1)},dn=it,ar=nt,te=function(a){if(dn(a)==="Function")return ar(a)},Ie=typeof document=="object"&&document.all,Ge=typeof Ie>"u"&&Ie!==void 0,Ce={all:Ie,IS_HTMLDDA:Ge},ft=Ce,ut=ft.all,Ht=ft.IS_HTMLDDA?function(a){return typeof a=="function"||a===ut}:function(a){return typeof a=="function"},j={},U=q,K=!U(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),ee=ge,ne=Function.prototype.call,re=ee?ne.bind(ne):function(){return ne.apply(ne,arguments)},de={},me={}.propertyIsEnumerable,ve=Object.getOwnPropertyDescriptor,ke=ve&&!me.call({1:2},1);de.f=ke?function(l){var p=ve(this,l);return!!p&&p.enumerable}:me;var Ve=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}},Er=nt,Mt=q,_t=it,Gt=Object,qr=Er("".split),oi=Mt(function(){return!Gt("z").propertyIsEnumerable(0)})?function(a){return _t(a)=="String"?qr(a,""):Gt(a)}:Gt,Ti=function(a){return a==null},os=Ti,An=TypeError,fr=function(a){if(os(a))throw An("Can't call method on "+a);return a},Gr=oi,$r=fr,Xe=function(a){return Gr($r(a))},rr=Ht,gu=Ce,Jv=gu.all,Rr=gu.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:rr(a)||a===Jv}:function(a){return typeof a=="object"?a!==null:rr(a)},Dt={},Ct=Dt,ir=H,To=Ht,zl=function(a){return To(a)?a:void 0},Mr=function(a,l){return arguments.length<2?zl(Ct[a])||zl(ir[a]):Ct[a]&&Ct[a][l]||ir[a]&&ir[a][l]},Zv=nt,mr=Zv({}.isPrototypeOf),Yi=typeof navigator<"u"&&String(navigator.userAgent)||"",la=H,Ki=Yi,ep=la.process,b0=la.Deno,ai=ep&&ep.versions||b0&&b0.version,Vh=ai&&ai.v8,Si,Wh;Vh&&(Si=Vh.split("."),Wh=Si[0]>0&&Si[0]<4?1:+(Si[0]+Si[1])),!Wh&&Ki&&(Si=Ki.match(/Edge\/(\d+)/),(!Si||Si[1]>=74)&&(Si=Ki.match(/Chrome\/(\d+)/),Si&&(Wh=+Si[1])));var mu=Wh,_0=mu,So=q,bu=!!Object.getOwnPropertySymbols&&!So(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&_0&&_0<41}),Ii=bu,w0=Ii&&!Symbol.sham&&typeof Symbol.iterator=="symbol",jE=Mr,FE=Ht,Or=mr,LE=w0,BE=Object,Io=LE?function(a){return typeof a=="symbol"}:function(a){var l=jE("Symbol");return FE(l)&&Or(l.prototype,BE(a))},Hl=String,Xi=function(a){try{return Hl(a)}catch{return"Object"}},Ul=Ht,zE=Xi,tp=TypeError,rn=function(a){if(Ul(a))return a;throw tp(zE(a)+" is not a function")},HE=rn,UE=Ti,Vl=function(a,l){var p=a[l];return UE(p)?void 0:HE(p)},as=re,Wl=Ht,Yn=Rr,VE=TypeError,WE=function(a,l){var p,m;if(l==="string"&&Wl(p=a.toString)&&!Yn(m=as(p,a))||Wl(p=a.valueOf)&&!Yn(m=as(p,a))||l!=="string"&&Wl(p=a.toString)&&!Yn(m=as(p,a)))return m;throw VE("Can't convert object to primitive value")},nr={exports:{}},qE=!0,E0=H,Pt=Object.defineProperty,GE=function(a,l){try{Pt(E0,a,{value:l,configurable:!0,writable:!0})}catch{E0[a]=l}return l},YE=H,KE=GE,O0="__core-js_shared__",ss=YE[O0]||KE(O0,{}),rp=ss,qh=rp;(nr.exports=function(a,l){return qh[a]||(qh[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var _u=nr.exports,XE=fr,QE=Object,vr=function(a){return QE(XE(a))},ql=nt,JE=vr,yt=ql({}.hasOwnProperty),kr=Object.hasOwn||function(l,p){return yt(JE(l),p)},np=nt,ip=0,ZE=Math.random(),eO=np(1 .toString),Gh=function(a){return"Symbol("+(a===void 0?"":a)+")_"+eO(++ip+ZE,36)},tO=H,rO=_u,k0=kr,us=Gh,op=bu,Gl=w0,wu=tO.Symbol,Eu=rO("wks"),nO=Gl?wu.for||wu:wu&&wu.withoutSetter||us,hr=function(a){return k0(Eu,a)||(Eu[a]=op&&k0(wu,a)?wu[a]:nO("Symbol."+a)),Eu[a]},iO=re,x0=Rr,T0=Io,oO=Vl,aO=WE,sO=hr,uO=TypeError,lO=sO("toPrimitive"),ap=function(a,l){if(!x0(a)||T0(a))return a;var p=oO(a,lO),m;if(p){if(l===void 0&&(l="default"),m=iO(p,a,l),!x0(m)||T0(m))return m;throw uO("Can't convert object to primitive value")}return l===void 0&&(l="number"),aO(a,l)},cO=ap,hO=Io,Yh=function(a){var l=cO(a,"string");return hO(l)?l:l+""},Co=H,S0=Rr,sp=Co.document,dO=S0(sp)&&S0(sp.createElement),up=function(a){return dO?sp.createElement(a):{}},I0=K,fO=q,vO=up,C0=!I0&&!fO(function(){return Object.defineProperty(vO("div"),"a",{get:function(){return 7}}).a!=7}),si=K,sr=re,lp=de,pO=Ve,yO=Xe,gO=Yh,ur=kr,mO=C0,P0=Object.getOwnPropertyDescriptor;j.f=si?P0:function(l,p){if(l=yO(l),p=gO(p),mO)try{return P0(l,p)}catch{}if(ur(l,p))return pO(!sr(lp.f,l,p),l[p])};var bO=q,ls=Ht,cp=/#|\.prototype\./,Yl=function(a,l){var p=_O[Kl(a)];return p==Ql?!0:p==Xl?!1:ls(l)?bO(l):!!l},Kl=Yl.normalize=function(a){return String(a).replace(cp,".").toLowerCase()},_O=Yl.data={},Xl=Yl.NATIVE="N",Ql=Yl.POLYFILL="P",Ou=Yl,A0=te,wO=rn,Dn=ge,cs=A0(A0.bind),ca=function(a,l){return wO(a),l===void 0?a:Dn?cs(a,l):function(){return a.apply(l,arguments)}},Kn={},EO=K,OO=q,D0=EO&&OO(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Ci=Rr,kO=String,Pi=TypeError,fn=function(a){if(Ci(a))return a;throw Pi(kO(a)+" is not an object")},xO=K,pe=C0,TO=D0,Kh=fn,hp=Yh,Jl=TypeError,dp=Object.defineProperty,N0=Object.getOwnPropertyDescriptor,Xh="enumerable",Qi="configurable",fp="writable";Kn.f=xO?TO?function(l,p,m){if(Kh(l),p=hp(p),Kh(m),typeof l=="function"&&p==="prototype"&&"value"in m&&fp in m&&!m[fp]){var b=N0(l,p);b&&b[fp]&&(l[p]=m.value,m={configurable:Qi in m?m[Qi]:b[Qi],enumerable:Xh in m?m[Xh]:b[Xh],writable:!1})}return dp(l,p,m)}:dp:function(l,p,m){if(Kh(l),p=hp(p),Kh(m),pe)try{return dp(l,p,m)}catch{}if("get"in m||"set"in m)throw Jl("Accessors not supported");return"value"in m&&(l[p]=m.value),l};var ha=K,SO=Kn,ui=Ve,Po=ha?function(a,l,p){return SO.f(a,l,ui(1,p))}:function(a,l,p){return a[l]=p,a},hs=H,IO=we,$0=te,vp=Ht,nn=j.f,pp=Ou,da=Dt,CO=ca,ku=Po,yp=kr,ds=function(a){var l=function(p,m,b){if(this instanceof l){switch(arguments.length){case 0:return new a;case 1:return new a(p);case 2:return new a(p,m)}return new a(p,m,b)}return IO(a,this,arguments)};return l.prototype=a.prototype,l},at=function(a,l){var p=a.target,m=a.global,b=a.stat,k=a.proto,I=m?hs:b?hs[p]:(hs[p]||{}).prototype,$=m?da:da[p]||ku(da,p,{})[p],A=$.prototype,z,W,G,J,oe,Be,lt,gt,Tt;for(J in l)z=pp(m?J:p+(b?".":"#")+J,a.forced),W=!z&&I&&yp(I,J),Be=$[J],W&&(a.dontCallGetSet?(Tt=nn(I,J),lt=Tt&&Tt.value):lt=I[J]),oe=W&&lt?lt:l[J],!(W&&typeof Be==typeof oe)&&(a.bind&&W?gt=CO(oe,hs):a.wrap&&W?gt=ds(oe):k&&vp(oe)?gt=$0(oe):gt=oe,(a.sham||oe&&oe.sham||Be&&Be.sham)&&ku(gt,"sham",!0),ku($,J,gt),k&&(G=p+"Prototype",yp(da,G)||ku(da,G,{}),ku(da[G],J,oe),a.real&&A&&(z||!A[J])&&ku(A,J,oe)))},gp=at,PO=K,Zl=Kn.f;gp({target:"Object",stat:!0,forced:Object.defineProperty!==Zl,sham:!PO},{defineProperty:Zl});var fa=Dt,mp=fa.Object,AO=P.exports=function(l,p,m){return mp.defineProperty(l,p,m)};mp.defineProperty.sham&&(AO.sham=!0);var DO=P.exports,Ao=DO,Qh=Ao,bp=Qh,NO=bp,R0=NO,$O=R0,xu=$O,Jh=xu,Zh=O(Jh),RO=it,Ji=Array.isArray||function(l){return RO(l)=="Array"},xr=Math.ceil,ec=Math.floor,ed=Math.trunc||function(l){var p=+l;return(p>0?ec:xr)(p)},MO=ed,td=function(a){var l=+a;return l!==l||l===0?0:MO(l)},tc=td,_p=Math.min,rd=function(a){return a>0?_p(tc(a),9007199254740991):0},wp=rd,li=function(a){return wp(a.length)},jO=TypeError,Ep=9007199254740991,rc=function(a){if(a>Ep)throw jO("Maximum allowed index exceeded");return a},M0=Yh,nd=Kn,jr=Ve,Tu=function(a,l,p){var m=M0(l);m in a?nd.f(a,m,jr(0,p)):a[m]=p},FO=hr,nc=FO("toStringTag"),id={};id[nc]="z";var Op=String(id)==="[object z]",j0=Op,Oe=Ht,Su=it,F0=hr,od=F0("toStringTag"),kp=Object,L0=Su(function(){return arguments}())=="Arguments",B0=function(a,l){try{return a[l]}catch{}},Zi=j0?Su:function(a){var l,p,m;return a===void 0?"Undefined":a===null?"Null":typeof(p=B0(l=kp(a),od))=="string"?p:L0?Su(l):(m=Su(l))=="Object"&&Oe(l.callee)?"Arguments":m},xp=nt,z0=Ht,Iu=rp,ic=xp(Function.toString);z0(Iu.inspectSource)||(Iu.inspectSource=function(a){return ic(a)});var oc=Iu.inspectSource,Do=nt,ad=q,H0=Ht,sd=Zi,LO=Mr,ud=oc,U0=function(){},fs=[],V0=LO("Reflect","construct"),ld=/^\s*(?:class|function)\b/,eo=Do(ld.exec),vs=!ld.exec(U0),ps=function(l){if(!H0(l))return!1;try{return V0(U0,fs,l),!0}catch{return!1}},W0=function(l){if(!H0(l))return!1;switch(sd(l)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return vs||!!eo(ld,ud(l))}catch{return!0}};W0.sham=!0;var cd=!V0||ad(function(){var a;return ps(ps.call)||!ps(Object)||!ps(function(){a=!0})||a})?W0:ps,q0=Ji,Tp=cd,G0=Rr,hd=hr,BO=hd("species"),Y0=Array,ac=function(a){var l;return q0(a)&&(l=a.constructor,Tp(l)&&(l===Y0||q0(l.prototype))?l=void 0:G0(l)&&(l=l[BO],l===null&&(l=void 0))),l===void 0?Y0:l},K0=ac,dd=function(a,l){return new(K0(a))(l===0?0:l)},X0=q,fd=hr,zO=mu,Q0=fd("species"),va=function(a){return zO>=51||!X0(function(){var l=[],p=l.constructor={};return p[Q0]=function(){return{foo:1}},l[a](Boolean).foo!==1})},J0=at,Sp=q,vd=Ji,pd=Rr,HO=vr,Z0=li,sc=rc,eb=Tu,to=dd,Cu=va,ci=hr,uc=mu,Ip=ci("isConcatSpreadable"),yd=uc>=51||!Sp(function(){var a=[];return a[Ip]=!1,a.concat()[0]!==a}),tb=function(a){if(!pd(a))return!1;var l=a[Ip];return l!==void 0?!!l:vd(a)},gd=!yd||!Cu("concat");J0({target:"Array",proto:!0,arity:1,forced:gd},{concat:function(l){var p=HO(this),m=to(p,0),b=0,k,I,$,A,z;for(k=-1,$=arguments.length;k<$;k++)if(z=k===-1?p:arguments[k],tb(z))for(A=Z0(z),sc(b+A),I=0;I<A;I++,b++)I in z&&eb(m,b,z[I]);else sc(b+1),eb(m,b++,z);return m.length=b,m}});var md=Zi,ro=String,Ai=function(a){if(md(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return ro(a)},bd={},UO=td,Cp=Math.max,rb=Math.min,_d=function(a,l){var p=UO(a);return p<0?Cp(p+l,0):rb(p,l)},wd=Xe,VO=_d,WO=li,Pp=function(a){return function(l,p,m){var b=wd(l),k=WO(b),I=VO(m,k),$;if(a&&p!=p){for(;k>I;)if($=b[I++],$!=$)return!0}else for(;k>I;I++)if((a||I in b)&&b[I]===p)return a||I||0;return!a&&-1}},nb={includes:Pp(!0),indexOf:Pp(!1)},lc={},ib=nt,Ap=kr,Ed=Xe,ys=nb.indexOf,ob=lc,No=ib([].push),Dp=function(a,l){var p=Ed(a),m=0,b=[],k;for(k in p)!Ap(ob,k)&&Ap(p,k)&&No(b,k);for(;l.length>m;)Ap(p,k=l[m++])&&(~ys(b,k)||No(b,k));return b},Pu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pa=Dp,gs=Pu,ya=Object.keys||function(l){return pa(l,gs)},Au=K,$o=D0,Np=Kn,qO=fn,GO=Xe,YO=ya;bd.f=Au&&!$o?Object.defineProperties:function(l,p){qO(l);for(var m=GO(p),b=YO(p),k=b.length,I=0,$;k>I;)Np.f(l,$=b[I++],m[$]);return l};var br=Mr,$p=br("document","documentElement"),Rp=_u,KO=Gh,cc=Rp("keys"),hc=function(a){return cc[a]||(cc[a]=KO(a))},dc=fn,XO=bd,ab=Pu,QO=lc,JO=$p,sb=up,ZO=hc,fc=">",Ro="<",Mp="prototype",vc="script",ub=ZO("IE_PROTO"),Od=function(){},lb=function(a){return Ro+vc+fc+a+Ro+"/"+vc+fc},cb=function(a){a.write(lb("")),a.close();var l=a.parentWindow.Object;return a=null,l},jp=function(){var a=sb("iframe"),l="java"+vc+":",p;return a.style.display="none",JO.appendChild(a),a.src=String(l),p=a.contentWindow.document,p.open(),p.write(lb("document.F=Object")),p.close(),p.F},Du,kd=function(){try{Du=new ActiveXObject("htmlfile")}catch{}kd=typeof document<"u"?document.domain&&Du?cb(Du):jp():cb(Du);for(var a=ab.length;a--;)delete kd[Mp][ab[a]];return kd()};QO[ub]=!0;var ga=Object.create||function(l,p){var m;return l!==null?(Od[Mp]=dc(l),m=new Od,Od[Mp]=null,m[ub]=l):m=kd(),p===void 0?m:XO.f(m,p)},Di={},ma=Dp,ek=Pu,no=ek.concat("length","prototype");Di.f=Object.getOwnPropertyNames||function(l){return ma(l,no)};var ba={},Mo=_d,tk=li,rk=Tu,nk=Array,ik=Math.max,hb=function(a,l,p){for(var m=tk(a),b=Mo(l,m),k=Mo(p===void 0?m:p,m),I=nk(ik(k-b,0)),$=0;b<k;b++,$++)rk(I,$,a[b]);return I.length=$,I},db=it,_a=Xe,ms=Di.f,xd=hb,Td=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Fp=function(a){try{return ms(a)}catch{return xd(Td)}};ba.f=function(l){return Td&&db(l)=="Window"?Fp(l):ms(_a(l))};var pc={};pc.f=Object.getOwnPropertySymbols;var Nu=Po,Ni=function(a,l,p,m){return m&&m.enumerable?a[l]=p:Nu(a,l,p),a},ok=Kn,Tr=function(a,l,p){return ok.f(a,l,p)},yc={},Sd=hr;yc.f=Sd;var $u=Dt,Lp=kr,ak=yc,Ru=Kn.f,Zt=function(a){var l=$u.Symbol||($u.Symbol={});Lp(l,a)||Ru(l,a,{value:ak.f(a)})},Bp=re,Id=Mr,zp=hr,sk=Ni,gc=function(){var a=Id("Symbol"),l=a&&a.prototype,p=l&&l.valueOf,m=zp("toPrimitive");l&&!l[m]&&sk(l,m,function(b){return Bp(p,this)},{arity:1})},Cd=Op,uk=Zi,fb=Cd?{}.toString:function(){return"[object "+uk(this)+"]"},Hp=Op,lk=Kn.f,Pd=Po,Up=kr,vb=fb,ck=hr,pb=ck("toStringTag"),wa=function(a,l,p,m){if(a){var b=p?a:a.prototype;Up(b,pb)||lk(b,pb,{configurable:!0,value:l}),m&&!Hp&&Pd(b,"toString",vb)}},hk=H,yb=Ht,Vp=hk.WeakMap,Ad=yb(Vp)&&/native code/.test(String(Vp)),Nn=Ad,mc=H,bc=Rr,gb=Po,Dd=kr,vn=rp,bs=hc,Nd=lc,mb="Object already initialized",_c=mc.TypeError,Wp=mc.WeakMap,io,Mu,wc,bb=function(a){return wc(a)?Mu(a):io(a,{})},oo=function(a){return function(l){var p;if(!bc(l)||(p=Mu(l)).type!==a)throw _c("Incompatible receiver, "+a+" required");return p}};if(Nn||vn.state){var on=vn.state||(vn.state=new Wp);on.get=on.get,on.has=on.has,on.set=on.set,io=function(a,l){if(on.has(a))throw _c(mb);return l.facade=a,on.set(a,l),l},Mu=function(a){return on.get(a)||{}},wc=function(a){return on.has(a)}}else{var ju=bs("state");Nd[ju]=!0,io=function(a,l){if(Dd(a,ju))throw _c(mb);return l.facade=a,gb(a,ju,l),l},Mu=function(a){return Dd(a,ju)?a[ju]:{}},wc=function(a){return Dd(a,ju)}}var Ea={set:io,get:Mu,has:wc,enforce:bb,getterFor:oo},_s=ca,$d=nt,ws=oi,qp=vr,_b=li,wb=dd,Oa=$d([].push),jo=function(a){var l=a==1,p=a==2,m=a==3,b=a==4,k=a==6,I=a==7,$=a==5||k;return function(A,z,W,G){for(var J=qp(A),oe=ws(J),Be=_s(z,W),lt=_b(oe),gt=0,Tt=G||wb,$t=l?Tt(A,lt):p||I?Tt(A,0):void 0,qn,tr;lt>gt;gt++)if(($||gt in oe)&&(qn=oe[gt],tr=Be(qn,gt,J),a))if(l)$t[gt]=tr;else if(tr)switch(a){case 3:return!0;case 5:return qn;case 6:return gt;case 2:Oa($t,qn)}else switch(a){case 4:return!1;case 7:Oa($t,qn)}return k?-1:m||b?b:$t}},ka={forEach:jo(0),map:jo(1),filter:jo(2),some:jo(3),every:jo(4),find:jo(5),findIndex:jo(6),filterReject:jo(7)},Rd=at,Gp=H,Yp=re,Md=nt,Es=K,Fu=bu,Kp=q,Fr=kr,dk=mr,Xp=fn,Ec=Xe,Qp=Yh,fk=Ai,jd=Ve,Fo=ga,Jp=ya,vk=Di,Zp=ba,Eb=pc,ey=j,Ob=Kn,ty=bd,Fd=de,ry=Ni,Oc=Tr,kc=_u,kb=hc,ny=lc,Ld=Gh,Os=hr,pk=yc,xb=Zt,Lo=gc,Bd=wa,Lu=Ea,xc=ka.forEach,$n=kb("hidden"),zd="Symbol",Tc="prototype",Tb=Lu.set,iy=Lu.getterFor(zd),hi=Object[Tc],xa=Gp.Symbol,Bu=xa&&xa[Tc],Sb=Gp.TypeError,zu=Gp.QObject,oy=ey.f,Bo=Ob.f,ay=Zp.f,Ib=Fd.f,Rn=Md([].push),Ee=kc("symbols"),ks=kc("op-symbols"),yk=kc("wks"),Ta=!zu||!zu[Tc]||!zu[Tc].findChild,Hu=Es&&Kp(function(){return Fo(Bo({},"a",{get:function(){return Bo(this,"a",{value:7}).a}})).a!=7})?function(a,l,p){var m=oy(hi,l);m&&delete hi[l],Bo(a,l,p),m&&a!==hi&&Bo(hi,l,m)}:Bo,Hd=function(a,l){var p=Ee[a]=Fo(Bu);return Tb(p,{type:zd,tag:a,description:l}),Es||(p.description=l),p},Sc=function(l,p,m){l===hi&&Sc(ks,p,m),Xp(l);var b=Qp(p);return Xp(m),Fr(Ee,b)?(m.enumerable?(Fr(l,$n)&&l[$n][b]&&(l[$n][b]=!1),m=Fo(m,{enumerable:jd(0,!1)})):(Fr(l,$n)||Bo(l,$n,jd(1,{})),l[$n][b]=!0),Hu(l,b,m)):Bo(l,b,m)},Ud=function(l,p){Xp(l);var m=Ec(p),b=Jp(m).concat(Vd(m));return xc(b,function(k){(!Es||Yp(Cb,m,k))&&Sc(l,k,m[k])}),l},Uu=function(l,p){return p===void 0?Fo(l):Ud(Fo(l),p)},Cb=function(l){var p=Qp(l),m=Yp(Ib,this,p);return this===hi&&Fr(Ee,p)&&!Fr(ks,p)?!1:m||!Fr(this,p)||!Fr(Ee,p)||Fr(this,$n)&&this[$n][p]?m:!0},zo=function(l,p){var m=Ec(l),b=Qp(p);if(!(m===hi&&Fr(Ee,b)&&!Fr(ks,b))){var k=oy(m,b);return k&&Fr(Ee,b)&&!(Fr(m,$n)&&m[$n][b])&&(k.enumerable=!0),k}},Pb=function(l){var p=ay(Ec(l)),m=[];return xc(p,function(b){!Fr(Ee,b)&&!Fr(ny,b)&&Rn(m,b)}),m},Vd=function(a){var l=a===hi,p=ay(l?ks:Ec(a)),m=[];return xc(p,function(b){Fr(Ee,b)&&(!l||Fr(hi,b))&&Rn(m,Ee[b])}),m};Fu||(xa=function(){if(dk(Bu,this))throw Sb("Symbol is not a constructor");var l=!arguments.length||arguments[0]===void 0?void 0:fk(arguments[0]),p=Ld(l),m=function(b){this===hi&&Yp(m,ks,b),Fr(this,$n)&&Fr(this[$n],p)&&(this[$n][p]=!1),Hu(this,p,jd(1,b))};return Es&&Ta&&Hu(hi,p,{configurable:!0,set:m}),Hd(p,l)},Bu=xa[Tc],ry(Bu,"toString",function(){return iy(this).tag}),ry(xa,"withoutSetter",function(a){return Hd(Ld(a),a)}),Fd.f=Cb,Ob.f=Sc,ty.f=Ud,ey.f=zo,vk.f=Zp.f=Pb,Eb.f=Vd,pk.f=function(a){return Hd(Os(a),a)},Es&&Oc(Bu,"description",{configurable:!0,get:function(){return iy(this).description}})),Rd({global:!0,constructor:!0,wrap:!0,forced:!Fu,sham:!Fu},{Symbol:xa}),xc(Jp(yk),function(a){xb(a)}),Rd({target:zd,stat:!0,forced:!Fu},{useSetter:function(){Ta=!0},useSimple:function(){Ta=!1}}),Rd({target:"Object",stat:!0,forced:!Fu,sham:!Es},{create:Uu,defineProperty:Sc,defineProperties:Ud,getOwnPropertyDescriptor:zo}),Rd({target:"Object",stat:!0,forced:!Fu},{getOwnPropertyNames:Pb}),Lo(),Bd(xa,zd),ny[$n]=!0;var Ab=bu,Db=Ab&&!!Symbol.for&&!!Symbol.keyFor,Nb=at,sy=Mr,$b=kr,Wd=Ai,qd=_u,gk=Db,uy=qd("string-to-symbol-registry"),mk=qd("symbol-to-string-registry");Nb({target:"Symbol",stat:!0,forced:!gk},{for:function(a){var l=Wd(a);if($b(uy,l))return uy[l];var p=sy("Symbol")(l);return uy[l]=p,mk[p]=l,p}});var Vu=at,bk=kr,ly=Io,Rb=Xi,_k=_u,Mb=Db,jb=_k("symbol-to-string-registry");Vu({target:"Symbol",stat:!0,forced:!Mb},{keyFor:function(l){if(!ly(l))throw TypeError(Rb(l)+" is not a symbol");if(bk(jb,l))return jb[l]}});var Fb=nt,Wu=Fb([].slice),wk=nt,Lb=Ji,Ek=Ht,cy=it,Ok=Ai,Bb=wk([].push),Ic=function(a){if(Ek(a))return a;if(Lb(a)){for(var l=a.length,p=[],m=0;m<l;m++){var b=a[m];typeof b=="string"?Bb(p,b):(typeof b=="number"||cy(b)=="Number"||cy(b)=="String")&&Bb(p,Ok(b))}var k=p.length,I=!0;return function($,A){if(I)return I=!1,A;if(Lb(this))return A;for(var z=0;z<k;z++)if(p[z]===$)return A}}},kk=at,zb=Mr,Cc=we,Hb=re,qu=nt,Ub=q,Vb=Ht,Wb=Io,hy=Wu,xk=Ic,Tk=bu,dy=String,Ho=zb("JSON","stringify"),Pc=qu(/./.exec),qb=qu("".charAt),Gu=qu("".charCodeAt),xs=qu("".replace),Gb=qu(1 .toString),Ac=/[\uD800-\uDFFF]/g,fy=/^[\uD800-\uDBFF]$/,Yb=/^[\uDC00-\uDFFF]$/,Gd=!Tk||Ub(function(){var a=zb("Symbol")();return Ho([a])!="[null]"||Ho({a})!="{}"||Ho(Object(a))!="{}"}),lr=Ub(function(){return Ho("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ho("\uDEAD")!=='"\\udead"'}),Sk=function(a,l){var p=hy(arguments),m=xk(l);if(!(!Vb(m)&&(a===void 0||Wb(a))))return p[1]=function(b,k){if(Vb(m)&&(k=Hb(m,this,dy(b),k)),!Wb(k))return k},Cc(Ho,null,p)},Kb=function(a,l,p){var m=qb(p,l-1),b=qb(p,l+1);return Pc(fy,a)&&!Pc(Yb,b)||Pc(Yb,a)&&!Pc(fy,m)?"\\u"+Gb(Gu(a,0),16):a};Ho&&kk({target:"JSON",stat:!0,arity:3,forced:Gd||lr},{stringify:function(l,p,m){var b=hy(arguments),k=Cc(Gd?Sk:Ho,null,b);return lr&&typeof k=="string"?xs(k,Ac,Kb):k}});var Xb=at,Ik=bu,vy=q,py=pc,Ck=vr,Pk=!Ik||vy(function(){py.f(1)});Xb({target:"Object",stat:!0,forced:Pk},{getOwnPropertySymbols:function(l){var p=py.f;return p?p(Ck(l)):[]}});var Ak=Zt;Ak("asyncIterator");var Dk=Zt;Dk("hasInstance");var Qb=Zt;Qb("isConcatSpreadable");var Sa=Zt;Sa("iterator");var ao=Zt;ao("match");var Dc=Zt;Dc("matchAll");var Yu=Zt;Yu("replace");var Yd=Zt;Yd("search");var yy=Zt;yy("species");var Ts=Zt;Ts("split");var Ku=Zt,Nk=gc;Ku("toPrimitive"),Nk();var Lr=Mr,Jb=Zt,gy=wa;Jb("toStringTag"),gy(Lr("Symbol"),"Symbol");var Kd=Zt;Kd("unscopables");var my=H,$k=wa;$k(my.JSON,"JSON",!0);var Xd=Dt,Nc=Xd.Symbol,Ss={},by=K,$c=kr,_y=Function.prototype,wy=by&&Object.getOwnPropertyDescriptor,Qd=$c(_y,"name"),Zb=Qd&&function(){}.name==="something",Jd=Qd&&(!by||by&&wy(_y,"name").configurable),Ey={EXISTS:Qd,PROPER:Zb,CONFIGURABLE:Jd},Rk=q,Rc=!Rk(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),Zd=kr,Is=Ht,Oy=vr,Mk=hc,jk=Rc,e_=Mk("IE_PROTO"),ky=Object,xy=ky.prototype,Cs=jk?ky.getPrototypeOf:function(a){var l=Oy(a);if(Zd(l,e_))return l[e_];var p=l.constructor;return Is(p)&&l instanceof p?p.prototype:l instanceof ky?xy:null},pn=q,ef=Ht,Mc=Rr,t_=ga,Ty=Cs,di=Ni,Ia=hr,Xu=Ia("iterator"),r_=!1,so,Qu,tf;[].keys&&(tf=[].keys(),"next"in tf?(Qu=Ty(Ty(tf)),Qu!==Object.prototype&&(so=Qu)):r_=!0);var pr=!Mc(so)||pn(function(){var a={};return so[Xu].call(a)!==a});pr?so={}:so=t_(so),ef(so[Xu])||di(so,Xu,function(){return this});var Sy={IteratorPrototype:so,BUGGY_SAFARI_ITERATORS:r_},n_=Sy.IteratorPrototype,Iy=ga,yn=Ve,At=wa,i_=Ss,Cy=function(){return this},o_=function(a,l,p,m){var b=l+" Iterator";return a.prototype=Iy(n_,{next:yn(+!m,p)}),At(a,b,!1,!0),i_[b]=Cy,a},Py=nt,rf=rn,nf=function(a,l,p){try{return Py(rf(Object.getOwnPropertyDescriptor(a,l)[p]))}catch{}},of=Ht,a_=String,s_=TypeError,af=function(a){if(typeof a=="object"||of(a))return a;throw s_("Can't set "+a_(a)+" as a prototype")},Ay=nf,Dy=fn,Fk=af,an=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,l={},p;try{p=Ay(Object.prototype,"__proto__","set"),p(l,[]),a=l instanceof Array}catch{}return function(b,k){return Dy(b),Fk(k),a?p(b,k):b.__proto__=k,b}}():void 0),Lk=at,Bk=re,Ny=Ey,$y=o_,sf=Cs,Ps=wa,u_=Ni,zk=hr,l_=Ss,c_=Sy,Hk=Ny.PROPER;Ny.CONFIGURABLE,c_.IteratorPrototype;var Ju=c_.BUGGY_SAFARI_ITERATORS,uf=zk("iterator"),h_="keys",Ca="values",Zu="entries",d_=function(){return this},Ry=function(a,l,p,m,b,k,I){$y(p,l,m);var $=function(Tt){if(Tt===b&&J)return J;if(!Ju&&Tt in W)return W[Tt];switch(Tt){case h_:return function(){return new p(this,Tt)};case Ca:return function(){return new p(this,Tt)};case Zu:return function(){return new p(this,Tt)}}return function(){return new p(this)}},A=l+" Iterator",z=!1,W=a.prototype,G=W[uf]||W["@@iterator"]||b&&W[b],J=!Ju&&G||$(b),oe=l=="Array"&&W.entries||G,Be,lt,gt;if(oe&&(Be=sf(oe.call(new a)),Be!==Object.prototype&&Be.next&&(Ps(Be,A,!0,!0),l_[A]=d_)),Hk&&b==Ca&&G&&G.name!==Ca&&(z=!0,J=function(){return Bk(G,this)}),b)if(lt={values:$(Ca),keys:k?J:$(h_),entries:$(Zu)},I)for(gt in lt)(Ju||z||!(gt in W))&&u_(W,gt,lt[gt]);else Lk({target:l,proto:!0,forced:Ju||z},lt);return I&&W[uf]!==J&&u_(W,uf,J,{name:b}),l_[l]=J,lt},lf=function(a,l){return{value:a,done:l}},f_=Xe,cf=Ss,As=Ea;Kn.f;var v_=Ry,jc=lf,My="Array Iterator",p_=As.set,jy=As.getterFor(My);v_(Array,"Array",function(a,l){p_(this,{type:My,target:f_(a),index:0,kind:l})},function(){var a=jy(this),l=a.target,p=a.kind,m=a.index++;return!l||m>=l.length?(a.target=void 0,jc(void 0,!0)):p=="keys"?jc(m,!1):p=="values"?jc(l[m],!1):jc([m,l[m]],!1)},"values"),cf.Arguments=cf.Array;var Br={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Uk=Br,Pa=H,hf=Zi,y_=Po,df=Ss,Xn=hr,g_=Xn("toStringTag");for(var Fy in Uk){var Ly=Pa[Fy],ff=Ly&&Ly.prototype;ff&&hf(ff)!==g_&&y_(ff,g_,Fy),df[Fy]=df.Array}var By=Nc,zy=By,Vk=Zt;Vk("dispose");var Wk=zy,m_=Wk,qk=Zt;qk("asyncDispose");var Gk=at,Yk=Mr,Kk=nt,Fc=Yk("Symbol"),Xk=Fc.keyFor,Qk=Kk(Fc.prototype.valueOf);Gk({target:"Symbol",stat:!0},{isRegistered:function(l){try{return Xk(Qk(l))!==void 0}catch{return!1}}});for(var b_=at,__=_u,Hy=Mr,Jk=nt,vf=Io,Zk=hr,pf=Hy("Symbol"),Uy=pf.isWellKnown,w_=Hy("Object","getOwnPropertyNames"),E_=Jk(pf.prototype.valueOf),Vy=__("wks"),Wy=0,qy=w_(pf),yf=qy.length;Wy<yf;Wy++)try{var Gy=qy[Wy];vf(pf[Gy])&&Zk(Gy)}catch{}b_({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(l){if(Uy&&Uy(l))return!0;try{for(var p=E_(l),m=0,b=w_(Vy),k=b.length;m<k;m++)if(Vy[b[m]]==p)return!0}catch{}return!1}});var O_=Zt;O_("matcher");var gf=Zt;gf("metadataKey");var k_=Zt;k_("observable");var Yy=Zt;Yy("metadata");var x_=Zt;x_("patternMatch");var ex=Zt;ex("replaceAll");var T_=m_,S_=T_,Aa=S_,Ky=Aa,Lt=O(Ky),Xy=nt,I_=td,C_=Ai,Ae=fr,P_=Xy("".charAt),mf=Xy("".charCodeAt),tx=Xy("".slice),A_=function(a){return function(l,p){var m=C_(Ae(l)),b=I_(p),k=m.length,I,$;return b<0||b>=k?a?"":void 0:(I=mf(m,b),I<55296||I>56319||b+1===k||($=mf(m,b+1))<56320||$>57343?a?P_(m,b):I:a?tx(m,b,b+2):(I-55296<<10)+($-56320)+65536)}},D_={codeAt:A_(!1),charAt:A_(!0)},N_=D_.charAt,Qy=Ai,$_=Ea,R_=Ry,Jy=lf,M_="String Iterator",j_=$_.set,bf=$_.getterFor(M_);R_(String,"String",function(a){j_(this,{type:M_,string:Qy(a),index:0})},function(){var l=bf(this),p=l.string,m=l.index,b;return m>=p.length?Jy(void 0,!0):(b=N_(p,m),l.index+=b.length,Jy(b,!1))});var el=yc,_f=el.f("iterator"),F_=_f,L_=F_,rx=L_,B_=rx,z_=B_,H_=z_,Zy=H_,U_=Zy,V_=O(U_);function Yr(a){"@babel/helpers - typeof";return Yr=typeof Lt=="function"&&typeof V_=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Lt=="function"&&l.constructor===Lt&&l!==Lt.prototype?"symbol":typeof l},Yr(a)}var nx=yc,ix=nx.f("toPrimitive"),ox=ix,ax=ox,Lc=ax,sx=Lc,ux=sx,lx=ux,cx=lx,wf=cx,W_=O(wf);function q_(a,l){if(Yr(a)!=="object"||a===null)return a;var p=a[W_];if(p!==void 0){var m=p.call(a,l||"default");if(Yr(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(a)}function G_(a){var l=q_(a,"string");return Yr(l)==="symbol"?l:String(l)}function Ef(a,l){for(var p=0;p<l.length;p++){var m=l[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Zh(a,G_(m.key),m)}}function uo(a,l,p){return l&&Ef(a.prototype,l),p&&Ef(a,p),Zh(a,"prototype",{writable:!1}),a}function jt(a,l,p){return l=G_(l),l in a?Zh(a,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):a[l]=p,a}var yr=nt,$i=rn,Uo=Rr,Y_=kr,K_=Wu,X_=ge,Of=Function,hx=yr([].concat),kf=yr([].join),Ar={},dx=function(a,l,p){if(!Y_(Ar,l)){for(var m=[],b=0;b<l;b++)m[b]="a["+b+"]";Ar[l]=Of("C,a","return new C("+kf(m,",")+")")}return Ar[l](a,p)},Q_=X_?Of.bind:function(l){var p=$i(this),m=p.prototype,b=K_(arguments,1),k=function(){var $=hx(b,K_(arguments));return this instanceof k?dx(p,$.length,$):p.apply(l,$)};return Uo(m)&&(k.prototype=m),k},fx=at,J_=Q_;fx({target:"Function",proto:!0,forced:Function.bind!==J_},{bind:J_});var vx=Dt,gn=function(a){return vx[a+"Prototype"]},Wt=gn,px=Wt("Function").bind,yx=mr,gx=px,eg=Function.prototype,Bc=function(a){var l=a.bind;return a===eg||yx(eg,a)&&l===eg.bind?gx:l},Z_=Bc,Da=Z_,mx=Da,Vo=O(mx),dr=rn,ew=vr,mn=oi,bn=li,Na=TypeError,tw=function(a){return function(l,p,m,b){dr(p);var k=ew(l),I=mn(k),$=bn(k),A=a?$-1:0,z=a?-1:1;if(m<2)for(;;){if(A in I){b=I[A],A+=z;break}if(A+=z,a?A<0:$<=A)throw Na("Reduce of empty array with no initial value")}for(;a?A>=0:$>A;A+=z)A in I&&(b=p(b,I[A],A,k));return b}},tl={left:tw(!1),right:tw(!0)},bx=q,Ds=function(a,l){var p=[][a];return!!p&&bx(function(){p.call(null,l||function(){return 1},1)})},xf=it,Wo=typeof process<"u"&&xf(process)=="process",rw=at,_n=tl.left,_x=Ds,zc=mu,tg=Wo,wx=!tg&&zc>79&&zc<83,er=wx||!_x("reduce");rw({target:"Array",proto:!0,forced:er},{reduce:function(l){var p=arguments.length;return _n(this,l,p,p>1?arguments[1]:void 0)}});var Ex=gn,Ox=Ex("Array").reduce,kx=mr,nw=Ox,rg=Array.prototype,ng=function(a){var l=a.reduce;return a===rg||kx(rg,a)&&l===rg.reduce?nw:l},xx=ng,Tf=xx,$a=Tf,Ra=O($a),iw=at,Tx=ka.filter,ig=va,Sx=ig("filter");iw({target:"Array",proto:!0,forced:!Sx},{filter:function(l){return Tx(this,l,arguments.length>1?arguments[1]:void 0)}});var Ix=gn,Cx=Ix("Array").filter,og=mr,ow=Cx,ag=Array.prototype,Px=function(a){var l=a.filter;return a===ag||og(ag,a)&&l===ag.filter?ow:l},Ax=Px,Dx=Ax,sg=Dx,zr=O(sg),aw=at,Nx=ka.map,sw=va,$x=sw("map");aw({target:"Array",proto:!0,forced:!$x},{map:function(l){return Nx(this,l,arguments.length>1?arguments[1]:void 0)}});var Rx=gn,ug=Rx("Array").map,Mx=mr,qo=ug,lg=Array.prototype,jx=function(a){var l=a.map;return a===lg||Mx(lg,a)&&l===lg.map?qo:l},Fx=jx,Lx=Fx,cg=Lx,Qn=O(cg),Bx=Ji,zx=li,Hx=rc,Ux=ca,uw=function(a,l,p,m,b,k,I,$){for(var A=b,z=0,W=I?Ux(I,$):!1,G,J;z<m;)z in p&&(G=W?W(p[z],z,l):p[z],k>0&&Bx(G)?(J=zx(G),A=uw(a,l,G,J,A,k-1)-1):(Hx(A+1),a[A]=G),A++),z++;return A},Sf=uw,lw=at,cw=Sf,Vx=rn,hw=vr,Wx=li,hg=dd;lw({target:"Array",proto:!0},{flatMap:function(l){var p=hw(this),m=Wx(p),b;return Vx(l),b=hg(p,0),b.length=cw(b,p,p,m,0,1,l,arguments.length>1?arguments[1]:void 0),b}});var dg=gn,fg=dg("Array").flatMap,qx=mr,lo=fg,Ma=Array.prototype,vg=function(a){var l=a.flatMap;return a===Ma||qx(Ma,a)&&l===Ma.flatMap?lo:l},Gx=vg,dw=Gx,pg=dw,fw=O(pg);function Yx(a){return new Kx(a)}var vw=function(){function a(l,p,m){var b,k,I;g(this,a),jt(this,"_source",void 0),jt(this,"_transformers",void 0),jt(this,"_target",void 0),jt(this,"_listeners",{add:Vo(b=this._add).call(b,this),remove:Vo(k=this._remove).call(k,this),update:Vo(I=this._update).call(I,this)}),this._source=l,this._transformers=p,this._target=m}return uo(a,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(p){var m;return Ra(m=this._transformers).call(m,function(b,k){return k(b)},p)}},{key:"_add",value:function(p,m){m!=null&&this._target.add(this._transformItems(this._source.get(m.items)))}},{key:"_update",value:function(p,m){m!=null&&this._target.update(this._transformItems(this._source.get(m.items)))}},{key:"_remove",value:function(p,m){m!=null&&this._target.remove(this._transformItems(m.oldData))}}]),a}(),Kx=function(){function a(l){g(this,a),jt(this,"_source",void 0),jt(this,"_transformers",[]),this._source=l}return uo(a,[{key:"filter",value:function(p){return this._transformers.push(function(m){return zr(m).call(m,p)}),this}},{key:"map",value:function(p){return this._transformers.push(function(m){return Qn(m).call(m,p)}),this}},{key:"flatMap",value:function(p){return this._transformers.push(function(m){return fw(m).call(m,p)}),this}},{key:"to",value:function(p){return new vw(this._source,this._transformers,p)}}]),a}(),yg=re,pw=fn,wn=Vl,If=function(a,l,p){var m,b;pw(a);try{if(m=wn(a,"return"),!m){if(l==="throw")throw p;return p}m=yg(m,a)}catch(k){b=!0,m=k}if(l==="throw")throw p;if(b)throw m;return pw(m),p},gg=fn,Xx=If,mg=function(a,l,p,m){try{return m?l(gg(p)[0],p[1]):l(p)}catch(b){Xx(a,"throw",b)}},yw=hr,Qx=Ss,Jx=yw("iterator"),Cf=Array.prototype,Pf=function(a){return a!==void 0&&(Qx.Array===a||Cf[Jx]===a)},gw=Zi,mw=Vl,Zx=Ti,eT=Ss,tT=hr,bw=tT("iterator"),ja=function(a){if(!Zx(a))return mw(a,bw)||mw(a,"@@iterator")||eT[gw(a)]},_w=re,bg=rn,ww=fn,Ew=Xi,_g=ja,Ri=TypeError,Af=function(a,l){var p=arguments.length<2?_g(a):l;if(bg(p))return ww(_w(p,a));throw Ri(Ew(a)+" is not iterable")},Ow=ca,rT=re,Df=vr,wg=mg,nT=Pf,Mi=cd,fi=li,Ns=Tu,Fa=Af,Ot=ja,Eg=Array,kw=function(l){var p=Df(l),m=Mi(this),b=arguments.length,k=b>1?arguments[1]:void 0,I=k!==void 0;I&&(k=Ow(k,b>2?arguments[2]:void 0));var $=Ot(p),A=0,z,W,G,J,oe,Be;if($&&!(this===Eg&&nT($)))for(J=Fa(p,$),oe=J.next,W=m?new this:[];!(G=rT(oe,J)).done;A++)Be=I?wg(J,k,[G.value,A],!0):G.value,Ns(W,A,Be);else for(z=fi(p),W=m?new this(z):Eg(z);z>A;A++)Be=I?k(p[A],A):p[A],Ns(W,A,Be);return W.length=A,W},vi=hr,co=vi("iterator"),Nf=!1;try{var $f=0,$s={next:function(){return{done:!!$f++}},return:function(){Nf=!0}};$s[co]=function(){return this},Array.from($s,function(){throw 2})}catch{}var Og=function(a,l){if(!l&&!Nf)return!1;var p=!1;try{var m={};m[co]=function(){return{next:function(){return{done:p=!0}}}},a(m)}catch{}return p},xw=at,kg=kw,xg=Og,Rs=!xg(function(a){Array.from(a)});xw({target:"Array",stat:!0,forced:Rs},{from:kg});var Hc=Dt,Uc=Hc.Array.from,Rf=Uc,Tg=Rf,iT=Tg,Mf=O(iT),rl=ja,Sg=rl,Tw=Sg,sn=Tw,Sr=sn,En=Sr,Vc=En,Mn=Vc,Wc=Mn,nl=Wc,ji=O(nl),ho=Dt,La=ho.Object.getOwnPropertySymbols,Sw=La,Iw=Sw,jf=Iw,pi=O(jf),qc={exports:{}},Fi=at,yi=q,jn=Xe,il=j.f,fo=K,vo=!fo||yi(function(){il(1)});Fi({target:"Object",stat:!0,forced:vo,sham:!fo},{getOwnPropertyDescriptor:function(l,p){return il(jn(l),p)}});var Ff=Dt,Ig=Ff.Object,Ms=qc.exports=function(l,p){return Ig.getOwnPropertyDescriptor(l,p)};Ig.getOwnPropertyDescriptor.sham&&(Ms.sham=!0);var js=qc.exports,Cg=js,Ba=Cg,ol=Ba,Fs=O(ol),Pg=Mr,Ls=nt,Go=Di,Bs=pc,Gc=fn,al=Ls([].concat),zs=Pg("Reflect","ownKeys")||function(l){var p=Go.f(Gc(l)),m=Bs.f;return m?al(p,m(l)):p},Ag=at,Yc=K,Dg=zs,Kc=Xe,Xc=j,oT=Tu;Ag({target:"Object",stat:!0,sham:!Yc},{getOwnPropertyDescriptors:function(l){for(var p=Kc(l),m=Xc.f,b=Dg(p),k={},I=0,$,A;b.length>I;)A=m(p,$=b[I++]),A!==void 0&&oT(k,$,A);return k}});var On=Dt,_r=On.Object.getOwnPropertyDescriptors,Fn=_r,Qc=Fn,Jc=Qc,sl=O(Jc),Hs={exports:{}},Li=at,Kr=K,za=bd.f;Li({target:"Object",stat:!0,forced:Object.defineProperties!==za,sham:!Kr},{defineProperties:za});var Zc=Dt,Lf=Zc.Object,Ha=Hs.exports=function(l,p){return Lf.defineProperties(l,p)};Lf.defineProperties.sham&&(Ha.sham=!0);var Bi=Hs.exports,Yo=Bi,Ua=Yo,Bf=Ua,zf=O(Bf),Ng=Qh,Hf=O(Ng),eh=at,Uf=Ji;eh({target:"Array",stat:!0},{isArray:Uf});var $g=Dt,Rg=$g.Array.isArray,Cw=Rg,Pw=Cw,th=Pw,rh=th,ul=rh,Mg=ul,ll=Mg,Us=ll,jg=O(Us);function aT(a){if(jg(a))return a}function Fg(a,l){var p=a==null?null:typeof Lt<"u"&&ji(a)||a["@@iterator"];if(p!=null){var m,b,k,I,$=[],A=!0,z=!1;try{if(k=(p=p.call(a)).next,l===0){if(Object(p)!==p)return;A=!1}else for(;!(A=(m=k.call(p)).done)&&($.push(m.value),$.length!==l);A=!0);}catch(W){z=!0,b=W}finally{try{if(!A&&p.return!=null&&(I=p.return(),Object(I)!==I))return}finally{if(z)throw b}}return $}}var Lg=at,nh=Ji,cl=cd,hl=Rr,Bg=_d,Vf=li,sT=Xe,Ko=Tu,zg=hr,uT=va,Aw=Wu,Dw=uT("slice"),lT=zg("species"),dl=Array,fl=Math.max;Lg({target:"Array",proto:!0,forced:!Dw},{slice:function(l,p){var m=sT(this),b=Vf(m),k=Bg(l,b),I=Bg(p===void 0?b:p,b),$,A,z;if(nh(m)&&($=m.constructor,cl($)&&($===dl||nh($.prototype))?$=void 0:hl($)&&($=$[lT],$===null&&($=void 0)),$===dl||$===void 0))return Aw(m,k,I);for(A=new($===void 0?dl:$)(fl(I-k,0)),z=0;k<I;k++,z++)k in m&&Ko(A,z,m[k]);return A.length=z,A}});var Xo=gn,cT=Xo("Array").slice,ih=mr,Nw=cT,Va=Array.prototype,oh=function(a){var l=a.slice;return a===Va||ih(Va,a)&&l===Va.slice?Nw:l},vl=oh,Hg=vl,Wf=Hg,Ug=Wf,Vg=Ug,Qo=Vg,Ln=Qo,qf=Ln,$w=O(qf),Wg=Tg,Gf=Wg,Rw=Gf,qg=Rw,Mw=qg,Gg=Mw,Yf=O(Gg);function Kf(a,l){(l==null||l>a.length)&&(l=a.length);for(var p=0,m=new Array(l);p<l;p++)m[p]=a[p];return m}function Vs(a,l){var p;if(a){if(typeof a=="string")return Kf(a,l);var m=$w(p=Object.prototype.toString.call(a)).call(p,8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Yf(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Kf(a,l)}}function Yg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(a,l){return aT(a)||Fg(a,l)||Vs(a,l)||Yg()}function hT(a){if(jg(a))return Kf(a)}function jw(a){if(typeof Lt<"u"&&ji(a)!=null||a["@@iterator"]!=null)return Yf(a)}function Kg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(a){return hT(a)||jw(a)||Vs(a)||Kg()}var Xg=zy,Bn=O(Xg),dT=gn,fT=dT("Array").concat,Fw=mr,vT=fT,po=Array.prototype,Jo=function(a){var l=a.concat;return a===po||Fw(po,a)&&l===po.concat?vT:l},Lw=Jo,Ws=Lw,Bw=Ws,Zo=O(Bw),Xf=Hg,Yt=O(Xf),ah=at,pT=zs;ah({target:"Reflect",stat:!0},{ownKeys:pT});var kt=Dt,Qg=kt.Reflect.ownKeys,gi=Qg,zw=gi,Jg=zw,qs=O(Jg),Qf=Pw,Xr=O(Qf),Zg=at,Hw=vr,mi=ya,Jn=q,Gs=Jn(function(){mi(1)});Zg({target:"Object",stat:!0,forced:Gs},{keys:function(l){return mi(Hw(l))}});var Wa=Dt,yT=Wa.Object.keys,gT=yT,em=gT,sh=em,tm=O(sh),Uw=ka.forEach,Ys=Ds,uh=Ys("forEach"),mT=uh?[].forEach:function(l){return Uw(this,l,arguments.length>1?arguments[1]:void 0)},bT=at,Vw=mT;bT({target:"Array",proto:!0,forced:[].forEach!=Vw},{forEach:Vw});var pl=gn,_T=pl("Array").forEach,lh=_T,wT=lh,Ks=Zi,Jf=kr,Xs=mr,Ir=wT,ch=Array.prototype,yo={DOMTokenList:!0,NodeList:!0},Qs=function(a){var l=a.forEach;return a===ch||Xs(ch,a)&&l===ch.forEach||Jf(yo,Ks(a))?Ir:l},wt=Qs,Ke=O(wt),kn=at,Dr=nt,yl=Ji,Ww=Dr([].reverse),zi=[1,2];kn({target:"Array",proto:!0,forced:String(zi)===String(zi.reverse())},{reverse:function(){return yl(this)&&(this.length=this.length),Ww(this)}});var qw=gn,Gw=qw("Array").reverse,ET=mr,Yw=Gw,Xt=Array.prototype,rm=function(a){var l=a.reverse;return a===Xt||ET(Xt,a)&&l===Xt.reverse?Yw:l},Zn=rm,nm=Zn,Kw=nm,gl=O(Kw),xn=K,im=Ji,om=TypeError,Xw=Object.getOwnPropertyDescriptor,Zf=xn&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}(),OT=Zf?function(a,l){if(im(a)&&!Xw(a,"length").writable)throw om("Cannot set read only .length");return a.length=l}:function(a,l){return a.length=l},ev=Xi,kT=TypeError,tv=function(a,l){if(!delete a[l])throw kT("Cannot delete property "+ev(l)+" of "+ev(a))},am=at,Qw=vr,rv=_d,xT=td,Jw=li,TT=OT,sm=rc,ml=dd,hh=Tu,dh=tv,nv=va,Zw=nv("splice"),e1=Math.max,t1=Math.min;am({target:"Array",proto:!0,forced:!Zw},{splice:function(l,p){var m=Qw(this),b=Jw(m),k=rv(l,b),I=arguments.length,$,A,z,W,G,J;for(I===0?$=A=0:I===1?($=0,A=b-k):($=I-2,A=t1(e1(xT(p),0),b-k)),sm(b+$-A),z=ml(m,A),W=0;W<A;W++)G=k+W,G in m&&hh(z,W,m[G]);if(z.length=A,$<A){for(W=k;W<b-A;W++)G=W+A,J=W+$,G in m?m[J]=m[G]:dh(m,J);for(W=b;W>b-A+$;W--)dh(m,W-1)}else if($>A)for(W=b-A;W>k;W--)G=W+A-1,J=W+$-1,G in m?m[J]=m[G]:dh(m,J);for(W=0;W<$;W++)m[W+k]=arguments[W+2];return TT(m,b-A+$),z}});var r1=gn,qa=r1("Array").splice,um=mr,iv=qa,fh=Array.prototype,ov=function(a){var l=a.splice;return a===fh||um(fh,a)&&l===fh.splice?iv:l},n1=ov,i1=n1,ea=i1,Ga=O(ea),vh=K,ST=nt,bl=re,IT=q,lm=ya,CT=pc,PT=de,cm=vr,o1=oi,Ya=Object.assign,hm=Object.defineProperty,av=ST([].concat),dm=!Ya||IT(function(){if(vh&&Ya({b:1},Ya(hm({},"a",{enumerable:!0,get:function(){hm(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},l={},p=Symbol(),m="abcdefghijklmnopqrst";return a[p]=7,m.split("").forEach(function(b){l[b]=b}),Ya({},a)[p]!=7||lm(Ya({},l)).join("")!=m})?function(l,p){for(var m=cm(l),b=arguments.length,k=1,I=CT.f,$=PT.f;b>k;)for(var A=o1(arguments[k++]),z=I?av(lm(A),I(A)):lm(A),W=z.length,G=0,J;W>G;)J=z[G++],(!vh||bl($,A,J))&&(m[J]=A[J]);return m}:Ya,fm=at,Ka=dm;fm({target:"Object",stat:!0,arity:2,forced:Object.assign!==Ka},{assign:Ka});var ph=Dt,vm=ph.Object.assign,_l=vm,Js=_l,sv=Js,a1=O(sv),AT=at,yh=q,DT=vr,s1=Cs,NT=Rc,$T=yh(function(){s1(1)});AT({target:"Object",stat:!0,forced:$T,sham:!NT},{getPrototypeOf:function(l){return s1(DT(l))}});var RT=Dt,MT=RT.Object.getPrototypeOf,pm=MT,u1=pm,jT=at,l1=K,c1=ga;jT({target:"Object",stat:!0,sham:!l1},{create:c1});var FT=Dt,gh=FT.Object,Hi=function(l,p){return gh.create(l,p)},h1=Hi,uv=h1,LT=uv,ym=O(LT),lv=Dt,d1=we;lv.JSON||(lv.JSON={stringify:JSON.stringify});var cv=function(l,p,m){return d1(lv.JSON.stringify,null,arguments)},Xa=cv,wl=Xa,BT=wl,zT=O(BT),HT=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",UT=TypeError,hv=function(a,l){if(a<l)throw UT("Not enough arguments");return a},gm=H,VT=we,mh=Ht,mm=HT,dv=Yi,bm=Wu,f1=hv,v1=gm.Function,p1=/MSIE .\./.test(dv)||mm&&function(){var a=gm.Bun.version.split(".");return a.length<3||a[0]==0&&(a[1]<3||a[1]==3&&a[2]==0)}(),El=function(a,l){var p=l?2:1;return p1?function(m,b){var k=f1(arguments.length,1)>p,I=mh(m)?m:v1(m),$=k?bm(arguments,p):[],A=k?function(){VT(I,this,$)}:I;return l?a(A,b):a(A)}:a},y1=at,_m=H,go=El,wm=go(_m.setInterval,!0);y1({global:!0,bind:!0,forced:_m.setInterval!==wm},{setInterval:wm});var WT=at,fv=H,qT=El,vv=qT(fv.setTimeout,!0);WT({global:!0,bind:!0,forced:fv.setTimeout!==vv},{setTimeout:vv});var bh=Dt,Em=bh.setTimeout,ta=Em,pv=O(ta),yv={exports:{}};(function(a){a.exports=l;function l(m){if(m)return p(m)}function p(m){for(var b in l.prototype)m[b]=l.prototype[b];return m}l.prototype.on=l.prototype.addEventListener=function(m,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+m]=this._callbacks["$"+m]||[]).push(b),this},l.prototype.once=function(m,b){function k(){this.off(m,k),b.apply(this,arguments)}return k.fn=b,this.on(m,k),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(m,b){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var k=this._callbacks["$"+m];if(!k)return this;if(arguments.length==1)return delete this._callbacks["$"+m],this;for(var I,$=0;$<k.length;$++)if(I=k[$],I===b||I.fn===b){k.splice($,1);break}return k.length===0&&delete this._callbacks["$"+m],this},l.prototype.emit=function(m){this._callbacks=this._callbacks||{};for(var b=new Array(arguments.length-1),k=this._callbacks["$"+m],I=1;I<arguments.length;I++)b[I-1]=arguments[I];if(k){k=k.slice(0);for(var I=0,$=k.length;I<$;++I)k[I].apply(this,b)}return this},l.prototype.listeners=function(m){return this._callbacks=this._callbacks||{},this._callbacks["$"+m]||[]},l.prototype.hasListeners=function(m){return!!this.listeners(m).length}})(yv);var Om=yv.exports,GT=O(Om);function bi(){return bi=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(a[m]=p[m])}return a},bi.apply(this,arguments)}function zn(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}function Ol(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var gv;typeof Object.assign!="function"?gv=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var p=Object(l),m=1;m<arguments.length;m++){var b=arguments[m];if(b!=null)for(var k in b)b.hasOwnProperty(k)&&(p[k]=b[k])}return p}:gv=Object.assign;var ra=gv,mo=["","webkit","Moz","MS","ms","o"],YT=typeof document>"u"?{style:{}}:document.createElement("div"),g1="function",kl=Math.round,_i=Math.abs,Tn=Date.now;function Zs(a,l){for(var p,m,b=l[0].toUpperCase()+l.slice(1),k=0;k<mo.length;){if(p=mo[k],m=p?p+b:l,m in a)return m;k++}}var na;typeof window>"u"?na={}:na=window;var _h=Zs(YT.style,"touchAction"),km=_h!==void 0;function m1(){if(!km)return!1;var a={},l=na.CSS&&na.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(p){return a[p]=l?na.CSS.supports("touch-action",p):!0}),a}var b1="compute",wh="auto",xl="manipulation",bo="none",Tl="pan-x",Eh="pan-y",mv=m1(),KT=/mobile|tablet|ip(ad|hone|od)|android/i,_1="ontouchstart"in na,XT=Zs(na,"PointerEvent")!==void 0,bv=_1&&KT.test(navigator.userAgent),Sl="touch",w1="pen",_v="mouse",E1="kinect",O1=25,Sn=1,eu=2,Cr=4,Hn=8,wv=1,tu=2,ru=4,Qa=8,nu=16,_o=tu|ru,iu=Qa|nu,k1=_o|iu,x1=["x","y"],Ev=["clientX","clientY"];function Ui(a,l,p){var m;if(a)if(a.forEach)a.forEach(l,p);else if(a.length!==void 0)for(m=0;m<a.length;)l.call(p,a[m],m,a),m++;else for(m in a)a.hasOwnProperty(m)&&l.call(p,a[m],m,a)}function Ov(a,l){return typeof a===g1?a.apply(l&&l[0]||void 0,l):a}function ou(a,l){return a.indexOf(l)>-1}function xm(a){if(ou(a,bo))return bo;var l=ou(a,Tl),p=ou(a,Eh);return l&&p?bo:l||p?l?Tl:Eh:ou(a,xl)?xl:wh}var T1=function(){function a(p,m){this.manager=p,this.set(m)}var l=a.prototype;return l.set=function(m){m===b1&&(m=this.compute()),km&&this.manager.element.style&&mv[m]&&(this.manager.element.style[_h]=m),this.actions=m.toLowerCase().trim()},l.update=function(){this.set(this.manager.options.touchAction)},l.compute=function(){var m=[];return Ui(this.manager.recognizers,function(b){Ov(b.options.enable,[b])&&(m=m.concat(b.getTouchAction()))}),xm(m.join(" "))},l.preventDefaults=function(m){var b=m.srcEvent,k=m.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var I=this.actions,$=ou(I,bo)&&!mv[bo],A=ou(I,Eh)&&!mv[Eh],z=ou(I,Tl)&&!mv[Tl];if($){var W=m.pointers.length===1,G=m.distance<2,J=m.deltaTime<250;if(W&&G&&J)return}if(!(z&&A)&&($||A&&k&_o||z&&k&iu))return this.preventSrc(b)},l.preventSrc=function(m){this.manager.session.prevented=!0,m.preventDefault()},a}();function Oh(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}function Tm(a){var l=a.length;if(l===1)return{x:kl(a[0].clientX),y:kl(a[0].clientY)};for(var p=0,m=0,b=0;b<l;)p+=a[b].clientX,m+=a[b].clientY,b++;return{x:kl(p/l),y:kl(m/l)}}function S1(a){for(var l=[],p=0;p<a.pointers.length;)l[p]={clientX:kl(a.pointers[p].clientX),clientY:kl(a.pointers[p].clientY)},p++;return{timeStamp:Tn(),pointers:l,center:Tm(l),deltaX:a.deltaX,deltaY:a.deltaY}}function Ja(a,l,p){p||(p=x1);var m=l[p[0]]-a[p[0]],b=l[p[1]]-a[p[1]];return Math.sqrt(m*m+b*b)}function kv(a,l,p){p||(p=x1);var m=l[p[0]]-a[p[0]],b=l[p[1]]-a[p[1]];return Math.atan2(b,m)*180/Math.PI}function Sm(a,l){return a===l?wv:_i(a)>=_i(l)?a<0?tu:ru:l<0?Qa:nu}function QT(a,l){var p=l.center,m=a.offsetDelta||{},b=a.prevDelta||{},k=a.prevInput||{};(l.eventType===Sn||k.eventType===Cr)&&(b=a.prevDelta={x:k.deltaX||0,y:k.deltaY||0},m=a.offsetDelta={x:p.x,y:p.y}),l.deltaX=b.x+(p.x-m.x),l.deltaY=b.y+(p.y-m.y)}function I1(a,l,p){return{x:l/a||0,y:p/a||0}}function JT(a,l){return Ja(l[0],l[1],Ev)/Ja(a[0],a[1],Ev)}function Im(a,l){return kv(l[1],l[0],Ev)+kv(a[1],a[0],Ev)}function ZT(a,l){var p=a.lastInterval||l,m=l.timeStamp-p.timeStamp,b,k,I,$;if(l.eventType!==Hn&&(m>O1||p.velocity===void 0)){var A=l.deltaX-p.deltaX,z=l.deltaY-p.deltaY,W=I1(m,A,z);k=W.x,I=W.y,b=_i(W.x)>_i(W.y)?W.x:W.y,$=Sm(A,z),a.lastInterval=l}else b=p.velocity,k=p.velocityX,I=p.velocityY,$=p.direction;l.velocity=b,l.velocityX=k,l.velocityY=I,l.direction=$}function C1(a,l){var p=a.session,m=l.pointers,b=m.length;p.firstInput||(p.firstInput=S1(l)),b>1&&!p.firstMultiple?p.firstMultiple=S1(l):b===1&&(p.firstMultiple=!1);var k=p.firstInput,I=p.firstMultiple,$=I?I.center:k.center,A=l.center=Tm(m);l.timeStamp=Tn(),l.deltaTime=l.timeStamp-k.timeStamp,l.angle=kv($,A),l.distance=Ja($,A),QT(p,l),l.offsetDirection=Sm(l.deltaX,l.deltaY);var z=I1(l.deltaTime,l.deltaX,l.deltaY);l.overallVelocityX=z.x,l.overallVelocityY=z.y,l.overallVelocity=_i(z.x)>_i(z.y)?z.x:z.y,l.scale=I?JT(I.pointers,m):1,l.rotation=I?Im(I.pointers,m):0,l.maxPointers=p.prevInput?l.pointers.length>p.prevInput.maxPointers?l.pointers.length:p.prevInput.maxPointers:l.pointers.length,ZT(p,l);var W=a.element,G=l.srcEvent,J;G.composedPath?J=G.composedPath()[0]:G.path?J=G.path[0]:J=G.target,Oh(J,W)&&(W=J),l.target=W}function xv(a,l,p){var m=p.pointers.length,b=p.changedPointers.length,k=l&Sn&&m-b===0,I=l&(Cr|Hn)&&m-b===0;p.isFirst=!!k,p.isFinal=!!I,k&&(a.session={}),p.eventType=l,C1(a,p),a.emit("hammer.input",p),a.recognize(p),a.session.prevInput=p}function Il(a){return a.trim().split(/\s+/g)}function Ur(a,l,p){Ui(Il(l),function(m){a.addEventListener(m,p,!1)})}function au(a,l,p){Ui(Il(l),function(m){a.removeEventListener(m,p,!1)})}function Tv(a){var l=a.ownerDocument||a;return l.defaultView||l.parentWindow||window}var Cl=function(){function a(p,m){var b=this;this.manager=p,this.callback=m,this.element=p.element,this.target=p.options.inputTarget,this.domHandler=function(k){Ov(p.options.enable,[p])&&b.handler(k)},this.init()}var l=a.prototype;return l.handler=function(){},l.init=function(){this.evEl&&Ur(this.element,this.evEl,this.domHandler),this.evTarget&&Ur(this.target,this.evTarget,this.domHandler),this.evWin&&Ur(Tv(this.element),this.evWin,this.domHandler)},l.destroy=function(){this.evEl&&au(this.element,this.evEl,this.domHandler),this.evTarget&&au(this.target,this.evTarget,this.domHandler),this.evWin&&au(Tv(this.element),this.evWin,this.domHandler)},a}();function su(a,l,p){if(a.indexOf&&!p)return a.indexOf(l);for(var m=0;m<a.length;){if(p&&a[m][p]==l||!p&&a[m]===l)return m;m++}return-1}var P1={pointerdown:Sn,pointermove:eu,pointerup:Cr,pointercancel:Hn,pointerout:Hn},Cm={2:Sl,3:w1,4:_v,5:E1},Pl="pointerdown",ue="pointermove pointerup pointercancel";na.MSPointerEvent&&!na.PointerEvent&&(Pl="MSPointerDown",ue="MSPointerMove MSPointerUp MSPointerCancel");var A1=function(a){zn(l,a);function l(){var m,b=l.prototype;return b.evEl=Pl,b.evWin=ue,m=a.apply(this,arguments)||this,m.store=m.manager.session.pointerEvents=[],m}var p=l.prototype;return p.handler=function(b){var k=this.store,I=!1,$=b.type.toLowerCase().replace("ms",""),A=P1[$],z=Cm[b.pointerType]||b.pointerType,W=z===Sl,G=su(k,b.pointerId,"pointerId");A&Sn&&(b.button===0||W)?G<0&&(k.push(b),G=k.length-1):A&(Cr|Hn)&&(I=!0),!(G<0)&&(k[G]=b,this.callback(this.manager,A,{pointers:k,changedPointers:[b],pointerType:z,srcEvent:b}),I&&k.splice(G,1))},l}(Cl);function uu(a){return Array.prototype.slice.call(a,0)}function kh(a,l,p){for(var m=[],b=[],k=0;k<a.length;){var I=l?a[k][l]:a[k];su(b,I)<0&&m.push(a[k]),b[k]=I,k++}return p&&(l?m=m.sort(function($,A){return $[l]>A[l]}):m=m.sort()),m}var Pm={touchstart:Sn,touchmove:eu,touchend:Cr,touchcancel:Hn},qt="touchstart touchmove touchend touchcancel",Bt=function(a){zn(l,a);function l(){var m;return l.prototype.evTarget=qt,m=a.apply(this,arguments)||this,m.targetIds={},m}var p=l.prototype;return p.handler=function(b){var k=Pm[b.type],I=D1.call(this,b,k);I&&this.callback(this.manager,k,{pointers:I[0],changedPointers:I[1],pointerType:Sl,srcEvent:b})},l}(Cl);function D1(a,l){var p=uu(a.touches),m=this.targetIds;if(l&(Sn|eu)&&p.length===1)return m[p[0].identifier]=!0,[p,p];var b,k,I=uu(a.changedTouches),$=[],A=this.target;if(k=p.filter(function(z){return Oh(z.target,A)}),l===Sn)for(b=0;b<k.length;)m[k[b].identifier]=!0,b++;for(b=0;b<I.length;)m[I[b].identifier]&&$.push(I[b]),l&(Cr|Hn)&&delete m[I[b].identifier],b++;if($.length)return[kh(k.concat($),"identifier",!0),$]}var Ue={mousedown:Sn,mousemove:eu,mouseup:Cr},lu="mousedown",Am="mousemove mouseup",Dm=function(a){zn(l,a);function l(){var m,b=l.prototype;return b.evEl=lu,b.evWin=Am,m=a.apply(this,arguments)||this,m.pressed=!1,m}var p=l.prototype;return p.handler=function(b){var k=Ue[b.type];k&Sn&&b.button===0&&(this.pressed=!0),k&eu&&b.which!==1&&(k=Cr),this.pressed&&(k&Cr&&(this.pressed=!1),this.callback(this.manager,k,{pointers:[b],changedPointers:[b],pointerType:_v,srcEvent:b}))},l}(Cl),N1=2500,wi=25;function $1(a){var l=a.changedPointers,p=l[0];if(p.identifier===this.primaryTouch){var m={x:p.clientX,y:p.clientY},b=this.lastTouches;this.lastTouches.push(m);var k=function(){var $=b.indexOf(m);$>-1&&b.splice($,1)};setTimeout(k,N1)}}function Nm(a,l){a&Sn?(this.primaryTouch=l.changedPointers[0].identifier,$1.call(this,l)):a&(Cr|Hn)&&$1.call(this,l)}function eS(a){for(var l=a.srcEvent.clientX,p=a.srcEvent.clientY,m=0;m<this.lastTouches.length;m++){var b=this.lastTouches[m],k=Math.abs(l-b.x),I=Math.abs(p-b.y);if(k<=wi&&I<=wi)return!0}return!1}var $m=function(){var a=function(l){zn(p,l);function p(b,k){var I;return I=l.call(this,b,k)||this,I.handler=function($,A,z){var W=z.pointerType===Sl,G=z.pointerType===_v;if(!(G&&z.sourceCapabilities&&z.sourceCapabilities.firesTouchEvents)){if(W)Nm.call(Ol(Ol(I)),A,z);else if(G&&eS.call(Ol(Ol(I)),z))return;I.callback($,A,z)}},I.touch=new Bt(I.manager,I.handler),I.mouse=new Dm(I.manager,I.handler),I.primaryTouch=null,I.lastTouches=[],I}var m=p.prototype;return m.destroy=function(){this.touch.destroy(),this.mouse.destroy()},p}(Cl);return a}();function tS(a){var l,p=a.options.inputClass;return p?l=p:XT?l=A1:bv?l=Bt:_1?l=$m:l=Dm,new l(a,xv)}function ei(a,l,p){return Array.isArray(a)?(Ui(a,p[l],p),!0):!1}var xh=1,Ei=2,Al=4,Za=8,ia=Za,Th=16,wo=32,rS=1;function nS(){return rS++}function Sv(a,l){var p=l.manager;return p?p.get(a):a}function R1(a){return a&Th?"cancel":a&Za?"end":a&Al?"move":a&Ei?"start":""}var Sh=function(){function a(p){p===void 0&&(p={}),this.options=bi({enable:!0},p),this.id=nS(),this.manager=null,this.state=xh,this.simultaneous={},this.requireFail=[]}var l=a.prototype;return l.set=function(m){return ra(this.options,m),this.manager&&this.manager.touchAction.update(),this},l.recognizeWith=function(m){if(ei(m,"recognizeWith",this))return this;var b=this.simultaneous;return m=Sv(m,this),b[m.id]||(b[m.id]=m,m.recognizeWith(this)),this},l.dropRecognizeWith=function(m){return ei(m,"dropRecognizeWith",this)?this:(m=Sv(m,this),delete this.simultaneous[m.id],this)},l.requireFailure=function(m){if(ei(m,"requireFailure",this))return this;var b=this.requireFail;return m=Sv(m,this),su(b,m)===-1&&(b.push(m),m.requireFailure(this)),this},l.dropRequireFailure=function(m){if(ei(m,"dropRequireFailure",this))return this;m=Sv(m,this);var b=su(this.requireFail,m);return b>-1&&this.requireFail.splice(b,1),this},l.hasRequireFailures=function(){return this.requireFail.length>0},l.canRecognizeWith=function(m){return!!this.simultaneous[m.id]},l.emit=function(m){var b=this,k=this.state;function I($){b.manager.emit($,m)}k<Za&&I(b.options.event+R1(k)),I(b.options.event),m.additionalEvent&&I(m.additionalEvent),k>=Za&&I(b.options.event+R1(k))},l.tryEmit=function(m){if(this.canEmit())return this.emit(m);this.state=wo},l.canEmit=function(){for(var m=0;m<this.requireFail.length;){if(!(this.requireFail[m].state&(wo|xh)))return!1;m++}return!0},l.recognize=function(m){var b=ra({},m);if(!Ov(this.options.enable,[this,b])){this.reset(),this.state=wo;return}this.state&(ia|Th|wo)&&(this.state=xh),this.state=this.process(b),this.state&(Ei|Al|Za|Th)&&this.tryEmit(b)},l.process=function(m){},l.getTouchAction=function(){},l.reset=function(){},a}(),Rm=function(a){zn(l,a);function l(m){var b;return m===void 0&&(m={}),b=a.call(this,bi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},m))||this,b.pTime=!1,b.pCenter=!1,b._timer=null,b._input=null,b.count=0,b}var p=l.prototype;return p.getTouchAction=function(){return[xl]},p.process=function(b){var k=this,I=this.options,$=b.pointers.length===I.pointers,A=b.distance<I.threshold,z=b.deltaTime<I.time;if(this.reset(),b.eventType&Sn&&this.count===0)return this.failTimeout();if(A&&z&&$){if(b.eventType!==Cr)return this.failTimeout();var W=this.pTime?b.timeStamp-this.pTime<I.interval:!0,G=!this.pCenter||Ja(this.pCenter,b.center)<I.posThreshold;this.pTime=b.timeStamp,this.pCenter=b.center,!G||!W?this.count=1:this.count+=1,this._input=b;var J=this.count%I.taps;if(J===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){k.state=ia,k.tryEmit()},I.interval),Ei):ia}return wo},p.failTimeout=function(){var b=this;return this._timer=setTimeout(function(){b.state=wo},this.options.interval),wo},p.reset=function(){clearTimeout(this._timer)},p.emit=function(){this.state===ia&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},l}(Sh),cu=function(a){zn(l,a);function l(m){return m===void 0&&(m={}),a.call(this,bi({pointers:1},m))||this}var p=l.prototype;return p.attrTest=function(b){var k=this.options.pointers;return k===0||b.pointers.length===k},p.process=function(b){var k=this.state,I=b.eventType,$=k&(Ei|Al),A=this.attrTest(b);return $&&(I&Hn||!A)?k|Th:$||A?I&Cr?k|Za:k&Ei?k|Al:Ei:wo},l}(Sh);function M1(a){return a===nu?"down":a===Qa?"up":a===tu?"left":a===ru?"right":""}var Mm=function(a){zn(l,a);function l(m){var b;return m===void 0&&(m={}),b=a.call(this,bi({event:"pan",threshold:10,pointers:1,direction:k1},m))||this,b.pX=null,b.pY=null,b}var p=l.prototype;return p.getTouchAction=function(){var b=this.options.direction,k=[];return b&_o&&k.push(Eh),b&iu&&k.push(Tl),k},p.directionTest=function(b){var k=this.options,I=!0,$=b.distance,A=b.direction,z=b.deltaX,W=b.deltaY;return A&k.direction||(k.direction&_o?(A=z===0?wv:z<0?tu:ru,I=z!==this.pX,$=Math.abs(b.deltaX)):(A=W===0?wv:W<0?Qa:nu,I=W!==this.pY,$=Math.abs(b.deltaY))),b.direction=A,I&&$>k.threshold&&A&k.direction},p.attrTest=function(b){return cu.prototype.attrTest.call(this,b)&&(this.state&Ei||!(this.state&Ei)&&this.directionTest(b))},p.emit=function(b){this.pX=b.deltaX,this.pY=b.deltaY;var k=M1(b.direction);k&&(b.additionalEvent=this.options.event+k),a.prototype.emit.call(this,b)},l}(cu),j1=function(a){zn(l,a);function l(m){return m===void 0&&(m={}),a.call(this,bi({event:"swipe",threshold:10,velocity:.3,direction:_o|iu,pointers:1},m))||this}var p=l.prototype;return p.getTouchAction=function(){return Mm.prototype.getTouchAction.call(this)},p.attrTest=function(b){var k=this.options.direction,I;return k&(_o|iu)?I=b.overallVelocity:k&_o?I=b.overallVelocityX:k&iu&&(I=b.overallVelocityY),a.prototype.attrTest.call(this,b)&&k&b.offsetDirection&&b.distance>this.options.threshold&&b.maxPointers===this.options.pointers&&_i(I)>this.options.velocity&&b.eventType&Cr},p.emit=function(b){var k=M1(b.offsetDirection);k&&this.manager.emit(this.options.event+k,b),this.manager.emit(this.options.event,b)},l}(cu),jm=function(a){zn(l,a);function l(m){return m===void 0&&(m={}),a.call(this,bi({event:"pinch",threshold:0,pointers:2},m))||this}var p=l.prototype;return p.getTouchAction=function(){return[bo]},p.attrTest=function(b){return a.prototype.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&Ei)},p.emit=function(b){if(b.scale!==1){var k=b.scale<1?"in":"out";b.additionalEvent=this.options.event+k}a.prototype.emit.call(this,b)},l}(cu),F1=function(a){zn(l,a);function l(m){return m===void 0&&(m={}),a.call(this,bi({event:"rotate",threshold:0,pointers:2},m))||this}var p=l.prototype;return p.getTouchAction=function(){return[bo]},p.attrTest=function(b){return a.prototype.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&Ei)},l}(cu),L1=function(a){zn(l,a);function l(m){var b;return m===void 0&&(m={}),b=a.call(this,bi({event:"press",pointers:1,time:251,threshold:9},m))||this,b._timer=null,b._input=null,b}var p=l.prototype;return p.getTouchAction=function(){return[wh]},p.process=function(b){var k=this,I=this.options,$=b.pointers.length===I.pointers,A=b.distance<I.threshold,z=b.deltaTime>I.time;if(this._input=b,!A||!$||b.eventType&(Cr|Hn)&&!z)this.reset();else if(b.eventType&Sn)this.reset(),this._timer=setTimeout(function(){k.state=ia,k.tryEmit()},I.time);else if(b.eventType&Cr)return ia;return wo},p.reset=function(){clearTimeout(this._timer)},p.emit=function(b){this.state===ia&&(b&&b.eventType&Cr?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=Tn(),this.manager.emit(this.options.event,this._input)))},l}(Sh),B1={domEvents:!1,touchAction:b1,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},z1=[[F1,{enable:!1}],[jm,{enable:!1},["rotate"]],[j1,{direction:_o}],[Mm,{direction:_o},["swipe"]],[Rm],[Rm,{event:"doubletap",taps:2},["tap"]],[L1]],iS=1,Fm=2;function H1(a,l){var p=a.element;if(p.style){var m;Ui(a.options.cssProps,function(b,k){m=Zs(p.style,k),l?(a.oldCssProps[m]=p.style[m],p.style[m]=b):p.style[m]=a.oldCssProps[m]||""}),l||(a.oldCssProps={})}}function Ih(a,l){var p=document.createEvent("Event");p.initEvent(a,!0,!0),p.gesture=l,l.target.dispatchEvent(p)}var Lm=function(){function a(p,m){var b=this;this.options=ra({},B1,m||{}),this.options.inputTarget=this.options.inputTarget||p,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=p,this.input=tS(this),this.touchAction=new T1(this,this.options.touchAction),H1(this,!0),Ui(this.options.recognizers,function(k){var I=b.add(new k[0](k[1]));k[2]&&I.recognizeWith(k[2]),k[3]&&I.requireFailure(k[3])},this)}var l=a.prototype;return l.set=function(m){return ra(this.options,m),m.touchAction&&this.touchAction.update(),m.inputTarget&&(this.input.destroy(),this.input.target=m.inputTarget,this.input.init()),this},l.stop=function(m){this.session.stopped=m?Fm:iS},l.recognize=function(m){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(m);var k,I=this.recognizers,$=b.curRecognizer;(!$||$&&$.state&ia)&&(b.curRecognizer=null,$=null);for(var A=0;A<I.length;)k=I[A],b.stopped!==Fm&&(!$||k===$||k.canRecognizeWith($))?k.recognize(m):k.reset(),!$&&k.state&(Ei|Al|Za)&&(b.curRecognizer=k,$=k),A++}},l.get=function(m){if(m instanceof Sh)return m;for(var b=this.recognizers,k=0;k<b.length;k++)if(b[k].options.event===m)return b[k];return null},l.add=function(m){if(ei(m,"add",this))return this;var b=this.get(m.options.event);return b&&this.remove(b),this.recognizers.push(m),m.manager=this,this.touchAction.update(),m},l.remove=function(m){if(ei(m,"remove",this))return this;var b=this.get(m);if(m){var k=this.recognizers,I=su(k,b);I!==-1&&(k.splice(I,1),this.touchAction.update())}return this},l.on=function(m,b){if(m===void 0||b===void 0)return this;var k=this.handlers;return Ui(Il(m),function(I){k[I]=k[I]||[],k[I].push(b)}),this},l.off=function(m,b){if(m===void 0)return this;var k=this.handlers;return Ui(Il(m),function(I){b?k[I]&&k[I].splice(su(k[I],b),1):delete k[I]}),this},l.emit=function(m,b){this.options.domEvents&&Ih(m,b);var k=this.handlers[m]&&this.handlers[m].slice();if(!(!k||!k.length)){b.type=m,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var I=0;I<k.length;)k[I](b),I++}},l.destroy=function(){this.element&&H1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},a}(),U1={touchstart:Sn,touchmove:eu,touchend:Cr,touchcancel:Hn},Iv="touchstart",Bm="touchstart touchmove touchend touchcancel",Un=function(a){zn(l,a);function l(){var m,b=l.prototype;return b.evTarget=Iv,b.evWin=Bm,m=a.apply(this,arguments)||this,m.started=!1,m}var p=l.prototype;return p.handler=function(b){var k=U1[b.type];if(k===Sn&&(this.started=!0),!!this.started){var I=oS.call(this,b,k);k&(Cr|Hn)&&I[0].length-I[1].length===0&&(this.started=!1),this.callback(this.manager,k,{pointers:I[0],changedPointers:I[1],pointerType:Sl,srcEvent:b})}},l}(Cl);function oS(a,l){var p=uu(a.touches),m=uu(a.changedTouches);return l&(Cr|Hn)&&(p=kh(p.concat(m),"identifier",!0)),[p,m]}function zm(a,l,p){var m="DEPRECATED METHOD: "+l+`
`+p+` AT 
`;return function(){var b=new Error("get-stack-trace"),k=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",I=window.console&&(window.console.warn||window.console.log);return I&&I.call(window.console,m,k),a.apply(this,arguments)}}var V1=zm(function(a,l,p){for(var m=Object.keys(l),b=0;b<m.length;)(!p||p&&a[m[b]]===void 0)&&(a[m[b]]=l[m[b]]),b++;return a},"extend","Use `assign`."),W1=zm(function(a,l){return V1(a,l,!0)},"merge","Use `assign`.");function Hm(a,l,p){var m=l.prototype,b;b=a.prototype=Object.create(m),b.constructor=a,b._super=m,p&&ra(b,p)}function q1(a,l){return function(){return a.apply(l,arguments)}}var aS=function(){var a=function(p,m){return m===void 0&&(m={}),new Lm(p,bi({recognizers:z1.concat()},m))};return a.VERSION="2.0.17-rc",a.DIRECTION_ALL=k1,a.DIRECTION_DOWN=nu,a.DIRECTION_LEFT=tu,a.DIRECTION_RIGHT=ru,a.DIRECTION_UP=Qa,a.DIRECTION_HORIZONTAL=_o,a.DIRECTION_VERTICAL=iu,a.DIRECTION_NONE=wv,a.DIRECTION_DOWN=nu,a.INPUT_START=Sn,a.INPUT_MOVE=eu,a.INPUT_END=Cr,a.INPUT_CANCEL=Hn,a.STATE_POSSIBLE=xh,a.STATE_BEGAN=Ei,a.STATE_CHANGED=Al,a.STATE_ENDED=Za,a.STATE_RECOGNIZED=ia,a.STATE_CANCELLED=Th,a.STATE_FAILED=wo,a.Manager=Lm,a.Input=Cl,a.TouchAction=T1,a.TouchInput=Bt,a.MouseInput=Dm,a.PointerEventInput=A1,a.TouchMouseInput=$m,a.SingleTouchInput=Un,a.Recognizer=Sh,a.AttrRecognizer=cu,a.Tap=Rm,a.Pan=Mm,a.Swipe=j1,a.Pinch=jm,a.Rotate=F1,a.Press=L1,a.on=Ur,a.off=au,a.each=Ui,a.merge=W1,a.extend=V1,a.bindFn=q1,a.assign=ra,a.inherit=Hm,a.bindFn=q1,a.prefixed=Zs,a.toArray=uu,a.inArray=su,a.uniqueArray=kh,a.splitStr=Il,a.boolOrFn=Ov,a.hasParent=Oh,a.addEventListeners=Ur,a.removeEventListeners=au,a.defaults=ra({},B1,{preset:z1}),a}(),sS=aS;function G1(a,l){var p=typeof Bn<"u"&&ji(a)||a["@@iterator"];if(!p){if(Xr(a)||(p=uS(a))||l&&a&&typeof a.length=="number"){p&&(a=p);var m=0,b=function(){};return{s:b,n:function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}},e:function(z){throw z},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k=!0,I=!1,$;return{s:function(){p=p.call(a)},n:function(){var z=p.next();return k=z.done,z},e:function(z){I=!0,$=z},f:function(){try{!k&&p.return!=null&&p.return()}finally{if(I)throw $}}}}function uS(a,l){var p;if(a){if(typeof a=="string")return Um(a,l);var m=Yt(p=Object.prototype.toString.call(a)).call(p,8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Mf(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Um(a,l)}}function Um(a,l){(l==null||l>a.length)&&(l=a.length);for(var p=0,m=new Array(l);p<l;p++)m[p]=a[p];return m}var Ch=Bn("DELETE");function Cv(a){for(var l,p=arguments.length,m=new Array(p>1?p-1:0),b=1;b<p;b++)m[b-1]=arguments[b];return es.apply(void 0,Zo(l=[{},a]).call(l,m))}function es(){var a=Dl.apply(void 0,arguments);return Pv(a),a}function Dl(){for(var a=arguments.length,l=new Array(a),p=0;p<a;p++)l[p]=arguments[p];if(l.length<2)return l[0];if(l.length>2){var m;return Dl.apply(void 0,Zo(m=[es(l[0],l[1])]).call(m,Hr(Yt(l).call(l,2))))}var b=l[0],k=l[1],I=G1(qs(k)),$;try{for(I.s();!($=I.n()).done;){var A=$.value;Object.prototype.propertyIsEnumerable.call(k,A)&&(k[A]===Ch?delete b[A]:b[A]!==null&&k[A]!==null&&Yr(b[A])==="object"&&Yr(k[A])==="object"&&!Xr(b[A])&&!Xr(k[A])?b[A]=Dl(b[A],k[A]):b[A]=Y1(k[A]))}}catch(z){I.e(z)}finally{I.f()}return b}function Y1(a){return Xr(a)?Qn(a).call(a,function(l){return Y1(l)}):Yr(a)==="object"&&a!==null?Dl({},a):a}function Pv(a){for(var l=0,p=tm(a);l<p.length;l++){var m=p[l];a[m]===Ch?delete a[m]:Yr(a[m])==="object"&&a[m]!==null&&Pv(a[m])}}function lS(){var a=function(){};return{on:a,off:a,destroy:a,emit:a,get:function(){return{set:a}}}}var K1=typeof window<"u"?window.Hammer||sS:function(){return lS()};function Qt(a){var l=this,p;this._cleanupQueue=[],this.active=!1,this._dom={container:a,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){l._dom.overlay.parentNode.removeChild(l._dom.overlay)});var m=K1(this._dom.overlay);m.on("tap",Vo(p=this._onTapOverlay).call(p,this)),this._cleanupQueue.push(function(){m.destroy()});var b=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ke(b).call(b,function(k){m.on(k,function(I){I.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(k){X1(k.target,a)||l.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",l._onClick)})),this._escListener=function(k){("key"in k?k.key==="Escape":k.keyCode===27)&&l.deactivate()}}GT(Qt.prototype),Qt.current=null,Qt.prototype.destroy=function(){var a,l;this.deactivate();var p=G1(gl(a=Ga(l=this._cleanupQueue).call(l,0)).call(a)),m;try{for(p.s();!(m=p.n()).done;){var b=m.value;b()}}catch(k){p.e(k)}finally{p.f()}},Qt.prototype.activate=function(){Qt.current&&Qt.current.deactivate(),Qt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Qt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Qt.prototype._onTapOverlay=function(a){this.activate(),a.srcEvent.stopPropagation()};function X1(a,l){for(;a;){if(a===l)return!0;a=a.parentNode}return!1}var cS=cd,hS=Xi,Q1=TypeError,J1=function(a){if(cS(a))return a;throw Q1(hS(a)+" is not a constructor")},dS=at,Z1=Mr,Vm=we,fS=Q_,Wm=J1,vS=fn,qm=Rr,Av=ga,Gm=q,Dv=Z1("Reflect","construct"),Ym=Object.prototype,eE=[].push,Nv=Gm(function(){function a(){}return!(Dv(function(){},[],a)instanceof a)}),Km=!Gm(function(){Dv(function(){})}),Vi=Nv||Km;dS({target:"Reflect",stat:!0,forced:Vi,sham:Vi},{construct:function(l,p){Wm(l),vS(p);var m=arguments.length<3?l:Wm(arguments[2]);if(Km&&!Nv)return Dv(l,p,m);if(l==m){switch(p.length){case 0:return new l;case 1:return new l(p[0]);case 2:return new l(p[0],p[1]);case 3:return new l(p[0],p[1],p[2]);case 4:return new l(p[0],p[1],p[2],p[3])}var b=[null];return Vm(eE,b,p),new(Vm(fS,l,b))}var k=m.prototype,I=Av(qm(k)?k:Ym),$=Vm(l,I,p);return qm($)?$:I}});var tE=Dt,rE=tE.Reflect.construct,pS=rE,nE=pS,yS=nE,oa=O(yS);function ti(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var iE=uv,gS=iE,$v=gS,ts=$v,mS=ts,Xm=mS,bS=O(Xm),_S=at,Qm=an;_S({target:"Object",stat:!0},{setPrototypeOf:Qm});var Jm=Dt,Rv=Jm.Object.setPrototypeOf,oE=Rv,hu=oE,wS=hu,ES=wS,OS=ES,Mv=OS,kS=Mv,jv=kS,Nr=O(jv),aE=Da,rs=aE,In=rs,xS=In,Qr=xS,sE=Qr,uE=O(sE);function Ph(a,l){var p;return Ph=Nr?uE(p=Nr).call(p):function(b,k){return b.__proto__=k,b},Ph(a,l)}function Nl(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=bS(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Zh(a,"prototype",{writable:!1}),l&&Ph(a,l)}function Fv(a,l){if(l&&(Yr(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ti(a)}var lE=u1,Lv=lE,Bv=Lv,Eo=Bv,cE=Eo,Ah=cE,Zm=O(Ah);function ri(a){var l;return ri=Nr?uE(l=Zm).call(l):function(m){return m.__proto__||Zm(m)},ri(a)}var zv={exports:{}},Hv={exports:{}};(function(a){var l=Ky,p=U_;function m(b){"@babel/helpers - typeof";return a.exports=m=typeof l=="function"&&typeof p=="symbol"?function(k){return typeof k}:function(k){return k&&typeof l=="function"&&k.constructor===l&&k!==l.prototype?"symbol":typeof k},a.exports.__esModule=!0,a.exports.default=a.exports,m(b)}a.exports=m,a.exports.__esModule=!0,a.exports.default=a.exports})(Hv);var Uv=Hv.exports,hE=Qs,TS=hE,dE=TS,e0=dE,SS=e0,t0=SS,s=kr,c=zs,f=j,y=Kn,w=function(a,l,p){for(var m=c(l),b=y.f,k=f.f,I=0;I<m.length;I++){var $=m[I];!s(a,$)&&!(p&&s(p,$))&&b(a,$,k(l,$))}},x=Rr,C=Po,D=function(a,l){x(l)&&"cause"in l&&C(a,"cause",l.cause)},M=nt,B=Error,Q=M("".replace),Y=function(a){return String(B(a).stack)}("zxcasd"),ae=/\n\s*at [^:]*:[^\n]*/,xe=ae.test(Y),Le=function(a,l){if(xe&&typeof a=="string"&&!B.prepareStackTrace)for(;l--;)a=Q(a,ae,"");return a},je=q,Qe=Ve,vt=!je(function(){var a=Error("a");return"stack"in a?(Object.defineProperty(a,"stack",Qe(1,7)),a.stack!==7):!0}),et=Po,Kt=Le,Nt=vt,cr=Error.captureStackTrace,Vn=function(a,l,p,m){Nt&&(cr?cr(a,l):et(a,"stack",Kt(p,m)))},Vr=ca,Jr=re,ln=fn,Wn=Xi,$l=Pf,Rl=li,Wi=mr,r0=Af,Vv=ja,n0=If,i0=TypeError,aa=function(a,l){this.stopped=a,this.result=l},du=aa.prototype,Oo=function(a,l,p){var m=p&&p.that,b=!!(p&&p.AS_ENTRIES),k=!!(p&&p.IS_RECORD),I=!!(p&&p.IS_ITERATOR),$=!!(p&&p.INTERRUPTED),A=Vr(l,m),z,W,G,J,oe,Be,lt,gt=function($t){return z&&n0(z,"normal",$t),new aa(!0,$t)},Tt=function($t){return b?(ln($t),$?A($t[0],$t[1],gt):A($t[0],$t[1])):$?A($t,gt):A($t)};if(k)z=a.iterator;else if(I)z=a;else{if(W=Vv(a),!W)throw i0(Wn(a)+" is not iterable");if($l(W)){for(G=0,J=Rl(a);J>G;G++)if(oe=Tt(a[G]),oe&&Wi(du,oe))return oe;return new aa(!1)}z=r0(a,W)}for(Be=k?a.next:z.next;!(lt=Jr(Be,z)).done;){try{oe=Tt(lt.value)}catch($t){n0(z,"throw",$t)}if(typeof oe=="object"&&oe&&Wi(du,oe))return oe}return new aa(!1)},Ml=Ai,o0=function(a,l){return a===void 0?arguments.length<2?"":l:Ml(a)},be=at,fe=mr,Te=Cs,st=an,Je=w,zt=ga,dt=Po,Zr=Ve,Cn=D,fu=Vn,jl=Oo,ns=o0,yC=hr,uI=yC("toStringTag"),a0=Error,gC=[].push,Dh=function(l,p){var m=fe(IS,this),b;st?b=st(a0(),m?Te(this):IS):(b=m?this:zt(IS),dt(b,uI,"Error")),p!==void 0&&dt(b,"message",ns(p)),fu(b,Dh,b.stack,1),arguments.length>2&&Cn(b,arguments[2]);var k=[];return jl(l,gC,{that:k}),dt(b,"errors",k),b};st?st(Dh,a0):Je(Dh,a0,{name:!0});var IS=Dh.prototype=zt(a0.prototype,{constructor:Zr(1,Dh),message:Zr(1,""),name:Zr(1,"AggregateError")});be({global:!0,constructor:!0,arity:2},{AggregateError:Dh});var CS=Mr,mC=Tr,bC=hr,_C=K,PS=bC("species"),lI=function(a){var l=CS(a);_C&&l&&!l[PS]&&mC(l,PS,{configurable:!0,get:function(){return this}})},wC=mr,cI=TypeError,AS=function(a,l){if(wC(l,a))return a;throw cI("Incorrect invocation")},hI=fn,dI=J1,EC=Ti,OC=hr,fI=OC("species"),vI=function(a,l){var p=hI(a).constructor,m;return p===void 0||EC(m=hI(p)[fI])?l:dI(m)},pI=Yi,fE=/(?:ipad|iphone|ipod).*applewebkit/i.test(pI),qi=H,kC=we,yI=ca,gI=Ht,mI=kr,DS=q,vu=$p,bI=Wu,_I=up,xC=hv,TC=fE,SC=Wo,vE=qi.setImmediate,NS=qi.clearImmediate,IC=qi.process,$S=qi.Dispatch,RS=qi.Function,wI=qi.MessageChannel,s0=qi.String,MS=0,u0={},EI="onreadystatechange",l0,Nh,pE,jS;DS(function(){l0=qi.location});var FS=function(a){if(mI(u0,a)){var l=u0[a];delete u0[a],l()}},LS=function(a){return function(){FS(a)}},OI=function(a){FS(a.data)},kI=function(a){qi.postMessage(s0(a),l0.protocol+"//"+l0.host)};(!vE||!NS)&&(vE=function(l){xC(arguments.length,1);var p=gI(l)?l:RS(l),m=bI(arguments,1);return u0[++MS]=function(){kC(p,void 0,m)},Nh(MS),MS},NS=function(l){delete u0[l]},SC?Nh=function(a){IC.nextTick(LS(a))}:$S&&$S.now?Nh=function(a){$S.now(LS(a))}:wI&&!TC?(pE=new wI,jS=pE.port2,pE.port1.onmessage=OI,Nh=yI(jS.postMessage,jS)):qi.addEventListener&&gI(qi.postMessage)&&!qi.importScripts&&l0&&l0.protocol!=="file:"&&!DS(kI)?(Nh=kI,qi.addEventListener("message",OI,!1)):EI in _I("script")?Nh=function(a){vu.appendChild(_I("script"))[EI]=function(){vu.removeChild(this),FS(a)}}:Nh=function(a){setTimeout(LS(a),0)});var xI={set:vE,clear:NS},yE=function(){this.head=null,this.tail=null};yE.prototype={add:function(a){var l={item:a,next:null},p=this.tail;p?p.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a){var l=this.head=a.next;return l===null&&(this.tail=null),a.item}}};var TI=yE,SI=Yi,II=/ipad|iphone|ipod/i.test(SI)&&typeof Pebble<"u",CI=Yi,CC=/web0s(?!.*chrome)/i.test(CI),$h=H,PI=ca,PC=j.f,BS=xI.set,AC=TI,zS=fE,DC=II,AI=CC,HS=Wo,US=$h.MutationObserver||$h.WebKitMutationObserver,DI=$h.document,VS=$h.process,gE=$h.Promise,NI=PC($h,"queueMicrotask"),WS=NI&&NI.value,Rh,qS,Pe,_e,ie;if(!WS){var Fl=new AC,We=function(){var a,l;for(HS&&(a=VS.domain)&&a.exit();l=Fl.get();)try{l()}catch(p){throw Fl.head&&Rh(),p}a&&a.enter()};!zS&&!HS&&!AI&&US&&DI?(qS=!0,Pe=DI.createTextNode(""),new US(We).observe(Pe,{characterData:!0}),Rh=function(){Pe.data=qS=!qS}):!DC&&gE&&gE.resolve?(_e=gE.resolve(void 0),_e.constructor=gE,ie=PI(_e.then,_e),Rh=function(){ie(We)}):HS?Rh=function(){VS.nextTick(We)}:(BS=PI(BS,$h),Rh=function(){BS(We)}),WS=function(a){Fl.head||Rh(),Fl.add(a)}}var GS=WS,YS=function(a,l){try{arguments.length==1?console.error(a):console.error(a,l)}catch{}},Mh=function(a){try{return{error:!1,value:a()}}catch(l){return{error:!0,value:l}}},KS=H,jh=KS.Promise,$I=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",NC=$I,$C=Wo,qe=!NC&&!$C&&typeof window=="object"&&typeof document=="object",RC=H,n=jh,e=Ht,t=Ou,r=oc,i=hr,o=qe,u=$I,d=mu,v=n&&n.prototype,E=i("species"),T=!1,S=e(RC.PromiseRejectionEvent),N=t("Promise",function(){var a=r(n),l=a!==String(n);if(!l&&d===66||!(v.catch&&v.finally))return!0;if(!d||d<51||!/native code/.test(a)){var p=new n(function(k){k(1)}),m=function(k){k(function(){},function(){})},b=p.constructor={};if(b[E]=m,T=p.then(function(){})instanceof m,!T)return!0}return!l&&(o||u)&&!S}),F={CONSTRUCTOR:N,REJECTION_EVENT:S,SUBCLASSING:T},L={},V=rn,Z=TypeError,se=function(a){var l,p;this.promise=new a(function(m,b){if(l!==void 0||p!==void 0)throw Z("Bad Promise constructor");l=m,p=b}),this.resolve=V(l),this.reject=V(p)};L.f=function(a){return new se(a)};var ye=at,De=Wo,Ne=H,Ze=re,xt=Ni,bt=wa,pt=lI,tt=rn,Jt=Ht,Ft=Rr,or=AS,wr=vI,Pr=xI.set,Oi=GS,en=YS,mE=Mh,_N=TI,zP=Ea,MC=jh,jC=F,HP=L,RI="Promise",UP=jC.CONSTRUCTOR,wN=jC.REJECTION_EVENT;jC.SUBCLASSING;var FC=zP.getterFor(RI),EN=zP.set,ON=MC&&MC.prototype,bE=MC,LC=ON,VP=Ne.TypeError,BC=Ne.document,zC=Ne.process,HC=HP.f,kN=HC,xN=!!(BC&&BC.createEvent&&Ne.dispatchEvent),WP="unhandledrejection",TN="rejectionhandled",qP=0,GP=1,SN=2,UC=1,YP=2,MI,KP,IN,XP=function(a){var l;return Ft(a)&&Jt(l=a.then)?l:!1},QP=function(a,l){var p=l.value,m=l.state==GP,b=m?a.ok:a.fail,k=a.resolve,I=a.reject,$=a.domain,A,z,W;try{b?(m||(l.rejection===YP&&PN(l),l.rejection=UC),b===!0?A=p:($&&$.enter(),A=b(p),$&&($.exit(),W=!0)),A===a.promise?I(VP("Promise-chain cycle")):(z=XP(A))?Ze(z,A,k,I):k(A)):I(p)}catch(G){$&&!W&&$.exit(),I(G)}},JP=function(a,l){a.notified||(a.notified=!0,Oi(function(){for(var p=a.reactions,m;m=p.get();)QP(m,a);a.notified=!1,l&&!a.rejection&&CN(a)}))},ZP=function(a,l,p){var m,b;xN?(m=BC.createEvent("Event"),m.promise=l,m.reason=p,m.initEvent(a,!1,!0),Ne.dispatchEvent(m)):m={promise:l,reason:p},!wN&&(b=Ne["on"+a])?b(m):a===WP&&en("Unhandled promise rejection",p)},CN=function(a){Ze(Pr,Ne,function(){var l=a.facade,p=a.value,m=eA(a),b;if(m&&(b=mE(function(){De?zC.emit("unhandledRejection",p,l):ZP(WP,l,p)}),a.rejection=De||eA(a)?YP:UC,b.error))throw b.value})},eA=function(a){return a.rejection!==UC&&!a.parent},PN=function(a){Ze(Pr,Ne,function(){var l=a.facade;De?zC.emit("rejectionHandled",l):ZP(TN,l,a.value)})},_E=function(a,l,p){return function(m){a(l,m,p)}},wE=function(a,l,p){a.done||(a.done=!0,p&&(a=p),a.value=l,a.state=SN,JP(a,!0))},VC=function(a,l,p){if(!a.done){a.done=!0,p&&(a=p);try{if(a.facade===l)throw VP("Promise can't be resolved itself");var m=XP(l);m?Oi(function(){var b={done:!1};try{Ze(m,l,_E(VC,b,a),_E(wE,b,a))}catch(k){wE(b,k,a)}}):(a.value=l,a.state=GP,JP(a,!1))}catch(b){wE({done:!1},b,a)}}};UP&&(bE=function(l){or(this,LC),tt(l),Ze(MI,this);var p=FC(this);try{l(_E(VC,p),_E(wE,p))}catch(m){wE(p,m)}},LC=bE.prototype,MI=function(l){EN(this,{type:RI,done:!1,notified:!1,parent:!1,reactions:new _N,rejection:!1,state:qP,value:void 0})},MI.prototype=xt(LC,"then",function(l,p){var m=FC(this),b=HC(wr(this,bE));return m.parent=!0,b.ok=Jt(l)?l:!0,b.fail=Jt(p)&&p,b.domain=De?zC.domain:void 0,m.state==qP?m.reactions.add(b):Oi(function(){QP(b,m)}),b.promise}),KP=function(){var a=new MI,l=FC(a);this.promise=a,this.resolve=_E(VC,l),this.reject=_E(wE,l)},HP.f=HC=function(a){return a===bE||a===IN?new KP(a):kN(a)}),ye({global:!0,constructor:!0,wrap:!0,forced:UP},{Promise:bE}),bt(bE,RI,!1,!0),pt(RI);var AN=jh,DN=Og,NN=F.CONSTRUCTOR,jI=NN||!DN(function(a){AN.all(a).then(void 0,function(){})}),$N=at,RN=re,MN=rn,jN=L,FN=Mh,LN=Oo,BN=jI;$N({target:"Promise",stat:!0,forced:BN},{all:function(l){var p=this,m=jN.f(p),b=m.resolve,k=m.reject,I=FN(function(){var $=MN(p.resolve),A=[],z=0,W=1;LN(l,function(G){var J=z++,oe=!1;W++,RN($,p,G).then(function(Be){oe||(oe=!0,A[J]=Be,--W||b(A))},k)}),--W||b(A)});return I.error&&k(I.value),m.promise}});var zN=at,HN=F.CONSTRUCTOR,tA=jh;tA&&tA.prototype,zN({target:"Promise",proto:!0,forced:HN,real:!0},{catch:function(a){return this.then(void 0,a)}});var UN=at,VN=re,WN=rn,qN=L,GN=Mh,YN=Oo,KN=jI;UN({target:"Promise",stat:!0,forced:KN},{race:function(l){var p=this,m=qN.f(p),b=m.reject,k=GN(function(){var I=WN(p.resolve);YN(l,function($){VN(I,p,$).then(m.resolve,b)})});return k.error&&b(k.value),m.promise}});var XN=at,QN=re,JN=L,ZN=F.CONSTRUCTOR;XN({target:"Promise",stat:!0,forced:ZN},{reject:function(l){var p=JN.f(this);return QN(p.reject,void 0,l),p.promise}});var e$=fn,t$=Rr,r$=L,rA=function(a,l){if(e$(a),t$(l)&&l.constructor===a)return l;var p=r$.f(a),m=p.resolve;return m(l),p.promise},n$=at,i$=Mr,o$=qE,a$=jh,s$=F.CONSTRUCTOR,u$=rA,l$=i$("Promise"),c$=!s$;n$({target:"Promise",stat:!0,forced:o$},{resolve:function(l){return u$(c$&&this===l$?a$:this,l)}});var h$=at,d$=re,f$=rn,v$=L,p$=Mh,y$=Oo,g$=jI;h$({target:"Promise",stat:!0,forced:g$},{allSettled:function(l){var p=this,m=v$.f(p),b=m.resolve,k=m.reject,I=p$(function(){var $=f$(p.resolve),A=[],z=0,W=1;y$(l,function(G){var J=z++,oe=!1;W++,d$($,p,G).then(function(Be){oe||(oe=!0,A[J]={status:"fulfilled",value:Be},--W||b(A))},function(Be){oe||(oe=!0,A[J]={status:"rejected",reason:Be},--W||b(A))})}),--W||b(A)});return I.error&&k(I.value),m.promise}});var m$=at,b$=re,_$=rn,w$=Mr,E$=L,O$=Mh,k$=Oo,x$=jI,nA="No one promise resolved";m$({target:"Promise",stat:!0,forced:x$},{any:function(l){var p=this,m=w$("AggregateError"),b=E$.f(p),k=b.resolve,I=b.reject,$=O$(function(){var A=_$(p.resolve),z=[],W=0,G=1,J=!1;k$(l,function(oe){var Be=W++,lt=!1;G++,b$(A,p,oe).then(function(gt){lt||J||(J=!0,k(gt))},function(gt){lt||J||(lt=!0,z[Be]=gt,--G||I(new m(z,nA)))})}),--G||I(new m(z,nA))});return $.error&&I($.value),b.promise}});var T$=at,WC=jh,S$=q,I$=Mr,C$=Ht,P$=vI,iA=rA,A$=WC&&WC.prototype,D$=!!WC&&S$(function(){A$.finally.call({then:function(){}},function(){})});T$({target:"Promise",proto:!0,real:!0,forced:D$},{finally:function(a){var l=P$(this,I$("Promise")),p=C$(a);return this.then(p?function(m){return iA(l,a()).then(function(){return m})}:a,p?function(m){return iA(l,a()).then(function(){throw m})}:a)}});var N$=Dt,$$=N$.Promise,R$=$$,M$=R$,j$=M$,F$=j$,L$=at,B$=L,z$=Mh;L$({target:"Promise",stat:!0,forced:!0},{try:function(a){var l=B$.f(this),p=z$(a);return(p.error?l.reject:l.resolve)(p.value),l.promise}});var H$=F$,U$=H$,V$=U$,W$=V$,q$=nm,G$=q$,Y$=G$,K$=Y$,X$=K$,Q$=X$;(function(a){var l=Uv.default,p=Jh,m=Ky,b=Xm,k=Ah,I=t0,$=jv,A=W$,z=Q$,W=qf;function G(){a.exports=G=function(){return J},a.exports.__esModule=!0,a.exports.default=a.exports;var J={},oe=Object.prototype,Be=oe.hasOwnProperty,lt=p||function(He,Se,Fe){He[Se]=Fe.value},gt=typeof m=="function"?m:{},Tt=gt.iterator||"@@iterator",$t=gt.asyncIterator||"@@asyncIterator",qn=gt.toStringTag||"@@toStringTag";function tr(He,Se,Fe){return p(He,Se,{value:Fe,enumerable:!0,configurable:!0,writable:!0}),He[Se]}try{tr({},"")}catch{tr=function(Fe,ot,St){return Fe[ot]=St}}function ki(He,Se,Fe,ot){var St=Se&&Se.prototype instanceof sa?Se:sa,mt=b(St.prototype),tn=new lP(ot||[]);return lt(mt,"_invoke",{value:ij(He,Fe,tn)}),mt}function xi(He,Se,Fe){try{return{type:"normal",arg:He.call(Se,Fe)}}catch(ot){return{type:"throw",arg:ot}}}J.wrap=ki;var ii={};function sa(){}function Bl(){}function is(){}var Lh={};tr(Lh,Tt,function(){return this});var Bh=k,EE=Bh&&Bh(Bh(cP([])));EE&&EE!==oe&&Be.call(EE,Tt)&&(Lh=EE);var zh=is.prototype=sa.prototype=b(Lh);function zA(He){var Se;I(Se=["next","throw","return"]).call(Se,function(Fe){tr(He,Fe,function(ot){return this._invoke(Fe,ot)})})}function UI(He,Se){function Fe(St,mt,tn,Gi){var xo=xi(He[St],He,mt);if(xo.type!=="throw"){var d0=xo.arg,qv=d0.value;return qv&&l(qv)=="object"&&Be.call(qv,"__await")?Se.resolve(qv.__await).then(function(f0){Fe("next",f0,tn,Gi)},function(f0){Fe("throw",f0,tn,Gi)}):Se.resolve(qv).then(function(f0){d0.value=f0,tn(d0)},function(f0){return Fe("throw",f0,tn,Gi)})}Gi(xo.arg)}var ot;lt(this,"_invoke",{value:function(mt,tn){function Gi(){return new Se(function(xo,d0){Fe(mt,tn,xo,d0)})}return ot=ot?ot.then(Gi,Gi):Gi()}})}function ij(He,Se,Fe){var ot="suspendedStart";return function(St,mt){if(ot==="executing")throw new Error("Generator is already running");if(ot==="completed"){if(St==="throw")throw mt;return UA()}for(Fe.method=St,Fe.arg=mt;;){var tn=Fe.delegate;if(tn){var Gi=HA(tn,Fe);if(Gi){if(Gi===ii)continue;return Gi}}if(Fe.method==="next")Fe.sent=Fe._sent=Fe.arg;else if(Fe.method==="throw"){if(ot==="suspendedStart")throw ot="completed",Fe.arg;Fe.dispatchException(Fe.arg)}else Fe.method==="return"&&Fe.abrupt("return",Fe.arg);ot="executing";var xo=xi(He,Se,Fe);if(xo.type==="normal"){if(ot=Fe.done?"completed":"suspendedYield",xo.arg===ii)continue;return{value:xo.arg,done:Fe.done}}xo.type==="throw"&&(ot="completed",Fe.method="throw",Fe.arg=xo.arg)}}}function HA(He,Se){var Fe=Se.method,ot=He.iterator[Fe];if(ot===void 0)return Se.delegate=null,Fe==="throw"&&He.iterator.return&&(Se.method="return",Se.arg=void 0,HA(He,Se),Se.method==="throw")||Fe!=="return"&&(Se.method="throw",Se.arg=new TypeError("The iterator does not provide a '"+Fe+"' method")),ii;var St=xi(ot,He.iterator,Se.arg);if(St.type==="throw")return Se.method="throw",Se.arg=St.arg,Se.delegate=null,ii;var mt=St.arg;return mt?mt.done?(Se[He.resultName]=mt.value,Se.next=He.nextLoc,Se.method!=="return"&&(Se.method="next",Se.arg=void 0),Se.delegate=null,ii):mt:(Se.method="throw",Se.arg=new TypeError("iterator result is not an object"),Se.delegate=null,ii)}function oj(He){var Se={tryLoc:He[0]};1 in He&&(Se.catchLoc=He[1]),2 in He&&(Se.finallyLoc=He[2],Se.afterLoc=He[3]),this.tryEntries.push(Se)}function uP(He){var Se=He.completion||{};Se.type="normal",delete Se.arg,He.completion=Se}function lP(He){this.tryEntries=[{tryLoc:"root"}],I(He).call(He,oj,this),this.reset(!0)}function cP(He){if(He){var Se=He[Tt];if(Se)return Se.call(He);if(typeof He.next=="function")return He;if(!isNaN(He.length)){var Fe=-1,ot=function St(){for(;++Fe<He.length;)if(Be.call(He,Fe))return St.value=He[Fe],St.done=!1,St;return St.value=void 0,St.done=!0,St};return ot.next=ot}}return{next:UA}}function UA(){return{value:void 0,done:!0}}return Bl.prototype=is,lt(zh,"constructor",{value:is,configurable:!0}),lt(is,"constructor",{value:Bl,configurable:!0}),Bl.displayName=tr(is,qn,"GeneratorFunction"),J.isGeneratorFunction=function(He){var Se=typeof He=="function"&&He.constructor;return!!Se&&(Se===Bl||(Se.displayName||Se.name)==="GeneratorFunction")},J.mark=function(He){return $?$(He,is):(He.__proto__=is,tr(He,qn,"GeneratorFunction")),He.prototype=b(zh),He},J.awrap=function(He){return{__await:He}},zA(UI.prototype),tr(UI.prototype,$t,function(){return this}),J.AsyncIterator=UI,J.async=function(He,Se,Fe,ot,St){St===void 0&&(St=A);var mt=new UI(ki(He,Se,Fe,ot),St);return J.isGeneratorFunction(Se)?mt:mt.next().then(function(tn){return tn.done?tn.value:mt.next()})},zA(zh),tr(zh,qn,"Generator"),tr(zh,Tt,function(){return this}),tr(zh,"toString",function(){return"[object Generator]"}),J.keys=function(He){var Se=Object(He),Fe=[];for(var ot in Se)Fe.push(ot);return z(Fe).call(Fe),function St(){for(;Fe.length;){var mt=Fe.pop();if(mt in Se)return St.value=mt,St.done=!1,St}return St.done=!0,St}},J.values=cP,lP.prototype={constructor:lP,reset:function(Se){var Fe;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,I(Fe=this.tryEntries).call(Fe,uP),!Se)for(var ot in this)ot.charAt(0)==="t"&&Be.call(this,ot)&&!isNaN(+W(ot).call(ot,1))&&(this[ot]=void 0)},stop:function(){this.done=!0;var Se=this.tryEntries[0].completion;if(Se.type==="throw")throw Se.arg;return this.rval},dispatchException:function(Se){if(this.done)throw Se;var Fe=this;function ot(d0,qv){return tn.type="throw",tn.arg=Se,Fe.next=d0,qv&&(Fe.method="next",Fe.arg=void 0),!!qv}for(var St=this.tryEntries.length-1;St>=0;--St){var mt=this.tryEntries[St],tn=mt.completion;if(mt.tryLoc==="root")return ot("end");if(mt.tryLoc<=this.prev){var Gi=Be.call(mt,"catchLoc"),xo=Be.call(mt,"finallyLoc");if(Gi&&xo){if(this.prev<mt.catchLoc)return ot(mt.catchLoc,!0);if(this.prev<mt.finallyLoc)return ot(mt.finallyLoc)}else if(Gi){if(this.prev<mt.catchLoc)return ot(mt.catchLoc,!0)}else{if(!xo)throw new Error("try statement without catch or finally");if(this.prev<mt.finallyLoc)return ot(mt.finallyLoc)}}}},abrupt:function(Se,Fe){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var St=this.tryEntries[ot];if(St.tryLoc<=this.prev&&Be.call(St,"finallyLoc")&&this.prev<St.finallyLoc){var mt=St;break}}mt&&(Se==="break"||Se==="continue")&&mt.tryLoc<=Fe&&Fe<=mt.finallyLoc&&(mt=null);var tn=mt?mt.completion:{};return tn.type=Se,tn.arg=Fe,mt?(this.method="next",this.next=mt.finallyLoc,ii):this.complete(tn)},complete:function(Se,Fe){if(Se.type==="throw")throw Se.arg;return Se.type==="break"||Se.type==="continue"?this.next=Se.arg:Se.type==="return"?(this.rval=this.arg=Se.arg,this.method="return",this.next="end"):Se.type==="normal"&&Fe&&(this.next=Fe),ii},finish:function(Se){for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var ot=this.tryEntries[Fe];if(ot.finallyLoc===Se)return this.complete(ot.completion,ot.afterLoc),uP(ot),ii}},catch:function(Se){for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var ot=this.tryEntries[Fe];if(ot.tryLoc===Se){var St=ot.completion;if(St.type==="throw"){var mt=St.arg;uP(ot)}return mt}}throw new Error("illegal catch attempt")},delegateYield:function(Se,Fe,ot){return this.delegate={iterator:cP(Se),resultName:Fe,nextLoc:ot},this.method==="next"&&(this.arg=void 0),ii}},J}a.exports=G,a.exports.__esModule=!0,a.exports.default=a.exports})(zv);var J$=zv.exports,FI=J$(),Z$=FI;try{regeneratorRuntime=FI}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=FI:Function("r","regeneratorRuntime = r")(FI)}var ko=O(Z$),oA={exports:{}},eR=q,tR=eR(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}}),rR=q,nR=Rr,iR=it,aA=tR,LI=Object.isExtensible,oR=rR(function(){LI(1)}),aR=oR||aA?function(l){return!nR(l)||aA&&iR(l)=="ArrayBuffer"?!1:LI?LI(l):!0}:LI,sR=q,uR=!sR(function(){return Object.isExtensible(Object.preventExtensions({}))}),lR=at,cR=nt,hR=lc,dR=Rr,qC=kr,fR=Kn.f,sA=Di,vR=ba,GC=aR,pR=Gh,yR=uR,uA=!1,Fh=pR("meta"),gR=0,YC=function(a){fR(a,Fh,{value:{objectID:"O"+gR++,weakData:{}}})},mR=function(a,l){if(!dR(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!qC(a,Fh)){if(!GC(a))return"F";if(!l)return"E";YC(a)}return a[Fh].objectID},bR=function(a,l){if(!qC(a,Fh)){if(!GC(a))return!0;if(!l)return!1;YC(a)}return a[Fh].weakData},_R=function(a){return yR&&uA&&GC(a)&&!qC(a,Fh)&&YC(a),a},wR=function(){ER.enable=function(){},uA=!0;var a=sA.f,l=cR([].splice),p={};p[Fh]=1,a(p).length&&(sA.f=function(m){for(var b=a(m),k=0,I=b.length;k<I;k++)if(b[k]===Fh){l(b,k,1);break}return b},lR({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:vR.f}))},ER=oA.exports={enable:wR,fastKey:mR,getWeakData:bR,onFreeze:_R};hR[Fh]=!0;var lA=oA.exports,OR=at,kR=H,xR=lA,TR=q,SR=Po,IR=Oo,CR=AS,PR=Ht,AR=Rr,DR=wa,NR=Kn.f,$R=ka.forEach,RR=K,cA=Ea,MR=cA.set,jR=cA.getterFor,hA=function(a,l,p){var m=a.indexOf("Map")!==-1,b=a.indexOf("Weak")!==-1,k=m?"set":"add",I=kR[a],$=I&&I.prototype,A={},z;if(!RR||!PR(I)||!(b||$.forEach&&!TR(function(){new I().entries().next()})))z=p.getConstructor(l,a,m,k),xR.enable();else{z=l(function(J,oe){MR(CR(J,W),{type:a,collection:new I}),oe!=null&&IR(oe,J[k],{that:J,AS_ENTRIES:m})});var W=z.prototype,G=jR(a);$R(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(J){var oe=J=="add"||J=="set";J in $&&!(b&&J=="clear")&&SR(W,J,function(Be,lt){var gt=G(this).collection;if(!oe&&b&&!AR(Be))return J=="get"?void 0:!1;var Tt=gt[J](Be===0?0:Be,lt);return oe?this:Tt})}),b||NR(W,"size",{configurable:!0,get:function(){return G(this).collection.size}})}return DR(z,a,!1,!0),A[a]=z,OR({global:!0,forced:!0},A),b||p.setStrong(z,a,m),z},FR=Ni,LR=function(a,l,p){for(var m in l)p&&p.unsafe&&a[m]?a[m]=l[m]:FR(a,m,l[m],p);return a},BR=ga,zR=Tr,dA=LR,HR=ca,UR=AS,VR=Ti,WR=Oo,qR=Ry,BI=lf,GR=lI,XS=K,fA=lA.fastKey,vA=Ea,pA=vA.set,KC=vA.getterFor,yA={getConstructor:function(a,l,p,m){var b=a(function(z,W){UR(z,k),pA(z,{type:l,index:BR(null),first:void 0,last:void 0,size:0}),XS||(z.size=0),VR(W)||WR(W,z[m],{that:z,AS_ENTRIES:p})}),k=b.prototype,I=KC(l),$=function(z,W,G){var J=I(z),oe=A(z,W),Be,lt;return oe?oe.value=G:(J.last=oe={index:lt=fA(W,!0),key:W,value:G,previous:Be=J.last,next:void 0,removed:!1},J.first||(J.first=oe),Be&&(Be.next=oe),XS?J.size++:z.size++,lt!=="F"&&(J.index[lt]=oe)),z},A=function(z,W){var G=I(z),J=fA(W),oe;if(J!=="F")return G.index[J];for(oe=G.first;oe;oe=oe.next)if(oe.key==W)return oe};return dA(k,{clear:function(){for(var W=this,G=I(W),J=G.index,oe=G.first;oe;)oe.removed=!0,oe.previous&&(oe.previous=oe.previous.next=void 0),delete J[oe.index],oe=oe.next;G.first=G.last=void 0,XS?G.size=0:W.size=0},delete:function(z){var W=this,G=I(W),J=A(W,z);if(J){var oe=J.next,Be=J.previous;delete G.index[J.index],J.removed=!0,Be&&(Be.next=oe),oe&&(oe.previous=Be),G.first==J&&(G.first=oe),G.last==J&&(G.last=Be),XS?G.size--:W.size--}return!!J},forEach:function(W){for(var G=I(this),J=HR(W,arguments.length>1?arguments[1]:void 0),oe;oe=oe?oe.next:G.first;)for(J(oe.value,oe.key,this);oe&&oe.removed;)oe=oe.previous},has:function(W){return!!A(this,W)}}),dA(k,p?{get:function(W){var G=A(this,W);return G&&G.value},set:function(W,G){return $(this,W===0?0:W,G)}}:{add:function(W){return $(this,W=W===0?0:W,W)}}),XS&&zR(k,"size",{configurable:!0,get:function(){return I(this).size}}),b},setStrong:function(a,l,p){var m=l+" Iterator",b=KC(l),k=KC(m);qR(a,l,function(I,$){pA(this,{type:m,target:I,state:b(I),kind:$,last:void 0})},function(){for(var I=k(this),$=I.kind,A=I.last;A&&A.removed;)A=A.previous;return!I.target||!(I.last=A=A?A.next:I.state.first)?(I.target=void 0,BI(void 0,!0)):$=="keys"?BI(A.key,!1):$=="values"?BI(A.value,!1):BI([A.key,A.value],!1)},p?"entries":"values",!p,!0),GR(l)}},YR=hA,KR=yA;YR("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},KR);var XR=Dt,QR=XR.Map,JR=QR,ZR=JR,eM=ZR,gA=O(eM),tM=at,rM=ka.some,nM=Ds,iM=nM("some");tM({target:"Array",proto:!0,forced:!iM},{some:function(l){return rM(this,l,arguments.length>1?arguments[1]:void 0)}});var oM=gn,aM=oM("Array").some,sM=mr,uM=aM,XC=Array.prototype,lM=function(a){var l=a.some;return a===XC||sM(XC,a)&&l===XC.some?uM:l},cM=lM,hM=cM,dM=hM,fM=O(dM),vM=gn,pM=vM("Array").keys,yM=pM,gM=yM,mM=Zi,bM=kr,_M=mr,wM=gM,QC=Array.prototype,EM={DOMTokenList:!0,NodeList:!0},OM=function(a){var l=a.keys;return a===QC||_M(QC,a)&&l===QC.keys||bM(EM,mM(a))?wM:l},kM=OM,c0=O(kM),mA=hb,xM=Math.floor,JC=function(a,l){var p=a.length,m=xM(p/2);return p<8?TM(a,l):SM(a,JC(mA(a,0,m),l),JC(mA(a,m),l),l)},TM=function(a,l){for(var p=a.length,m=1,b,k;m<p;){for(k=m,b=a[m];k&&l(a[k-1],b)>0;)a[k]=a[--k];k!==m++&&(a[k]=b)}return a},SM=function(a,l,p,m){for(var b=l.length,k=p.length,I=0,$=0;I<b||$<k;)a[I+$]=I<b&&$<k?m(l[I],p[$])<=0?l[I++]:p[$++]:I<b?l[I++]:p[$++];return a},IM=JC,CM=Yi,bA=CM.match(/firefox\/(\d+)/i),PM=!!bA&&+bA[1],AM=Yi,DM=/MSIE|Trident/.test(AM),NM=Yi,_A=NM.match(/AppleWebKit\/(\d+)\./),$M=!!_A&&+_A[1],RM=at,wA=nt,MM=rn,jM=vr,EA=li,FM=tv,OA=Ai,ZC=q,LM=IM,BM=Ds,kA=PM,zM=DM,xA=mu,TA=$M,Wv=[],SA=wA(Wv.sort),HM=wA(Wv.push),UM=ZC(function(){Wv.sort(void 0)}),VM=ZC(function(){Wv.sort(null)}),WM=BM("sort"),IA=!ZC(function(){if(xA)return xA<70;if(!(kA&&kA>3)){if(zM)return!0;if(TA)return TA<603;var a="",l,p,m,b;for(l=65;l<76;l++){switch(p=String.fromCharCode(l),l){case 66:case 69:case 70:case 72:m=3;break;case 68:case 71:m=4;break;default:m=2}for(b=0;b<47;b++)Wv.push({k:p+b,v:m})}for(Wv.sort(function(k,I){return I.v-k.v}),b=0;b<Wv.length;b++)p=Wv[b].k.charAt(0),a.charAt(a.length-1)!==p&&(a+=p);return a!=="DGBEFHACIJK"}}),qM=UM||!VM||!WM||!IA,GM=function(a){return function(l,p){return p===void 0?-1:l===void 0?1:a!==void 0?+a(l,p)||0:OA(l)>OA(p)?1:-1}};RM({target:"Array",proto:!0,forced:qM},{sort:function(l){l!==void 0&&MM(l);var p=jM(this);if(IA)return l===void 0?SA(p):SA(p,l);var m=[],b=EA(p),k,I;for(I=0;I<b;I++)I in p&&HM(m,p[I]);for(LM(m,GM(l)),k=EA(m),I=0;I<k;)p[I]=m[I++];for(;I<b;)FM(p,I++);return p}});var YM=gn,KM=YM("Array").sort,XM=mr,QM=KM,eP=Array.prototype,JM=function(a){var l=a.sort;return a===eP||XM(eP,a)&&l===eP.sort?QM:l},ZM=JM,e2=ZM,t2=e2,tP=O(t2),r2=gn,n2=r2("Array").values,i2=n2,o2=i2,a2=Zi,s2=kr,u2=mr,l2=o2,rP=Array.prototype,c2={DOMTokenList:!0,NodeList:!0},h2=function(a){var l=a.values;return a===rP||u2(rP,a)&&l===rP.values||s2(c2,a2(a))?l2:l},d2=h2,CA=O(d2),f2=L_,h0=O(f2),v2=gn,p2=v2("Array").entries,y2=p2,g2=y2,m2=Zi,b2=kr,_2=mr,w2=g2,nP=Array.prototype,E2={DOMTokenList:!0,NodeList:!0},O2=function(a){var l=a.entries;return a===nP||_2(nP,a)&&l===nP.entries||b2(E2,m2(a))?w2:l},k2=O2,x2=O(k2);let zI,T2=new Uint8Array(16);function S2(){if(!zI&&(zI=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zI))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zI(T2)}let ni=[];for(let a=0;a<256;++a)ni.push((a+256).toString(16).slice(1));function I2(a,l=0){return ni[a[l+0]]+ni[a[l+1]]+ni[a[l+2]]+ni[a[l+3]]+"-"+ni[a[l+4]]+ni[a[l+5]]+"-"+ni[a[l+6]]+ni[a[l+7]]+"-"+ni[a[l+8]]+ni[a[l+9]]+"-"+ni[a[l+10]]+ni[a[l+11]]+ni[a[l+12]]+ni[a[l+13]]+ni[a[l+14]]+ni[a[l+15]]}var PA={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function C2(a,l,p){if(PA.randomUUID&&!l&&!a)return PA.randomUUID();a=a||{};let m=a.random||(a.rng||S2)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,l){p=p||0;for(let b=0;b<16;++b)l[p+b]=m[b];return l}return I2(m)}function iP(a){return typeof a=="string"||typeof a=="number"}var AA=function(){function a(l){g(this,a),jt(this,"delay",void 0),jt(this,"max",void 0),jt(this,"_queue",[]),jt(this,"_timeout",null),jt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(l)}return uo(a,[{key:"setOptions",value:function(p){p&&typeof p.delay<"u"&&(this.delay=p.delay),p&&typeof p.max<"u"&&(this.max=p.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var p=this._extended.object,m=this._extended.methods,b=0;b<m.length;b++){var k=m[b];k.original?p[k.name]=k.original:delete p[k.name]}this._extended=null}}},{key:"replace",value:function(p,m){var b=this,k=p[m];if(!k)throw new Error("Method "+m+" undefined");p[m]=function(){for(var I=arguments.length,$=new Array(I),A=0;A<I;A++)$[A]=arguments[A];b.queue({args:$,fn:k,context:this})}}},{key:"queue",value:function(p){typeof p=="function"?this._queue.push({fn:p}):this._queue.push(p),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var p=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=pv(function(){p.flush()},this.delay))}},{key:"flush",value:function(){var p,m;Ke(p=Ga(m=this._queue).call(m,0)).call(p,function(b){b.fn.apply(b.context||b.fn,b.args||[])})}}],[{key:"extend",value:function(p,m){var b=new a(m);if(p.flush!==void 0)throw new Error("Target object already has a property flush");p.flush=function(){b.flush()};var k=[{name:"flush",original:void 0}];if(m&&m.replace)for(var I=0;I<m.replace.length;I++){var $=m.replace[I];k.push({name:$,original:p[$]}),b.replace(p,$)}return b._extended={object:p,methods:k},b}}]),a}(),DA=function(){function a(){g(this,a),jt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),jt(this,"subscribe",a.prototype.on),jt(this,"unsubscribe",a.prototype.off)}return uo(a,[{key:"_trigger",value:function(p,m,b){var k,I;if(p==="*")throw new Error("Cannot trigger event *");Ke(k=Zo(I=[]).call(I,Hr(this._subscribers[p]),Hr(this._subscribers["*"]))).call(k,function($){$(p,m,b??null)})}},{key:"on",value:function(p,m){typeof m=="function"&&this._subscribers[p].push(m)}},{key:"off",value:function(p,m){var b;this._subscribers[p]=zr(b=this._subscribers[p]).call(b,function(k){return k!==m})}}]),a}(),P2=hA,A2=yA;P2("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},A2);var D2=Dt,N2=D2.Set,$2=N2,R2=$2,M2=R2,HI=O(M2),j2=Af,F2=j2,L2=F2,B2=L2,z2=B2,H2=z2,U2=H2,V2=U2,W2=V2,q2=W2,oP=O(q2),NA;function Ll(a,l){var p=typeof Bn<"u"&&ji(a)||a["@@iterator"];if(!p){if(Xr(a)||(p=G2(a))||l&&a&&typeof a.length=="number"){p&&(a=p);var m=0,b=function(){};return{s:b,n:function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}},e:function(z){throw z},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k=!0,I=!1,$;return{s:function(){p=p.call(a)},n:function(){var z=p.next();return k=z.done,z},e:function(z){I=!0,$=z},f:function(){try{!k&&p.return!=null&&p.return()}finally{if(I)throw $}}}}function G2(a,l){var p;if(a){if(typeof a=="string")return $A(a,l);var m=Yt(p=Object.prototype.toString.call(a)).call(p,8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Mf(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return $A(a,l)}}function $A(a,l){(l==null||l>a.length)&&(l=a.length);for(var p=0,m=new Array(l);p<l;p++)m[p]=a[p];return m}NA=h0;var aP=function(){function a(l){g(this,a),jt(this,"_pairs",void 0),this._pairs=l}return uo(a,[{key:NA,value:ko.mark(function l(){var p,m,b,k,I;return ko.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:p=Ll(this._pairs),A.prev=1,p.s();case 3:if((m=p.n()).done){A.next=9;break}return b=un(m.value,2),k=b[0],I=b[1],A.next=7,[k,I];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),p.e(A.t0);case 14:return A.prev=14,p.f(),A.finish(14);case 17:case"end":return A.stop()}},l,this,[[1,11,14,17]])})},{key:"entries",value:ko.mark(function l(){var p,m,b,k,I;return ko.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:p=Ll(this._pairs),A.prev=1,p.s();case 3:if((m=p.n()).done){A.next=9;break}return b=un(m.value,2),k=b[0],I=b[1],A.next=7,[k,I];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),p.e(A.t0);case 14:return A.prev=14,p.f(),A.finish(14);case 17:case"end":return A.stop()}},l,this,[[1,11,14,17]])})},{key:"keys",value:ko.mark(function l(){var p,m,b,k;return ko.wrap(function($){for(;;)switch($.prev=$.next){case 0:p=Ll(this._pairs),$.prev=1,p.s();case 3:if((m=p.n()).done){$.next=9;break}return b=un(m.value,1),k=b[0],$.next=7,k;case 7:$.next=3;break;case 9:$.next=14;break;case 11:$.prev=11,$.t0=$.catch(1),p.e($.t0);case 14:return $.prev=14,p.f(),$.finish(14);case 17:case"end":return $.stop()}},l,this,[[1,11,14,17]])})},{key:"values",value:ko.mark(function l(){var p,m,b,k;return ko.wrap(function($){for(;;)switch($.prev=$.next){case 0:p=Ll(this._pairs),$.prev=1,p.s();case 3:if((m=p.n()).done){$.next=9;break}return b=un(m.value,2),k=b[1],$.next=7,k;case 7:$.next=3;break;case 9:$.next=14;break;case 11:$.prev=11,$.t0=$.catch(1),p.e($.t0);case 14:return $.prev=14,p.f(),$.finish(14);case 17:case"end":return $.stop()}},l,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var p;return Qn(p=Hr(this._pairs)).call(p,function(m){return m[0]})}},{key:"toItemArray",value:function(){var p;return Qn(p=Hr(this._pairs)).call(p,function(m){return m[1]})}},{key:"toEntryArray",value:function(){return Hr(this._pairs)}},{key:"toObjectMap",value:function(){var p=ym(null),m=Ll(this._pairs),b;try{for(m.s();!(b=m.n()).done;){var k=un(b.value,2),I=k[0],$=k[1];p[I]=$}}catch(A){m.e(A)}finally{m.f()}return p}},{key:"toMap",value:function(){return new gA(this._pairs)}},{key:"toIdSet",value:function(){return new HI(this.toIdArray())}},{key:"toItemSet",value:function(){return new HI(this.toItemArray())}},{key:"cache",value:function(){return new a(Hr(this._pairs))}},{key:"distinct",value:function(p){var m=new HI,b=Ll(this._pairs),k;try{for(b.s();!(k=b.n()).done;){var I=un(k.value,2),$=I[0],A=I[1];m.add(p(A,$))}}catch(z){b.e(z)}finally{b.f()}return m}},{key:"filter",value:function(p){var m=this._pairs;return new a(jt({},h0,ko.mark(function b(){var k,I,$,A,z;return ko.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:k=Ll(m),G.prev=1,k.s();case 3:if((I=k.n()).done){G.next=10;break}if($=un(I.value,2),A=$[0],z=$[1],!p(z,A)){G.next=8;break}return G.next=8,[A,z];case 8:G.next=3;break;case 10:G.next=15;break;case 12:G.prev=12,G.t0=G.catch(1),k.e(G.t0);case 15:return G.prev=15,k.f(),G.finish(15);case 18:case"end":return G.stop()}},b,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(p){var m=Ll(this._pairs),b;try{for(m.s();!(b=m.n()).done;){var k=un(b.value,2),I=k[0],$=k[1];p($,I)}}catch(A){m.e(A)}finally{m.f()}}},{key:"map",value:function(p){var m=this._pairs;return new a(jt({},h0,ko.mark(function b(){var k,I,$,A,z;return ko.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:k=Ll(m),G.prev=1,k.s();case 3:if((I=k.n()).done){G.next=9;break}return $=un(I.value,2),A=$[0],z=$[1],G.next=7,[A,p(z,A)];case 7:G.next=3;break;case 9:G.next=14;break;case 11:G.prev=11,G.t0=G.catch(1),k.e(G.t0);case 14:return G.prev=14,k.f(),G.finish(14);case 17:case"end":return G.stop()}},b,null,[[1,11,14,17]])})))}},{key:"max",value:function(p){var m=oP(this._pairs),b=m.next();if(b.done)return null;for(var k=b.value[1],I=p(b.value[1],b.value[0]);!(b=m.next()).done;){var $=un(b.value,2),A=$[0],z=$[1],W=p(z,A);W>I&&(I=W,k=z)}return k}},{key:"min",value:function(p){var m=oP(this._pairs),b=m.next();if(b.done)return null;for(var k=b.value[1],I=p(b.value[1],b.value[0]);!(b=m.next()).done;){var $=un(b.value,2),A=$[0],z=$[1],W=p(z,A);W<I&&(I=W,k=z)}return k}},{key:"reduce",value:function(p,m){var b=Ll(this._pairs),k;try{for(b.s();!(k=b.n()).done;){var I=un(k.value,2),$=I[0],A=I[1];m=p(m,A,$)}}catch(z){b.e(z)}finally{b.f()}return m}},{key:"sort",value:function(p){var m=this;return new a(jt({},h0,function(){var b;return oP(tP(b=Hr(m._pairs)).call(b,function(k,I){var $=un(k,2),A=$[0],z=$[1],W=un(I,2),G=W[0],J=W[1];return p(z,J,A,G)}))}))}}]),a}();function RA(a,l){var p=tm(a);if(pi){var m=pi(a);l&&(m=zr(m).call(m,function(b){return Fs(a,b).enumerable})),p.push.apply(p,m)}return p}function MA(a){for(var l=1;l<arguments.length;l++){var p,m,b=arguments[l]!=null?arguments[l]:{};l%2?Ke(p=RA(Object(b),!0)).call(p,function(k){jt(a,k,b[k])}):sl?zf(a,sl(b)):Ke(m=RA(Object(b))).call(m,function(k){Hf(a,k,Fs(b,k))})}return a}function sP(a,l){var p=typeof Bn<"u"&&ji(a)||a["@@iterator"];if(!p){if(Xr(a)||(p=Y2(a))||l&&a&&typeof a.length=="number"){p&&(a=p);var m=0,b=function(){};return{s:b,n:function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}},e:function(z){throw z},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k=!0,I=!1,$;return{s:function(){p=p.call(a)},n:function(){var z=p.next();return k=z.done,z},e:function(z){I=!0,$=z},f:function(){try{!k&&p.return!=null&&p.return()}finally{if(I)throw $}}}}function Y2(a,l){var p;if(a){if(typeof a=="string")return jA(a,l);var m=Yt(p=Object.prototype.toString.call(a)).call(p,8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Mf(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return jA(a,l)}}function jA(a,l){(l==null||l>a.length)&&(l=a.length);for(var p=0,m=new Array(l);p<l;p++)m[p]=a[p];return m}function K2(a){var l=X2();return function(){var m=ri(a),b;if(l){var k=ri(this).constructor;b=oa(m,arguments,k)}else b=m.apply(this,arguments);return Fv(this,b)}}function X2(){if(typeof Reflect>"u"||!oa||oa.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(oa(Boolean,[],function(){})),!0}catch{return!1}}function Q2(a,l){return a[l]==null&&(a[l]=C2()),a}var FA=function(a){Nl(p,a);var l=K2(p);function p(m,b){var k;return g(this,p),k=l.call(this),jt(ti(k),"flush",void 0),jt(ti(k),"length",void 0),jt(ti(k),"_options",void 0),jt(ti(k),"_data",void 0),jt(ti(k),"_idProp",void 0),jt(ti(k),"_queue",null),m&&!Xr(m)&&(b=m,m=[]),k._options=b||{},k._data=new gA,k.length=0,k._idProp=k._options.fieldId||"id",m&&m.length&&k.add(m),k.setOptions(b),k}return uo(p,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(b){b&&b.queue!==void 0&&(b.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=AA.extend(this,{replace:["add","update","remove"]})),b.queue&&Yr(b.queue)==="object"&&this._queue.setOptions(b.queue)))}},{key:"add",value:function(b,k){var I=this,$=[],A;if(Xr(b)){var z=Qn(b).call(b,function(J){return J[I._idProp]});if(fM(z).call(z,function(J){return I._data.has(J)}))throw new Error("A duplicate id was found in the parameter array.");for(var W=0,G=b.length;W<G;W++)A=this._addItem(b[W]),$.push(A)}else if(b&&Yr(b)==="object")A=this._addItem(b),$.push(A);else throw new Error("Unknown dataType");return $.length&&this._trigger("add",{items:$},k),$}},{key:"update",value:function(b,k){var I=this,$=[],A=[],z=[],W=[],G=this._idProp,J=function(Tt){var $t=Tt[G];if($t!=null&&I._data.has($t)){var qn=Tt,tr=a1({},I._data.get($t)),ki=I._updateItem(qn);A.push(ki),W.push(qn),z.push(tr)}else{var xi=I._addItem(Tt);$.push(xi)}};if(Xr(b))for(var oe=0,Be=b.length;oe<Be;oe++)b[oe]&&Yr(b[oe])==="object"?J(b[oe]):console.warn("Ignoring input item, which is not an object at index "+oe);else if(b&&Yr(b)==="object")J(b);else throw new Error("Unknown dataType");if($.length&&this._trigger("add",{items:$},k),A.length){var lt={items:A,oldData:z,data:W};this._trigger("update",lt,k)}return Zo($).call($,A)}},{key:"updateOnly",value:function(b,k){var I,$=this;Xr(b)||(b=[b]);var A=Qn(I=Qn(b).call(b,function(W){var G=$._data.get(W[$._idProp]);if(G==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:G,update:W}})).call(I,function(W){var G=W.oldData,J=W.update,oe=G[$._idProp],Be=Cv(G,J);return $._data.set(oe,Be),{id:oe,oldData:G,updatedData:Be}});if(A.length){var z={items:Qn(A).call(A,function(W){return W.id}),oldData:Qn(A).call(A,function(W){return W.oldData}),data:Qn(A).call(A,function(W){return W.updatedData})};return this._trigger("update",z,k),z.items}else return[]}},{key:"get",value:function(b,k){var I=void 0,$=void 0,A=void 0;iP(b)?(I=b,A=k):Xr(b)?($=b,A=k):A=b;var z=A&&A.returnType==="Object"?"Object":"Array",W=A&&zr(A),G=[],J=void 0,oe=void 0,Be=void 0;if(I!=null)J=this._data.get(I),J&&W&&!W(J)&&(J=void 0);else if($!=null)for(var lt=0,gt=$.length;lt<gt;lt++)J=this._data.get($[lt]),J!=null&&(!W||W(J))&&G.push(J);else{var Tt;oe=Hr(c0(Tt=this._data).call(Tt));for(var $t=0,qn=oe.length;$t<qn;$t++)Be=oe[$t],J=this._data.get(Be),J!=null&&(!W||W(J))&&G.push(J)}if(A&&A.order&&I==null&&this._sort(G,A.order),A&&A.fields){var tr=A.fields;if(I!=null&&J!=null)J=this._filterFields(J,tr);else for(var ki=0,xi=G.length;ki<xi;ki++)G[ki]=this._filterFields(G[ki],tr)}if(z=="Object"){for(var ii={},sa=0,Bl=G.length;sa<Bl;sa++){var is=G[sa],Lh=is[this._idProp];ii[Lh]=is}return ii}else if(I!=null){var Bh;return(Bh=J)!==null&&Bh!==void 0?Bh:null}else return G}},{key:"getIds",value:function(b){var k=this._data,I=b&&zr(b),$=b&&b.order,A=Hr(c0(k).call(k)),z=[];if(I)if($){for(var W=[],G=0,J=A.length;G<J;G++){var oe=A[G],Be=this._data.get(oe);Be!=null&&I(Be)&&W.push(Be)}this._sort(W,$);for(var lt=0,gt=W.length;lt<gt;lt++)z.push(W[lt][this._idProp])}else for(var Tt=0,$t=A.length;Tt<$t;Tt++){var qn=A[Tt],tr=this._data.get(qn);tr!=null&&I(tr)&&z.push(tr[this._idProp])}else if($){for(var ki=[],xi=0,ii=A.length;xi<ii;xi++){var sa=A[xi];ki.push(k.get(sa))}this._sort(ki,$);for(var Bl=0,is=ki.length;Bl<is;Bl++)z.push(ki[Bl][this._idProp])}else for(var Lh=0,Bh=A.length;Lh<Bh;Lh++){var EE=A[Lh],zh=k.get(EE);zh!=null&&z.push(zh[this._idProp])}return z}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(b,k){var I=k&&zr(k),$=this._data,A=Hr(c0($).call($));if(k&&k.order)for(var z=this.get(k),W=0,G=z.length;W<G;W++){var J=z[W],oe=J[this._idProp];b(J,oe)}else for(var Be=0,lt=A.length;Be<lt;Be++){var gt=A[Be],Tt=this._data.get(gt);Tt!=null&&(!I||I(Tt))&&b(Tt,gt)}}},{key:"map",value:function(b,k){for(var I=k&&zr(k),$=[],A=this._data,z=Hr(c0(A).call(A)),W=0,G=z.length;W<G;W++){var J=z[W],oe=this._data.get(J);oe!=null&&(!I||I(oe))&&$.push(b(oe,J))}return k&&k.order&&this._sort($,k.order),$}},{key:"_filterFields",value:function(b,k){var I;return b&&Ra(I=Xr(k)?k:tm(k)).call(I,function($,A){return $[A]=b[A],$},{})}},{key:"_sort",value:function(b,k){if(typeof k=="string"){var I=k;tP(b).call(b,function($,A){var z=$[I],W=A[I];return z>W?1:z<W?-1:0})}else if(typeof k=="function")tP(b).call(b,k);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(b,k){for(var I=[],$=[],A=Xr(b)?b:[b],z=0,W=A.length;z<W;z++){var G=this._remove(A[z]);if(G){var J=G[this._idProp];J!=null&&(I.push(J),$.push(G))}}return I.length&&this._trigger("remove",{items:I,oldData:$},k),I}},{key:"_remove",value:function(b){var k;if(iP(b)?k=b:b&&Yr(b)==="object"&&(k=b[this._idProp]),k!=null&&this._data.has(k)){var I=this._data.get(k)||null;return this._data.delete(k),--this.length,I}return null}},{key:"clear",value:function(b){for(var k,I=Hr(c0(k=this._data).call(k)),$=[],A=0,z=I.length;A<z;A++)$.push(this._data.get(I[A]));return this._data.clear(),this.length=0,this._trigger("remove",{items:I,oldData:$},b),I}},{key:"max",value:function(b){var k,I=null,$=null,A=sP(CA(k=this._data).call(k)),z;try{for(A.s();!(z=A.n()).done;){var W=z.value,G=W[b];typeof G=="number"&&($==null||G>$)&&(I=W,$=G)}}catch(J){A.e(J)}finally{A.f()}return I||null}},{key:"min",value:function(b){var k,I=null,$=null,A=sP(CA(k=this._data).call(k)),z;try{for(A.s();!(z=A.n()).done;){var W=z.value,G=W[b];typeof G=="number"&&($==null||G<$)&&(I=W,$=G)}}catch(J){A.e(J)}finally{A.f()}return I||null}},{key:"distinct",value:function(b){for(var k=this._data,I=Hr(c0(k).call(k)),$=[],A=0,z=0,W=I.length;z<W;z++){for(var G=I[z],J=k.get(G),oe=J[b],Be=!1,lt=0;lt<A;lt++)if($[lt]==oe){Be=!0;break}!Be&&oe!==void 0&&($[A]=oe,A++)}return $}},{key:"_addItem",value:function(b){var k=Q2(b,this._idProp),I=k[this._idProp];if(this._data.has(I))throw new Error("Cannot add item: item with id "+I+" already exists");return this._data.set(I,k),++this.length,I}},{key:"_updateItem",value:function(b){var k=b[this._idProp];if(k==null)throw new Error("Cannot update item: item has no id (item: "+zT(b)+")");var I=this._data.get(k);if(!I)throw new Error("Cannot update item: no item with id "+k+" found");return this._data.set(k,MA(MA({},I),b)),k}},{key:"stream",value:function(b){if(b){var k=this._data;return new aP(jt({},h0,ko.mark(function $(){var A,z,W,G;return ko.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:A=sP(b),oe.prev=1,A.s();case 3:if((z=A.n()).done){oe.next=11;break}if(W=z.value,G=k.get(W),G==null){oe.next=9;break}return oe.next=9,[W,G];case 9:oe.next=3;break;case 11:oe.next=16;break;case 13:oe.prev=13,oe.t0=oe.catch(1),A.e(oe.t0);case 16:return oe.prev=16,A.f(),oe.finish(16);case 19:case"end":return oe.stop()}},$,null,[[1,13,16,19]])})))}else{var I;return new aP(jt({},h0,Vo(I=x2(this._data)).call(I,this._data)))}}}]),p}(DA);function J2(a,l){var p=typeof Bn<"u"&&ji(a)||a["@@iterator"];if(!p){if(Xr(a)||(p=Z2(a))||l&&a&&typeof a.length=="number"){p&&(a=p);var m=0,b=function(){};return{s:b,n:function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}},e:function(z){throw z},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k=!0,I=!1,$;return{s:function(){p=p.call(a)},n:function(){var z=p.next();return k=z.done,z},e:function(z){I=!0,$=z},f:function(){try{!k&&p.return!=null&&p.return()}finally{if(I)throw $}}}}function Z2(a,l){var p;if(a){if(typeof a=="string")return LA(a,l);var m=Yt(p=Object.prototype.toString.call(a)).call(p,8,-1);if(m==="Object"&&a.constructor&&(m=a.constructor.name),m==="Map"||m==="Set")return Mf(a);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return LA(a,l)}}function LA(a,l){(l==null||l>a.length)&&(l=a.length);for(var p=0,m=new Array(l);p<l;p++)m[p]=a[p];return m}function ej(a){var l=tj();return function(){var m=ri(a),b;if(l){var k=ri(this).constructor;b=oa(m,arguments,k)}else b=m.apply(this,arguments);return Fv(this,b)}}function tj(){if(typeof Reflect>"u"||!oa||oa.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(oa(Boolean,[],function(){})),!0}catch{return!1}}var rj=function(a){Nl(p,a);var l=ej(p);function p(m,b){var k,I;return g(this,p),I=l.call(this),jt(ti(I),"length",0),jt(ti(I),"_listener",void 0),jt(ti(I),"_data",void 0),jt(ti(I),"_ids",new HI),jt(ti(I),"_options",void 0),I._options=b||{},I._listener=Vo(k=I._onEvent).call(k,ti(I)),I.setData(m),I}return uo(p,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(b){if(this._data){this._data.off&&this._data.off("*",this._listener);var k=this._data.getIds({filter:zr(this._options)}),I=this._data.get(k);this._ids.clear(),this.length=0,this._trigger("remove",{items:k,oldData:I})}if(b!=null){this._data=b;for(var $=this._data.getIds({filter:zr(this._options)}),A=0,z=$.length;A<z;A++){var W=$[A];this._ids.add(W)}this.length=$.length,this._trigger("add",{items:$})}else this._data=new FA;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var b=this._data.getIds({filter:zr(this._options)}),k=Hr(this._ids),I={},$=[],A=[],z=[],W=0,G=b.length;W<G;W++){var J=b[W];I[J]=!0,this._ids.has(J)||($.push(J),this._ids.add(J))}for(var oe=0,Be=k.length;oe<Be;oe++){var lt=k[oe],gt=this._data.get(lt);gt==null?console.error("If you see this, report it please."):I[lt]||(A.push(lt),z.push(gt),this._ids.delete(lt))}this.length+=$.length-A.length,$.length&&this._trigger("add",{items:$}),A.length&&this._trigger("remove",{items:A,oldData:z})}},{key:"get",value:function(b,k){if(this._data==null)return null;var I=null,$;iP(b)||Xr(b)?(I=b,$=k):$=b;var A=a1({},this._options,$),z=zr(this._options),W=$&&zr($);return z&&W&&(A.filter=function(G){return z(G)&&W(G)}),I==null?this._data.get(A):this._data.get(I,A)}},{key:"getIds",value:function(b){if(this._data.length){var k=zr(this._options),I=b!=null?zr(b):null,$;return I?k?$=function(z){return k(z)&&I(z)}:$=I:$=k,this._data.getIds({filter:$,order:b&&b.order})}else return[]}},{key:"forEach",value:function(b,k){if(this._data){var I,$=zr(this._options),A=k&&zr(k),z;A?$?z=function(G){return $(G)&&A(G)}:z=A:z=$,Ke(I=this._data).call(I,b,{filter:z,order:k&&k.order})}}},{key:"map",value:function(b,k){if(this._data){var I,$=zr(this._options),A=k&&zr(k),z;return A?$?z=function(G){return $(G)&&A(G)}:z=A:z=$,Qn(I=this._data).call(I,b,{filter:z,order:k&&k.order})}else return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(b){var k;return this._data.stream(b||jt({},h0,Vo(k=c0(this._ids)).call(k,this._ids)))}},{key:"dispose",value:function(){var b;(b=this._data)!==null&&b!==void 0&&b.off&&this._data.off("*",this._listener);var k="This data view has already been disposed of.",I={get:function(){throw new Error(k)},set:function(){throw new Error(k)},configurable:!1},$=J2(qs(p.prototype)),A;try{for($.s();!(A=$.n()).done;){var z=A.value;Hf(this,z,I)}}catch(W){$.e(W)}finally{$.f()}}},{key:"_onEvent",value:function(b,k,I){if(!(!k||!k.items||!this._data)){var $=k.items,A=[],z=[],W=[],G=[],J=[],oe=[];switch(b){case"add":for(var Be=0,lt=$.length;Be<lt;Be++){var gt=$[Be],Tt=this.get(gt);Tt&&(this._ids.add(gt),A.push(gt))}break;case"update":for(var $t=0,qn=$.length;$t<qn;$t++){var tr=$[$t],ki=this.get(tr);ki?this._ids.has(tr)?(z.push(tr),J.push(k.data[$t]),G.push(k.oldData[$t])):(this._ids.add(tr),A.push(tr)):this._ids.has(tr)&&(this._ids.delete(tr),W.push(tr),oe.push(k.oldData[$t]))}break;case"remove":for(var xi=0,ii=$.length;xi<ii;xi++){var sa=$[xi];this._ids.has(sa)&&(this._ids.delete(sa),W.push(sa),oe.push(k.oldData[xi]))}break}this.length+=A.length-W.length,A.length&&this._trigger("add",{items:A},I),z.length&&this._trigger("update",{items:z,oldData:G,data:J},I),W.length&&this._trigger("remove",{items:W,oldData:oe},I)}}}]),p}(DA);function BA(a,l){return Yr(l)==="object"&&l!==null&&a===l.idProp&&typeof l.add=="function"&&typeof l.clear=="function"&&typeof l.distinct=="function"&&typeof Ke(l)=="function"&&typeof l.get=="function"&&typeof l.getDataSet=="function"&&typeof l.getIds=="function"&&typeof l.length=="number"&&typeof Qn(l)=="function"&&typeof l.max=="function"&&typeof l.min=="function"&&typeof l.off=="function"&&typeof l.on=="function"&&typeof l.remove=="function"&&typeof l.setOptions=="function"&&typeof l.stream=="function"&&typeof l.update=="function"&&typeof l.updateOnly=="function"}function nj(a,l){return Yr(l)==="object"&&l!==null&&a===l.idProp&&typeof Ke(l)=="function"&&typeof l.get=="function"&&typeof l.getDataSet=="function"&&typeof l.getIds=="function"&&typeof l.length=="number"&&typeof Qn(l)=="function"&&typeof l.off=="function"&&typeof l.on=="function"&&typeof l.stream=="function"&&BA(a,l.getDataSet())}h.DELETE=Ch,h.DataSet=FA,h.DataStream=aP,h.DataView=rj,h.Queue=AA,h.createNewDataPipeFrom=Yx,h.isDataSetLike=BA,h.isDataViewLike=nj})});var $D=QS((nC,ND)=>{(function(h,g){typeof nC=="object"&&typeof ND<"u"?g(nC,DD()):typeof define=="function"&&define.amd?define(["exports","vis-data/peer/umd/vis-data.js"],g):g((h=typeof globalThis<"u"?globalThis:h||self).vis=h.vis||{},h.vis)})(nC,function(h,g){var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var P=function(n){return n&&n.Math===Math&&n},R=P(typeof globalThis=="object"&&globalThis)||P(typeof window=="object"&&window)||P(typeof self=="object"&&self)||P(typeof _=="object"&&_)||function(){return this}()||_||Function("return this")(),H=function(n){try{return!!n()}catch{return!0}},q=!H(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")}),le=q,ge=Function.prototype,ce=ge.apply,X=ge.call,Re=typeof Reflect=="object"&&Reflect.apply||(le?X.bind(ce):function(){return X.apply(ce,arguments)}),$e=q,we=Function.prototype,ze=we.call,Vt=$e&&we.bind.bind(ze,ze),Me=$e?Vt:function(n){return function(){return ze.apply(n,arguments)}},rt=Me,nt=rt({}.toString),Rt=rt("".slice),It=function(n){return Rt(nt(n),8,-1)},gr=It,it=Me,dn=function(n){if(gr(n)==="Function")return it(n)},ar=typeof document=="object"&&document.all,te={all:ar,IS_HTMLDDA:ar===void 0&&ar!==void 0},Ie=te.all,Ge=te.IS_HTMLDDA?function(n){return typeof n=="function"||n===Ie}:function(n){return typeof n=="function"},Ce={},ft=!H(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ut=q,Ht=Function.prototype.call,j=ut?Ht.bind(Ht):function(){return Ht.apply(Ht,arguments)},U={},K={}.propertyIsEnumerable,ee=Object.getOwnPropertyDescriptor,ne=ee&&!K.call({1:2},1);U.f=ne?function(n){var e=ee(this,n);return!!e&&e.enumerable}:K;var re,de,me=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}},ve=H,ke=It,Ve=Object,Er=Me("".split),Mt=ve(function(){return!Ve("z").propertyIsEnumerable(0)})?function(n){return ke(n)==="String"?Er(n,""):Ve(n)}:Ve,_t=function(n){return n==null},Gt=_t,qr=TypeError,oi=function(n){if(Gt(n))throw new qr("Can't call method on "+n);return n},Ti=Mt,os=oi,An=function(n){return Ti(os(n))},fr=Ge,Gr=te.all,$r=te.IS_HTMLDDA?function(n){return typeof n=="object"?n!==null:fr(n)||n===Gr}:function(n){return typeof n=="object"?n!==null:fr(n)},Xe={},rr=Xe,gu=R,Jv=Ge,Rr=function(n){return Jv(n)?n:void 0},Dt=function(n,e){return arguments.length<2?Rr(rr[n])||Rr(gu[n]):rr[n]&&rr[n][e]||gu[n]&&gu[n][e]},Ct=Me({}.isPrototypeOf),ir=typeof navigator<"u"&&String(navigator.userAgent)||"",To=R,zl=ir,Mr=To.process,Zv=To.Deno,mr=Mr&&Mr.versions||Zv&&Zv.version,Yi=mr&&mr.v8;Yi&&(de=(re=Yi.split("."))[0]>0&&re[0]<4?1:+(re[0]+re[1])),!de&&zl&&(!(re=zl.match(/Edge\/(\d+)/))||re[1]>=74)&&(re=zl.match(/Chrome\/(\d+)/))&&(de=+re[1]);var la=de,Ki=la,ep=H,b0=R.String,ai=!!Object.getOwnPropertySymbols&&!ep(function(){var n=Symbol("symbol detection");return!b0(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&Ki&&Ki<41}),Vh=ai&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Si=Dt,Wh=Ge,mu=Ct,_0=Object,So=Vh?function(n){return typeof n=="symbol"}:function(n){var e=Si("Symbol");return Wh(e)&&mu(e.prototype,_0(n))},bu=String,Ii=function(n){try{return bu(n)}catch{return"Object"}},w0=Ge,jE=Ii,FE=TypeError,Or=function(n){if(w0(n))return n;throw new FE(jE(n)+" is not a function")},LE=Or,BE=_t,Io=function(n,e){var t=n[e];return BE(t)?void 0:LE(t)},Hl=j,Xi=Ge,Ul=$r,zE=TypeError,tp={exports:{}},rn=R,HE=Object.defineProperty,UE=function(n,e){try{HE(rn,n,{value:e,configurable:!0,writable:!0})}catch{rn[n]=e}return e},Vl="__core-js_shared__",as=R[Vl]||UE(Vl,{}),Wl=as;(tp.exports=function(n,e){return Wl[n]||(Wl[n]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Yn=tp.exports,VE=oi,WE=Object,nr=function(n){return WE(VE(n))},qE=nr,E0=Me({}.hasOwnProperty),Pt=Object.hasOwn||function(n,e){return E0(qE(n),e)},GE=Me,YE=0,KE=Math.random(),O0=GE(1 .toString),ss=function(n){return"Symbol("+(n===void 0?"":n)+")_"+O0(++YE+KE,36)},rp=Yn,qh=Pt,_u=ss,XE=ai,QE=Vh,vr=R.Symbol,ql=rp("wks"),JE=QE?vr.for||vr:vr&&vr.withoutSetter||_u,yt=function(n){return qh(ql,n)||(ql[n]=XE&&qh(vr,n)?vr[n]:JE("Symbol."+n)),ql[n]},kr=j,np=$r,ip=So,ZE=Io,eO=function(n,e){var t,r;if(e==="string"&&Xi(t=n.toString)&&!Ul(r=Hl(t,n))||Xi(t=n.valueOf)&&!Ul(r=Hl(t,n))||e!=="string"&&Xi(t=n.toString)&&!Ul(r=Hl(t,n)))return r;throw new zE("Can't convert object to primitive value")},Gh=TypeError,tO=yt("toPrimitive"),rO=function(n,e){if(!np(n)||ip(n))return n;var t,r=ZE(n,tO);if(r){if(e===void 0&&(e="default"),t=kr(r,n,e),!np(t)||ip(t))return t;throw new Gh("Can't convert object to primitive value")}return e===void 0&&(e="number"),eO(n,e)},k0=So,us=function(n){var e=rO(n,"string");return k0(e)?e:e+""},op=$r,Gl=R.document,wu=op(Gl)&&op(Gl.createElement),Eu=function(n){return wu?Gl.createElement(n):{}},nO=Eu,hr=!ft&&!H(function(){return Object.defineProperty(nO("div"),"a",{get:function(){return 7}}).a!==7}),iO=ft,x0=j,T0=U,oO=me,aO=An,sO=us,uO=Pt,lO=hr,ap=Object.getOwnPropertyDescriptor;Ce.f=iO?ap:function(n,e){if(n=aO(n),e=sO(e),lO)try{return ap(n,e)}catch{}if(uO(n,e))return oO(!x0(T0.f,n,e),n[e])};var cO=H,hO=Ge,Yh=/#|\.prototype\./,Co=function(n,e){var t=sp[S0(n)];return t===up||t!==dO&&(hO(e)?cO(e):!!e)},S0=Co.normalize=function(n){return String(n).replace(Yh,".").toLowerCase()},sp=Co.data={},dO=Co.NATIVE="N",up=Co.POLYFILL="P",I0=Co,fO=Or,vO=q,C0=dn(dn.bind),si=function(n,e){return fO(n),e===void 0?n:vO?C0(n,e):function(){return n.apply(e,arguments)}},sr={},lp=ft&&H(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),pO=$r,yO=String,gO=TypeError,ur=function(n){if(pO(n))return n;throw new gO(yO(n)+" is not an object")},mO=ft,P0=hr,bO=lp,ls=ur,cp=us,Yl=TypeError,Kl=Object.defineProperty,_O=Object.getOwnPropertyDescriptor,Xl="enumerable",Ql="configurable",Ou="writable";sr.f=mO?bO?function(n,e,t){if(ls(n),e=cp(e),ls(t),typeof n=="function"&&e==="prototype"&&"value"in t&&Ou in t&&!t[Ou]){var r=_O(n,e);r&&r[Ou]&&(n[e]=t.value,t={configurable:Ql in t?t[Ql]:r[Ql],enumerable:Xl in t?t[Xl]:r[Xl],writable:!1})}return Kl(n,e,t)}:Kl:function(n,e,t){if(ls(n),e=cp(e),ls(t),P0)try{return Kl(n,e,t)}catch{}if("get"in t||"set"in t)throw new Yl("Accessors not supported");return"value"in t&&(n[e]=t.value),n};var A0=sr,wO=me,Dn=ft?function(n,e,t){return A0.f(n,e,wO(1,t))}:function(n,e,t){return n[e]=t,n},cs=R,ca=Re,Kn=dn,EO=Ge,OO=Ce.f,D0=I0,Ci=Xe,kO=si,Pi=Dn,fn=Pt,xO=function(n){var e=function(t,r,i){if(this instanceof e){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,r)}return new n(t,r,i)}return ca(n,this,arguments)};return e.prototype=n.prototype,e},pe=function(n,e){var t,r,i,o,u,d,v,E,T,S=n.target,N=n.global,F=n.stat,L=n.proto,V=N?cs:F?cs[S]:(cs[S]||{}).prototype,Z=N?Ci:Ci[S]||Pi(Ci,S,{})[S],se=Z.prototype;for(o in e)r=!(t=D0(N?o:S+(F?".":"#")+o,n.forced))&&V&&fn(V,o),d=Z[o],r&&(v=n.dontCallGetSet?(T=OO(V,o))&&T.value:V[o]),u=r&&v?v:e[o],r&&typeof d==typeof u||(E=n.bind&&r?kO(u,cs):n.wrap&&r?xO(u):L&&EO(u)?Kn(u):u,(n.sham||u&&u.sham||d&&d.sham)&&Pi(E,"sham",!0),Pi(Z,o,E),L&&(fn(Ci,i=S+"Prototype")||Pi(Ci,i,{}),Pi(Ci[i],o,u),n.real&&se&&(t||!se[o])&&Pi(se,o,u)))},TO=Math.ceil,Kh=Math.floor,hp=Math.trunc||function(n){var e=+n;return(e>0?Kh:TO)(e)},Jl=function(n){var e=+n;return e!=e||e===0?0:hp(e)},dp=Jl,N0=Math.max,Xh=Math.min,Qi=function(n,e){var t=dp(n);return t<0?N0(t+e,0):Xh(t,e)},fp=Jl,ha=Math.min,SO=function(n){return n>0?ha(fp(n),9007199254740991):0},ui=function(n){return SO(n.length)},Po=An,hs=Qi,IO=ui,$0=function(n){return function(e,t,r){var i,o=Po(e),u=IO(o),d=hs(r,u);if(n&&t!=t){for(;u>d;)if((i=o[d++])!=i)return!0}else for(;u>d;d++)if((n||d in o)&&o[d]===t)return n||d||0;return!n&&-1}},vp={includes:$0(!0),indexOf:$0(!1)},nn={},pp=Pt,da=An,CO=vp.indexOf,ku=nn,yp=Me([].push),ds=function(n,e){var t,r=da(n),i=0,o=[];for(t in r)!pp(ku,t)&&pp(r,t)&&yp(o,t);for(;e.length>i;)pp(r,t=e[i++])&&(~CO(o,t)||yp(o,t));return o},at=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gp=ds,PO=at,Zl=Object.keys||function(n){return gp(n,PO)},fa={};fa.f=Object.getOwnPropertySymbols;var mp=ft,AO=Me,DO=j,Ao=H,Qh=Zl,bp=fa,NO=U,R0=nr,$O=Mt,xu=Object.assign,Jh=Object.defineProperty,Zh=AO([].concat),RO=!xu||Ao(function(){if(mp&&xu({b:1},xu(Jh({},"a",{enumerable:!0,get:function(){Jh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var n={},e={},t=Symbol("assign detection"),r="abcdefghijklmnopqrst";return n[t]=7,r.split("").forEach(function(i){e[i]=i}),xu({},n)[t]!==7||Qh(xu({},e)).join("")!==r})?function(n,e){for(var t=R0(n),r=arguments.length,i=1,o=bp.f,u=NO.f;r>i;)for(var d,v=$O(arguments[i++]),E=o?Zh(Qh(v),o(v)):Qh(v),T=E.length,S=0;T>S;)d=E[S++],mp&&!DO(u,v,d)||(t[d]=v[d]);return t}:xu,Ji=RO;pe({target:"Object",stat:!0,arity:2,forced:Object.assign!==Ji},{assign:Ji});var xr=O(Xe.Object.assign),ec=Me([].slice),ed=Me,MO=Or,td=$r,tc=Pt,_p=ec,rd=q,wp=Function,li=ed([].concat),jO=ed([].join),Ep={},rc=rd?wp.bind:function(n){var e=MO(this),t=e.prototype,r=_p(arguments,1),i=function(){var o=li(r,_p(arguments));return this instanceof i?function(u,d,v){if(!tc(Ep,d)){for(var E=[],T=0;T<d;T++)E[T]="a["+T+"]";Ep[d]=wp("C,a","return new C("+jO(E,",")+")")}return Ep[d](u,v)}(e,o.length,o):e.apply(n,o)};return td(t)&&(i.prototype=t),i},M0=rc;pe({target:"Function",proto:!0,forced:Function.bind!==M0},{bind:M0});var nd=Xe,jr=function(n){return nd[n+"Prototype"]},Tu=jr("Function").bind,FO=Ct,nc=Tu,id=Function.prototype,Op=function(n){var e=n.bind;return n===id||FO(id,n)&&e===id.bind?nc:e},j0=Op,Oe=O(j0);function Su(n,e,t,r){n.beginPath(),n.arc(e,t,r,0,2*Math.PI,!1),n.closePath()}function F0(n,e,t,r,i,o){var u=Math.PI/180;r-2*o<0&&(o=r/2),i-2*o<0&&(o=i/2),n.beginPath(),n.moveTo(e+o,t),n.lineTo(e+r-o,t),n.arc(e+r-o,t+o,o,270*u,360*u,!1),n.lineTo(e+r,t+i-o),n.arc(e+r-o,t+i-o,o,0,90*u,!1),n.lineTo(e+o,t+i),n.arc(e+o,t+i-o,o,90*u,180*u,!1),n.lineTo(e,t+o),n.arc(e+o,t+o,o,180*u,270*u,!1),n.closePath()}function od(n,e,t,r,i){var o=.5522848,u=r/2*o,d=i/2*o,v=e+r,E=t+i,T=e+r/2,S=t+i/2;n.beginPath(),n.moveTo(e,S),n.bezierCurveTo(e,S-d,T-u,t,T,t),n.bezierCurveTo(T+u,t,v,S-d,v,S),n.bezierCurveTo(v,S+d,T+u,E,T,E),n.bezierCurveTo(T-u,E,e,S+d,e,S),n.closePath()}function kp(n,e,t,r,i){var o=i*.3333333333333333,u=.5522848,d=r/2*u,v=o/2*u,E=e+r,T=t+o,S=e+r/2,N=t+o/2,F=t+(i-o/2),L=t+i;n.beginPath(),n.moveTo(E,N),n.bezierCurveTo(E,N+v,S+d,T,S,T),n.bezierCurveTo(S-d,T,e,N+v,e,N),n.bezierCurveTo(e,N-v,S-d,t,S,t),n.bezierCurveTo(S+d,t,E,N-v,E,N),n.lineTo(E,F),n.bezierCurveTo(E,F+v,S+d,L,S,L),n.bezierCurveTo(S-d,L,e,F+v,e,F),n.lineTo(e,N)}function L0(n,e,t,r,i,o){n.beginPath(),n.moveTo(e,t);for(var u=o.length,d=r-e,v=i-t,E=v/d,T=Math.sqrt(d*d+v*v),S=0,N=!0,F=0,L=+o[0];T>=.1;)(L=+o[S++%u])>T&&(L=T),F=Math.sqrt(L*L/(1+E*E)),e+=F=d<0?-F:F,t+=E*F,N===!0?n.lineTo(e,t):n.moveTo(e,t),T-=L,N=!N}var B0={circle:Su,dashedLine:L0,database:kp,diamond:function(n,e,t,r){n.beginPath(),n.lineTo(e,t+r),n.lineTo(e+r,t),n.lineTo(e,t-r),n.lineTo(e-r,t),n.closePath()},ellipse:od,ellipse_vis:od,hexagon:function(n,e,t,r){n.beginPath();var i=2*Math.PI/6;n.moveTo(e+r,t);for(var o=1;o<6;o++)n.lineTo(e+r*Math.cos(i*o),t+r*Math.sin(i*o));n.closePath()},roundRect:F0,square:function(n,e,t,r){n.beginPath(),n.rect(e-r,t-r,2*r,2*r),n.closePath()},star:function(n,e,t,r){n.beginPath(),t+=.1*(r*=.82);for(var i=0;i<10;i++){var o=i%2==0?1.3*r:.5*r;n.lineTo(e+o*Math.sin(2*i*Math.PI/10),t-o*Math.cos(2*i*Math.PI/10))}n.closePath()},triangle:function(n,e,t,r){n.beginPath(),t+=.275*(r*=1.15);var i=2*r,o=i/2,u=Math.sqrt(3)/6*i,d=Math.sqrt(i*i-o*o);n.moveTo(e,t-(d-u)),n.lineTo(e+o,t+u),n.lineTo(e-o,t+u),n.lineTo(e,t-(d-u)),n.closePath()},triangleDown:function(n,e,t,r){n.beginPath(),t-=.275*(r*=1.15);var i=2*r,o=i/2,u=Math.sqrt(3)/6*i,d=Math.sqrt(i*i-o*o);n.moveTo(e,t+(d-u)),n.lineTo(e+o,t-u),n.lineTo(e-o,t-u),n.lineTo(e,t+(d-u)),n.closePath()}},Zi={exports:{}};(function(n){function e(t){if(t)return function(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}(t)}n.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this},e.prototype.once=function(t,r){function i(){this.off(t,i),r.apply(this,arguments)}return i.fn=r,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i,o=this._callbacks["$"+t];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var u=0;u<o.length;u++)if((i=o[u])===r||i.fn===r){o.splice(u,1);break}return o.length===0&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),i=this._callbacks["$"+t],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(i){o=0;for(var u=(i=i.slice(0)).length;o<u;++o)i[o].apply(this,r)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})(Zi);var xp=O(Zi.exports),z0={};z0[yt("toStringTag")]="z";var Iu,ic,oc,Do=String(z0)==="[object z]",ad=Do,H0=Ge,sd=It,LO=yt("toStringTag"),ud=Object,U0=sd(function(){return arguments}())==="Arguments",fs=ad?sd:function(n){var e,t,r;return n===void 0?"Undefined":n===null?"Null":typeof(t=function(i,o){try{return i[o]}catch{}}(e=ud(n),LO))=="string"?t:U0?sd(e):(r=sd(e))==="Object"&&H0(e.callee)?"Arguments":r},V0=fs,ld=String,eo=function(n){if(V0(n)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return ld(n)},vs=Me,ps=Jl,W0=eo,cd=oi,q0=vs("".charAt),Tp=vs("".charCodeAt),G0=vs("".slice),hd=function(n){return function(e,t){var r,i,o=W0(cd(e)),u=ps(t),d=o.length;return u<0||u>=d?n?"":void 0:(r=Tp(o,u))<55296||r>56319||u+1===d||(i=Tp(o,u+1))<56320||i>57343?n?q0(o,u):r:n?G0(o,u,u+2):i-56320+(r-55296<<10)+65536}},BO={codeAt:hd(!1),charAt:hd(!0)},Y0=Ge,ac=R.WeakMap,K0=Y0(ac)&&/native code/.test(String(ac)),dd=ss,X0=Yn("keys"),fd=function(n){return X0[n]||(X0[n]=dd(n))},zO=K0,Q0=R,va=$r,J0=Dn,Sp=Pt,vd=as,pd=fd,HO=nn,Z0="Object already initialized",sc=Q0.TypeError,eb=Q0.WeakMap;if(zO||vd.state){var to=vd.state||(vd.state=new eb);to.get=to.get,to.has=to.has,to.set=to.set,Iu=function(n,e){if(to.has(n))throw new sc(Z0);return e.facade=n,to.set(n,e),e},ic=function(n){return to.get(n)||{}},oc=function(n){return to.has(n)}}else{var Cu=pd("state");HO[Cu]=!0,Iu=function(n,e){if(Sp(n,Cu))throw new sc(Z0);return e.facade=n,J0(n,Cu,e),e},ic=function(n){return Sp(n,Cu)?n[Cu]:{}},oc=function(n){return Sp(n,Cu)}}var ci={set:Iu,get:ic,has:oc,enforce:function(n){return oc(n)?ic(n):Iu(n,{})},getterFor:function(n){return function(e){var t;if(!va(e)||(t=ic(e)).type!==n)throw new sc("Incompatible receiver, "+n+" required");return t}}},uc=ft,Ip=Pt,yd=Function.prototype,tb=uc&&Object.getOwnPropertyDescriptor,gd=Ip(yd,"name"),md={EXISTS:gd,PROPER:gd&&function(){}.name==="something",CONFIGURABLE:gd&&(!uc||uc&&tb(yd,"name").configurable)},ro={},Ai=ft,bd=lp,UO=sr,Cp=ur,rb=An,_d=Zl;ro.f=Ai&&!bd?Object.defineProperties:function(n,e){Cp(n);for(var t,r=rb(e),i=_d(e),o=i.length,u=0;o>u;)UO.f(n,t=i[u++],r[t]);return n};var wd,VO=Dt("document","documentElement"),WO=ur,Pp=ro,nb=at,lc=nn,ib=VO,Ap=Eu,Ed="prototype",ys="script",ob=fd("IE_PROTO"),No=function(){},Dp=function(n){return"<"+ys+">"+n+"</"+ys+">"},Pu=function(n){n.write(Dp("")),n.close();var e=n.parentWindow.Object;return n=null,e},pa=function(){try{wd=new ActiveXObject("htmlfile")}catch{}var n,e,t;pa=typeof document<"u"?document.domain&&wd?Pu(wd):(e=Ap("iframe"),t="java"+ys+":",e.style.display="none",ib.appendChild(e),e.src=String(t),(n=e.contentWindow.document).open(),n.write(Dp("document.F=Object")),n.close(),n.F):Pu(wd);for(var r=nb.length;r--;)delete pa[Ed][nb[r]];return pa()};lc[ob]=!0;var gs,ya,Au,$o=Object.create||function(n,e){var t;return n!==null?(No[Ed]=WO(n),t=new No,No[Ed]=null,t[ob]=n):t=pa(),e===void 0?t:Pp.f(t,e)},Np=!H(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),qO=Pt,GO=Ge,YO=nr,br=Np,$p=fd("IE_PROTO"),Rp=Object,KO=Rp.prototype,cc=br?Rp.getPrototypeOf:function(n){var e=YO(n);if(qO(e,$p))return e[$p];var t=e.constructor;return GO(t)&&e instanceof t?t.prototype:e instanceof Rp?KO:null},hc=Dn,dc=function(n,e,t,r){return r&&r.enumerable?n[e]=t:hc(n,e,t),n},XO=H,ab=Ge,QO=$r,JO=$o,sb=cc,ZO=dc,fc=yt("iterator"),Ro=!1;[].keys&&("next"in(Au=[].keys())?(ya=sb(sb(Au)))!==Object.prototype&&(gs=ya):Ro=!0);var Mp=!QO(gs)||XO(function(){var n={};return gs[fc].call(n)!==n});ab((gs=Mp?{}:JO(gs))[fc])||ZO(gs,fc,function(){return this});var vc={IteratorPrototype:gs,BUGGY_SAFARI_ITERATORS:Ro},ub=fs,Od=Do?{}.toString:function(){return"[object "+ub(this)+"]"},lb=Do,cb=sr.f,jp=Dn,Du=Pt,kd=Od,ga=yt("toStringTag"),Di=function(n,e,t,r){if(n){var i=t?n:n.prototype;Du(i,ga)||cb(i,ga,{configurable:!0,value:e}),r&&!lb&&jp(i,"toString",kd)}},ma={},ek=vc.IteratorPrototype,no=$o,ba=me,Mo=Di,tk=ma,rk=function(){return this},nk=Me,ik=Or,hb=Ge,db=String,_a=TypeError,ms=function(n,e,t){try{return nk(ik(Object.getOwnPropertyDescriptor(n,e)[t]))}catch{}},xd=ur,Td=function(n){if(typeof n=="object"||hb(n))return n;throw new _a("Can't set "+db(n)+" as a prototype")},Fp=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=ms(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch{}return function(r,i){return xd(r),Td(i),e?n(r,i):r.__proto__=i,r}}():void 0),pc=pe,Nu=j,Ni=md,ok=function(n,e,t,r){var i=e+" Iterator";return n.prototype=no(ek,{next:ba(+!r,t)}),Mo(n,i,!1,!0),tk[i]=rk,n},Tr=cc,yc=Di,Sd=dc,$u=ma,Lp=vc,ak=Ni.PROPER,Ru=Lp.BUGGY_SAFARI_ITERATORS,Zt=yt("iterator"),Bp="keys",Id="values",zp="entries",sk=function(){return this},gc=function(n,e,t,r,i,o,u){ok(t,e,r);var d,v,E,T=function(se){if(se===i&&V)return V;if(!Ru&&se&&se in F)return F[se];switch(se){case Bp:case Id:case zp:return function(){return new t(this,se)}}return function(){return new t(this)}},S=e+" Iterator",N=!1,F=n.prototype,L=F[Zt]||F["@@iterator"]||i&&F[i],V=!Ru&&L||T(i),Z=e==="Array"&&F.entries||L;if(Z&&(d=Tr(Z.call(new n)))!==Object.prototype&&d.next&&(yc(d,S,!0,!0),$u[S]=sk),ak&&i===Id&&L&&L.name!==Id&&(N=!0,V=function(){return Nu(L,this)}),i)if(v={values:T(Id),keys:o?V:T(Bp),entries:T(zp)},u)for(E in v)(Ru||N||!(E in F))&&Sd(F,E,v[E]);else pc({target:e,proto:!0,forced:Ru||N},v);return u&&F[Zt]!==V&&Sd(F,Zt,V,{name:i}),$u[e]=V,v},Cd=function(n,e){return{value:n,done:e}},uk=BO.charAt,fb=eo,Hp=ci,lk=gc,Pd=Cd,Up="String Iterator",vb=Hp.set,ck=Hp.getterFor(Up);lk(String,"String",function(n){vb(this,{type:Up,string:fb(n),index:0})},function(){var n,e=ck(this),t=e.string,r=e.index;return r>=t.length?Pd(void 0,!0):(n=uk(t,r),e.index+=n.length,Pd(n,!1))});var pb=j,wa=ur,hk=Io,yb=function(n,e,t){var r,i;wa(n);try{if(!(r=hk(n,"return"))){if(e==="throw")throw t;return t}r=pb(r,n)}catch(o){i=!0,r=o}if(e==="throw")throw t;if(i)throw r;return wa(r),t},Vp=ur,Ad=yb,Nn=ma,mc=yt("iterator"),bc=Array.prototype,gb=function(n){return n!==void 0&&(Nn.Array===n||bc[mc]===n)},Dd=Ge,vn=as,bs=Me(Function.toString);Dd(vn.inspectSource)||(vn.inspectSource=function(n){return bs(n)});var Nd=vn.inspectSource,mb=Me,_c=H,Wp=Ge,io=fs,Mu=Nd,wc=function(){},bb=[],oo=Dt("Reflect","construct"),on=/^\s*(?:class|function)\b/,ju=mb(on.exec),Ea=!on.test(wc),_s=function(n){if(!Wp(n))return!1;try{return oo(wc,bb,n),!0}catch{return!1}},$d=function(n){if(!Wp(n))return!1;switch(io(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ea||!!ju(on,Mu(n))}catch{return!0}};$d.sham=!0;var ws=!oo||_c(function(){var n;return _s(_s.call)||!_s(Object)||!_s(function(){n=!0})||n})?$d:_s,qp=us,_b=sr,wb=me,Oa=function(n,e,t){var r=qp(e);r in n?_b.f(n,r,wb(0,t)):n[r]=t},jo=fs,ka=Io,Rd=_t,Gp=ma,Yp=yt("iterator"),Md=function(n){if(!Rd(n))return ka(n,Yp)||ka(n,"@@iterator")||Gp[jo(n)]},Es=j,Fu=Or,Kp=ur,Fr=Ii,dk=Md,Xp=TypeError,Ec=function(n,e){var t=arguments.length<2?dk(n):e;if(Fu(t))return Kp(Es(t,n));throw new Xp(Fr(n)+" is not iterable")},Qp=si,fk=j,jd=nr,Fo=function(n,e,t,r){try{return r?e(Vp(t)[0],t[1]):e(t)}catch(i){Ad(n,"throw",i)}},Jp=gb,vk=ws,Zp=ui,Eb=Oa,ey=Ec,Ob=Md,ty=Array,Fd=yt("iterator"),ry=!1;try{var Oc=0,kc={next:function(){return{done:!!Oc++}},return:function(){ry=!0}};kc[Fd]=function(){return this},Array.from(kc,function(){throw 2})}catch{}var kb=function(n){var e=jd(n),t=vk(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=i!==void 0;o&&(i=Qp(i,r>2?arguments[2]:void 0));var u,d,v,E,T,S,N=Ob(e),F=0;if(!N||this===ty&&Jp(N))for(u=Zp(e),d=t?new this(u):ty(u);u>F;F++)S=o?i(e[F],F):e[F],Eb(d,F,S);else for(T=(E=ey(e,N)).next,d=t?new this:[];!(v=fk(T,E)).done;F++)S=o?Fo(E,i,[v.value,F],!0):v.value,Eb(d,F,S);return d.length=F,d},ny=function(n,e){try{if(!e&&!ry)return!1}catch{return!1}var t=!1;try{var r={};r[Fd]=function(){return{next:function(){return{done:t=!0}}}},n(r)}catch{}return t};pe({target:"Array",stat:!0,forced:!ny(function(n){Array.from(n)})},{from:kb});var Ld=Xe.Array.from,Os=O(Ld),pk=An,xb=ma,Lo=ci;sr.f;var Bd=gc,Lu=Cd,xc="Array Iterator",$n=Lo.set,zd=Lo.getterFor(xc);Bd(Array,"Array",function(n,e){$n(this,{type:xc,target:pk(n),index:0,kind:e})},function(){var n=zd(this),e=n.target,t=n.kind,r=n.index++;if(!e||r>=e.length)return n.target=void 0,Lu(void 0,!0);switch(t){case"keys":return Lu(r,!1);case"values":return Lu(e[r],!1)}return Lu([r,e[r]],!1)},"values"),xb.Arguments=xb.Array;var Tc=Md,Tb={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},iy=R,hi=fs,xa=Dn,Bu=ma,Sb=yt("toStringTag");for(var zu in Tb){var oy=iy[zu],Bo=oy&&oy.prototype;Bo&&hi(Bo)!==Sb&&xa(Bo,Sb,zu),Bu[zu]=Bu.Array}var ay=Tc,Ib=O(ay),Rn=O(ay);function Ee(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var ks={exports:{}},yk=pe,Ta=ft,Hu=sr.f;yk({target:"Object",stat:!0,forced:Object.defineProperty!==Hu,sham:!Ta},{defineProperty:Hu});var Hd=Xe.Object,Sc=ks.exports=function(n,e,t){return Hd.defineProperty(n,e,t)};Hd.defineProperty.sham&&(Sc.sham=!0);var Ud=ks.exports,Uu=O(Ud),Cb=It,zo=Array.isArray||function(n){return Cb(n)==="Array"},Pb=TypeError,Vd=function(n){if(n>9007199254740991)throw Pb("Maximum allowed index exceeded");return n},Ab=zo,Db=ws,Nb=$r,sy=yt("species"),$b=Array,Wd=function(n){var e;return Ab(n)&&(e=n.constructor,(Db(e)&&(e===$b||Ab(e.prototype))||Nb(e)&&(e=e[sy])===null)&&(e=void 0)),e===void 0?$b:e},qd=function(n,e){return new(Wd(n))(e===0?0:e)},gk=H,uy=la,mk=yt("species"),Vu=function(n){return uy>=51||!gk(function(){var e=[];return(e.constructor={})[mk]=function(){return{foo:1}},e[n](Boolean).foo!==1})},bk=pe,ly=H,Rb=zo,_k=$r,Mb=nr,jb=ui,Fb=Vd,Wu=Oa,wk=qd,Lb=Vu,Ek=la,cy=yt("isConcatSpreadable"),Ok=Ek>=51||!ly(function(){var n=[];return n[cy]=!1,n.concat()[0]!==n}),Bb=function(n){if(!_k(n))return!1;var e=n[cy];return e!==void 0?!!e:Rb(n)};bk({target:"Array",proto:!0,arity:1,forced:!Ok||!Lb("concat")},{concat:function(n){var e,t,r,i,o,u=Mb(this),d=wk(u,0),v=0;for(e=-1,r=arguments.length;e<r;e++)if(Bb(o=e===-1?u:arguments[e]))for(i=jb(o),Fb(v+i),t=0;t<i;t++,v++)t in o&&Wu(d,v,o[t]);else Fb(v+1),Wu(d,v++,o);return d.length=v,d}});var Ic={},kk=ds,zb=at.concat("length","prototype");Ic.f=Object.getOwnPropertyNames||function(n){return kk(n,zb)};var Cc={},Hb=Qi,qu=ui,Ub=Oa,Vb=Array,Wb=Math.max,hy=function(n,e,t){for(var r=qu(n),i=Hb(e,r),o=Hb(t===void 0?r:t,r),u=Vb(Wb(o-i,0)),d=0;i<o;i++,d++)Ub(u,d,n[i]);return u.length=d,u},xk=It,Tk=An,dy=Ic.f,Ho=hy,Pc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Cc.f=function(n){return Pc&&xk(n)==="Window"?function(e){try{return dy(e)}catch{return Ho(Pc)}}(n):dy(Tk(n))};var qb=sr,Gu=function(n,e,t){return qb.f(n,e,t)},xs={},Gb=yt;xs.f=Gb;var Ac=Xe,fy=Pt,Yb=xs,Gd=sr.f,lr=function(n){var e=Ac.Symbol||(Ac.Symbol={});fy(e,n)||Gd(e,n,{value:Yb.f(n)})},Sk=j,Kb=Dt,Xb=yt,Ik=dc,vy=function(){var n=Kb("Symbol"),e=n&&n.prototype,t=e&&e.valueOf,r=Xb("toPrimitive");e&&!e[r]&&Ik(e,r,function(i){return Sk(t,this)},{arity:1})},py=si,Ck=Mt,Pk=nr,Ak=ui,Dk=qd,Qb=Me([].push),Sa=function(n){var e=n===1,t=n===2,r=n===3,i=n===4,o=n===6,u=n===7,d=n===5||o;return function(v,E,T,S){for(var N,F,L=Pk(v),V=Ck(L),Z=py(E,T),se=Ak(V),ye=0,De=S||Dk,Ne=e?De(v,se):t||u?De(v,0):void 0;se>ye;ye++)if((d||ye in V)&&(F=Z(N=V[ye],ye,L),n))if(e)Ne[ye]=F;else if(F)switch(n){case 3:return!0;case 5:return N;case 6:return ye;case 2:Qb(Ne,N)}else switch(n){case 4:return!1;case 7:Qb(Ne,N)}return o?-1:r||i?i:Ne}},ao={forEach:Sa(0),map:Sa(1),filter:Sa(2),some:Sa(3),every:Sa(4),find:Sa(5),findIndex:Sa(6),filterReject:Sa(7)},Dc=pe,Yu=R,Yd=j,yy=Me,Ts=ft,Ku=ai,Nk=H,Lr=Pt,Jb=Ct,gy=ur,Kd=An,my=us,$k=eo,Xd=me,Nc=$o,Ss=Zl,by=Ic,$c=Cc,_y=fa,wy=Ce,Qd=sr,Zb=ro,Jd=U,Ey=dc,Rk=Gu,Rc=Yn,Zd=nn,Is=ss,Oy=yt,Mk=xs,jk=lr,e_=vy,ky=Di,xy=ci,Cs=ao.forEach,pn=fd("hidden"),ef="Symbol",Mc="prototype",t_=xy.set,Ty=xy.getterFor(ef),di=Object[Mc],Ia=Yu.Symbol,Xu=Ia&&Ia[Mc],r_=Yu.RangeError,so=Yu.TypeError,Qu=Yu.QObject,tf=wy.f,pr=Qd.f,Sy=$c.f,n_=Jd.f,Iy=yy([].push),yn=Rc("symbols"),At=Rc("op-symbols"),i_=Rc("wks"),Cy=!Qu||!Qu[Mc]||!Qu[Mc].findChild,o_=function(n,e,t){var r=tf(di,e);r&&delete di[e],pr(n,e,t),r&&n!==di&&pr(di,e,r)},Py=Ts&&Nk(function(){return Nc(pr({},"a",{get:function(){return pr(this,"a",{value:7}).a}})).a!==7})?o_:pr,rf=function(n,e){var t=yn[n]=Nc(Xu);return t_(t,{type:ef,tag:n,description:e}),Ts||(t.description=e),t},nf=function(n,e,t){n===di&&nf(At,e,t),gy(n);var r=my(e);return gy(t),Lr(yn,r)?(t.enumerable?(Lr(n,pn)&&n[pn][r]&&(n[pn][r]=!1),t=Nc(t,{enumerable:Xd(0,!1)})):(Lr(n,pn)||pr(n,pn,Xd(1,{})),n[pn][r]=!0),Py(n,r,t)):pr(n,r,t)},of=function(n,e){gy(n);var t=Kd(e),r=Ss(t).concat(Ay(t));return Cs(r,function(i){Ts&&!Yd(a_,t,i)||nf(n,i,t[i])}),n},a_=function(n){var e=my(n),t=Yd(n_,this,e);return!(this===di&&Lr(yn,e)&&!Lr(At,e))&&(!(t||!Lr(this,e)||!Lr(yn,e)||Lr(this,pn)&&this[pn][e])||t)},s_=function(n,e){var t=Kd(n),r=my(e);if(t!==di||!Lr(yn,r)||Lr(At,r)){var i=tf(t,r);return!i||!Lr(yn,r)||Lr(t,pn)&&t[pn][r]||(i.enumerable=!0),i}},af=function(n){var e=Sy(Kd(n)),t=[];return Cs(e,function(r){Lr(yn,r)||Lr(Zd,r)||Iy(t,r)}),t},Ay=function(n){var e=n===di,t=Sy(e?At:Kd(n)),r=[];return Cs(t,function(i){!Lr(yn,i)||e&&!Lr(di,i)||Iy(r,yn[i])}),r};Ku||(Ia=function(){if(Jb(Xu,this))throw new so("Symbol is not a constructor");var n=arguments.length&&arguments[0]!==void 0?$k(arguments[0]):void 0,e=Is(n),t=function(r){this===di&&Yd(t,At,r),Lr(this,pn)&&Lr(this[pn],e)&&(this[pn][e]=!1);var i=Xd(1,r);try{Py(this,e,i)}catch(o){if(!(o instanceof r_))throw o;o_(this,e,i)}};return Ts&&Cy&&Py(di,e,{configurable:!0,set:t}),rf(e,n)},Ey(Xu=Ia[Mc],"toString",function(){return Ty(this).tag}),Ey(Ia,"withoutSetter",function(n){return rf(Is(n),n)}),Jd.f=a_,Qd.f=nf,Zb.f=of,wy.f=s_,by.f=$c.f=af,_y.f=Ay,Mk.f=function(n){return rf(Oy(n),n)},Ts&&Rk(Xu,"description",{configurable:!0,get:function(){return Ty(this).description}})),Dc({global:!0,constructor:!0,wrap:!0,forced:!Ku,sham:!Ku},{Symbol:Ia}),Cs(Ss(i_),function(n){jk(n)}),Dc({target:ef,stat:!0,forced:!Ku},{useSetter:function(){Cy=!0},useSimple:function(){Cy=!1}}),Dc({target:"Object",stat:!0,forced:!Ku,sham:!Ts},{create:function(n,e){return e===void 0?Nc(n):of(Nc(n),e)},defineProperty:nf,defineProperties:of,getOwnPropertyDescriptor:s_}),Dc({target:"Object",stat:!0,forced:!Ku},{getOwnPropertyNames:af}),e_(),ky(Ia,ef),Zd[pn]=!0;var Dy=ai&&!!Symbol.for&&!!Symbol.keyFor,Fk=pe,an=Dt,Lk=Pt,Bk=eo,Ny=Yn,$y=Dy,sf=Ny("string-to-symbol-registry"),Ps=Ny("symbol-to-string-registry");Fk({target:"Symbol",stat:!0,forced:!$y},{for:function(n){var e=Bk(n);if(Lk(sf,e))return sf[e];var t=an("Symbol")(e);return sf[e]=t,Ps[t]=e,t}});var u_=pe,zk=Pt,l_=So,c_=Ii,Hk=Dy,Ju=Yn("symbol-to-string-registry");u_({target:"Symbol",stat:!0,forced:!Hk},{keyFor:function(n){if(!l_(n))throw new TypeError(c_(n)+" is not a symbol");if(zk(Ju,n))return Ju[n]}});var uf=zo,h_=Ge,Ca=It,Zu=eo,d_=Me([].push),Ry=pe,lf=Dt,f_=Re,cf=j,As=Me,v_=H,jc=Ge,My=So,p_=ec,jy=function(n){if(h_(n))return n;if(uf(n)){for(var e=n.length,t=[],r=0;r<e;r++){var i=n[r];typeof i=="string"?d_(t,i):typeof i!="number"&&Ca(i)!=="Number"&&Ca(i)!=="String"||d_(t,Zu(i))}var o=t.length,u=!0;return function(d,v){if(u)return u=!1,v;if(uf(this))return v;for(var E=0;E<o;E++)if(t[E]===d)return v}}},Br=ai,Uk=String,Pa=lf("JSON","stringify"),hf=As(/./.exec),y_=As("".charAt),df=As("".charCodeAt),Xn=As("".replace),g_=As(1 .toString),Fy=/[\uD800-\uDFFF]/g,Ly=/^[\uD800-\uDBFF]$/,ff=/^[\uDC00-\uDFFF]$/,By=!Br||v_(function(){var n=lf("Symbol")("stringify detection");return Pa([n])!=="[null]"||Pa({a:n})!=="{}"||Pa(Object(n))!=="{}"}),zy=v_(function(){return Pa("\uDF06\uD834")!=='"\\udf06\\ud834"'||Pa("\uDEAD")!=='"\\udead"'}),Vk=function(n,e){var t=p_(arguments),r=jy(e);if(jc(r)||n!==void 0&&!My(n))return t[1]=function(i,o){if(jc(r)&&(o=cf(r,this,Uk(i),o)),!My(o))return o},f_(Pa,null,t)},Wk=function(n,e,t){var r=y_(t,e-1),i=y_(t,e+1);return hf(Ly,n)&&!hf(ff,i)||hf(ff,n)&&!hf(Ly,r)?"\\u"+g_(df(n,0),16):n};Pa&&Ry({target:"JSON",stat:!0,arity:3,forced:By||zy},{stringify:function(n,e,t){var r=p_(arguments),i=f_(By?Vk:Pa,null,r);return zy&&typeof i=="string"?Xn(i,Fy,Wk):i}});var m_=fa,qk=nr;pe({target:"Object",stat:!0,forced:!ai||H(function(){m_.f(1)})},{getOwnPropertySymbols:function(n){var e=m_.f;return e?e(qk(n)):[]}}),lr("asyncIterator"),lr("hasInstance"),lr("isConcatSpreadable"),lr("iterator"),lr("match"),lr("matchAll"),lr("replace"),lr("search"),lr("species"),lr("split");var Gk=vy;lr("toPrimitive"),Gk();var Yk=Dt,Kk=Di;lr("toStringTag"),Kk(Yk("Symbol"),"Symbol"),lr("unscopables"),Di(R.JSON,"JSON",!0);var Fc=Xe.Symbol,Xk=yt,Qk=sr.f,b_=Xk("metadata"),__=Function.prototype;__[b_]===void 0&&Qk(__,b_,{value:null}),lr("asyncDispose"),lr("dispose"),lr("metadata");var Hy=Fc,Jk=Me,vf=Dt("Symbol"),Zk=vf.keyFor,pf=Jk(vf.prototype.valueOf),Uy=vf.isRegisteredSymbol||function(n){try{return Zk(pf(n))!==void 0}catch{return!1}};pe({target:"Symbol",stat:!0},{isRegisteredSymbol:Uy});for(var w_=Yn,E_=Dt,Vy=Me,Wy=So,qy=yt,yf=E_("Symbol"),Gy=yf.isWellKnownSymbol,O_=E_("Object","getOwnPropertyNames"),gf=Vy(yf.prototype.valueOf),k_=w_("wks"),Yy=0,x_=O_(yf),ex=x_.length;Yy<ex;Yy++)try{var T_=x_[Yy];Wy(yf[T_])&&qy(T_)}catch{}var S_=function(n){if(Gy&&Gy(n))return!0;try{for(var e=gf(n),t=0,r=O_(k_),i=r.length;t<i;t++)if(k_[r[t]]==e)return!0}catch{}return!1};pe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:S_}),lr("matcher"),lr("observable"),pe({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Uy}),pe({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:S_}),lr("metadataKey"),lr("patternMatch"),lr("replaceAll");var Aa=O(Hy),Ky=O(xs.f("iterator"));function Lt(n){return Lt=typeof Aa=="function"&&typeof Ky=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Aa=="function"&&e.constructor===Aa&&e!==Aa.prototype?"symbol":typeof e},Lt(n)}var Xy=O(xs.f("toPrimitive"));function I_(n){var e=function(t,r){if(Lt(t)!=="object"||t===null)return t;var i=t[Xy];if(i!==void 0){var o=i.call(t,r||"default");if(Lt(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(n,"string");return Lt(e)==="symbol"?e:String(e)}function C_(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Uu(n,I_(r.key),r)}}function Ae(n,e,t){return e&&C_(n.prototype,e),t&&C_(n,t),Uu(n,"prototype",{writable:!1}),n}pe({target:"Array",stat:!0},{isArray:zo});var P_=Xe.Array.isArray,mf=O(P_),tx=ft,A_=zo,D_=TypeError,N_=Object.getOwnPropertyDescriptor,Qy=tx&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}()?function(n,e){if(A_(n)&&!N_(n,"length").writable)throw new D_("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e},$_=nr,R_=ui,Jy=Qy,M_=Vd;pe({target:"Array",proto:!0,arity:1,forced:H(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=$_(this),t=R_(e),r=arguments.length;M_(t+r);for(var i=0;i<r;i++)e[t]=arguments[i],t++;return Jy(e,t),t}});var j_=jr("Array").push,bf=Ct,el=j_,_f=Array.prototype,F_=function(n){var e=n.push;return n===_f||bf(_f,n)&&e===_f.push?el:e},L_=O(F_),rx=pe,B_=zo,z_=ws,H_=$r,Zy=Qi,U_=ui,V_=An,Yr=Oa,nx=yt,ix=ec,ox=Vu("slice"),ax=nx("species"),Lc=Array,sx=Math.max;rx({target:"Array",proto:!0,forced:!ox},{slice:function(n,e){var t,r,i,o=V_(this),u=U_(o),d=Zy(n,u),v=Zy(e===void 0?u:e,u);if(B_(o)&&(t=o.constructor,(z_(t)&&(t===Lc||B_(t.prototype))||H_(t)&&(t=t[ax])===null)&&(t=void 0),t===Lc||t===void 0))return ix(o,d,v);for(r=new(t===void 0?Lc:t)(sx(v-d,0)),i=0;d<v;d++,i++)d in o&&Yr(r,i,o[d]);return r.length=i,r}});var ux=jr("Array").slice,lx=Ct,cx=ux,wf=Array.prototype,W_=function(n){var e=n.slice;return n===wf||lx(wf,n)&&e===wf.slice?cx:e},q_=W_,G_=O(q_),Ef=O(Ld);function uo(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jt(n,e){var t;if(n){if(typeof n=="string")return uo(n,e);var r=G_(t=Object.prototype.toString.call(n)).call(t,8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Ef(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uo(n,e):void 0}}function yr(n,e){return function(t){if(mf(t))return t}(n)||function(t,r){var i=t==null?null:Aa!==void 0&&Ib(t)||t["@@iterator"];if(i!=null){var o,u,d,v,E=[],T=!0,S=!1;try{if(d=(i=i.call(t)).next,r===0){if(Object(i)!==i)return;T=!1}else for(;!(T=(o=d.call(i)).done)&&(L_(E).call(E,o.value),E.length!==r);T=!0);}catch(N){S=!0,u=N}finally{try{if(!T&&i.return!=null&&(v=i.return(),Object(v)!==v))return}finally{if(S)throw u}}return E}}(n,e)||jt(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $i(n){return function(e){if(mf(e))return uo(e)}(n)||function(e){if(Aa!==void 0&&Ib(e)!=null||e["@@iterator"]!=null)return Ef(e)}(n)||jt(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Uo=O(Fc),Y_=jr("Array").concat,K_=Ct,X_=Y_,Of=Array.prototype,hx=function(n){var e=n.concat;return n===Of||K_(Of,n)&&e===Of.concat?X_:e},kf=O(hx),Ar=O(q_),dx=Dt,Q_=Ic,fx=fa,J_=ur,vx=Me([].concat),gn=dx("Reflect","ownKeys")||function(n){var e=Q_.f(J_(n)),t=fx.f;return t?vx(e,t(n)):e},Wt=O(P_),px=ao.map;pe({target:"Array",proto:!0,forced:!Vu("map")},{map:function(n){return px(this,n,arguments.length>1?arguments[1]:void 0)}});var yx=jr("Array").map,gx=Ct,eg=yx,Bc=Array.prototype,Z_=function(n){var e=n.map;return n===Bc||gx(Bc,n)&&e===Bc.map?eg:e},Da=O(Z_),mx=nr,Vo=Zl;pe({target:"Object",stat:!0,forced:H(function(){Vo(1)})},{keys:function(n){return Vo(mx(n))}});var dr=O(Xe.Object.keys),ew=pe,mn=Date,bn=Me(mn.prototype.getTime);ew({target:"Date",stat:!0},{now:function(){return bn(new mn)}});var Na=O(Xe.Date.now),tw=H,tl=function(n,e){var t=[][n];return!!t&&tw(function(){t.call(null,e||function(){return 1},1)})},bx=ao.forEach,Ds=tl("forEach")?[].forEach:function(n){return bx(this,n,arguments.length>1?arguments[1]:void 0)};pe({target:"Array",proto:!0,forced:[].forEach!==Ds},{forEach:Ds});var xf=jr("Array").forEach,Wo=fs,rw=Pt,_n=Ct,_x=xf,zc=Array.prototype,tg={DOMTokenList:!0,NodeList:!0},wx=function(n){var e=n.forEach;return n===zc||_n(zc,n)&&e===zc.forEach||rw(tg,Wo(n))?_x:e},er=O(wx),Ex=pe,Ox=zo,kx=Me([].reverse),nw=[1,2];Ex({target:"Array",proto:!0,forced:String(nw)===String(nw.reverse())},{reverse:function(){return Ox(this)&&(this.length=this.length),kx(this)}});var rg=jr("Array").reverse,ng=Ct,xx=rg,Tf=Array.prototype,$a=function(n){var e=n.reverse;return n===Tf||ng(Tf,n)&&e===Tf.reverse?xx:e},Ra=O($a),iw=Ii,Tx=TypeError,ig=function(n,e){if(!delete n[e])throw new Tx("Cannot delete property "+iw(e)+" of "+iw(n))},Sx=pe,Ix=nr,Cx=Qi,og=Jl,ow=ui,ag=Qy,Px=Vd,Ax=qd,Dx=Oa,sg=ig,zr=Vu("splice"),aw=Math.max,Nx=Math.min;Sx({target:"Array",proto:!0,forced:!zr},{splice:function(n,e){var t,r,i,o,u,d,v=Ix(this),E=ow(v),T=Cx(n,E),S=arguments.length;for(S===0?t=r=0:S===1?(t=0,r=E-T):(t=S-2,r=Nx(aw(og(e),0),E-T)),Px(E+t-r),i=Ax(v,r),o=0;o<r;o++)(u=T+o)in v&&Dx(i,o,v[u]);if(i.length=r,t<r){for(o=T;o<E-r;o++)d=o+t,(u=o+r)in v?v[d]=v[u]:sg(v,d);for(o=E;o>E-r+t;o--)sg(v,o-1)}else if(t>r)for(o=E-r;o>T;o--)d=o+t-1,(u=o+r-1)in v?v[d]=v[u]:sg(v,d);for(o=0;o<t;o++)v[o+T]=arguments[o+2];return ag(v,E-r+t),i}});var sw=jr("Array").splice,$x=Ct,Rx=sw,ug=Array.prototype,Mx=function(n){var e=n.splice;return n===ug||$x(ug,n)&&e===ug.splice?Rx:e},qo=O(Mx),lg=vp.includes;pe({target:"Array",proto:!0,forced:H(function(){return!Array(1).includes()})},{includes:function(n){return lg(this,n,arguments.length>1?arguments[1]:void 0)}});var jx=jr("Array").includes,Fx=$r,Lx=It,cg=yt("match"),Qn=function(n){var e;return Fx(n)&&((e=n[cg])!==void 0?!!e:Lx(n)==="RegExp")},Bx=TypeError,zx=yt("match"),Hx=pe,Ux=function(n){if(Qn(n))throw new Bx("The method doesn't accept regular expressions");return n},uw=oi,Sf=eo,lw=function(n){var e=/./;try{"/./"[n](e)}catch{try{return e[zx]=!1,"/./"[n](e)}catch{}}return!1},cw=Me("".indexOf);Hx({target:"String",proto:!0,forced:!lw("includes")},{includes:function(n){return!!~cw(Sf(uw(this)),Sf(Ux(n)),arguments.length>1?arguments[1]:void 0)}});var Vx=jr("String").includes,hw=Ct,Wx=jx,hg=Vx,dg=Array.prototype,fg=String.prototype,qx=function(n){var e=n.includes;return n===dg||hw(dg,n)&&e===dg.includes?Wx:typeof n=="string"||n===fg||hw(fg,n)&&e===fg.includes?hg:e},lo=O(qx),Ma=nr,vg=cc,Gx=Np;pe({target:"Object",stat:!0,forced:H(function(){vg(1)}),sham:!Gx},{getPrototypeOf:function(n){return vg(Ma(n))}});var dw=Xe.Object.getPrototypeOf,pg=O(dw),fw=ao.filter;pe({target:"Array",proto:!0,forced:!Vu("filter")},{filter:function(n){return fw(this,n,arguments.length>1?arguments[1]:void 0)}});var Yx=jr("Array").filter,vw=Ct,Kx=Yx,yg=Array.prototype,pw=function(n){var e=n.filter;return n===yg||vw(yg,n)&&e===yg.filter?Kx:e},wn=O(pw),If=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,gg=oi,Xx=eo,mg=If,yw=Me("".replace),Qx=RegExp("^["+mg+"]+"),Jx=RegExp("(^|[^"+mg+"])["+mg+"]+$"),Cf=function(n){return function(e){var t=Xx(gg(e));return 1&n&&(t=yw(t,Qx,"")),2&n&&(t=yw(t,Jx,"$1")),t}},Pf={start:Cf(1),end:Cf(2),trim:Cf(3)},gw=R,mw=H,Zx=Me,eT=eo,tT=Pf.trim,bw=If,ja=gw.parseInt,_w=gw.Symbol,bg=_w&&_w.iterator,ww=/^[+-]?0x/i,Ew=Zx(ww.exec),_g=ja(bw+"08")!==8||ja(bw+"0x16")!==22||bg&&!mw(function(){ja(Object(bg))})?function(n,e){var t=tT(eT(n));return ja(t,e>>>0||(Ew(ww,t)?16:10))}:ja;pe({global:!0,forced:parseInt!==_g},{parseInt:_g});var Ri=O(Xe.parseInt),Af=pe,Ow=vp.indexOf,rT=tl,Df=dn([].indexOf),wg=!!Df&&1/Df([1],1,-0)<0;Af({target:"Array",proto:!0,forced:wg||!rT("indexOf")},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return wg?Df(this,n,e)||0:Ow(this,n,e)}});var nT=jr("Array").indexOf,Mi=Ct,fi=nT,Ns=Array.prototype,Fa=function(n){var e=n.indexOf;return n===Ns||Mi(Ns,n)&&e===Ns.indexOf?fi:e},Ot=O(Fa);pe({target:"Object",stat:!0,sham:!ft},{create:$o});var Eg=Xe.Object,kw=function(n,e){return Eg.create(n,e)},vi=O(kw),co=Xe,Nf=Re;co.JSON||(co.JSON={stringify:JSON.stringify});var $f=function(n,e,t){return Nf(co.JSON.stringify,null,arguments)},$s=O($f),Og=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",xw=TypeError,kg=R,xg=Re,Rs=Ge,Hc=Og,Uc=ir,Rf=ec,Tg=function(n,e){if(n<e)throw new xw("Not enough arguments");return n},iT=kg.Function,Mf=/MSIE .\./.test(Uc)||Hc&&function(){var n=kg.Bun.version.split(".");return n.length<3||n[0]==="0"&&(n[1]<3||n[1]==="3"&&n[2]==="0")}(),rl=function(n,e){var t=e?2:1;return Mf?function(r,i){var o=Tg(arguments.length,1)>t,u=Rs(r)?r:iT(r),d=o?Rf(arguments,t):[],v=o?function(){xg(u,this,d)}:u;return e?n(v,i):n(v)}:n},Sg=pe,Tw=R,sn=rl(Tw.setInterval,!0);Sg({global:!0,bind:!0,forced:Tw.setInterval!==sn},{setInterval:sn});var Sr=pe,En=R,Vc=rl(En.setTimeout,!0);Sr({global:!0,bind:!0,forced:En.setTimeout!==Vc},{setTimeout:Vc});var Mn=O(Xe.setTimeout),Wc=nr,nl=Qi,ji=ui,ho=function(n){for(var e=Wc(this),t=ji(e),r=arguments.length,i=nl(r>1?arguments[1]:void 0,t),o=r>2?arguments[2]:void 0,u=o===void 0?t:nl(o,t);u>i;)e[i++]=n;return e};pe({target:"Array",proto:!0},{fill:ho});var La,Sw=jr("Array").fill,Iw=Ct,jf=Sw,pi=Array.prototype,qc=function(n){var e=n.fill;return n===pi||Iw(pi,n)&&e===pi.fill?jf:e},Fi=O(qc);function yi(){return yi=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yi.apply(this,arguments)}function jn(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function il(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}La=typeof Object.assign!="function"?function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),t=1;t<arguments.length;t++){var r=arguments[t];if(r!=null)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var fo,vo=La,Ff=["","webkit","Moz","MS","ms","o"],Ig=typeof document>"u"?{style:{}}:document.createElement("div"),Ms=Math.round,js=Math.abs,Cg=Date.now;function Ba(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<Ff.length;){if((r=(t=Ff[o])?t+i:e)in n)return r;o++}}fo=typeof window>"u"?{}:window;var ol=Ba(Ig.style,"touchAction"),Fs=ol!==void 0,Pg="compute",Ls="auto",Go="manipulation",Bs="none",Gc="pan-x",al="pan-y",zs=function(){if(!Fs)return!1;var n={},e=fo.CSS&&fo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=!e||fo.CSS.supports("touch-action",t)}),n}(),Ag="ontouchstart"in fo,Yc=Ba(fo,"PointerEvent")!==void 0,Dg=Ag&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Kc="touch",Xc="mouse",oT=25,On=1,_r=4,Fn=8,Qc=1,Jc=2,sl=4,Hs=8,Li=16,Kr=Jc|sl,za=Hs|Li,Zc=Kr|za,Lf=["x","y"],Ha=["clientX","clientY"];function Bi(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Yo(n,e){return typeof n=="function"?n.apply(e&&e[0]||void 0,e):n}function Ua(n,e){return n.indexOf(e)>-1}var Bf=function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(t){t===Pg&&(t=this.compute()),Fs&&this.manager.element.style&&zs[t]&&(this.manager.element.style[ol]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Bi(this.manager.recognizers,function(r){Yo(r.options.enable,[r])&&(t=t.concat(r.getTouchAction()))}),function(r){if(Ua(r,Bs))return Bs;var i=Ua(r,Gc),o=Ua(r,al);return i&&o?Bs:i||o?i?Gc:al:Ua(r,Go)?Go:Ls}(t.join(" "))},e.preventDefaults=function(t){var r=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)r.preventDefault();else{var o=this.actions,u=Ua(o,Bs)&&!zs[Bs],d=Ua(o,al)&&!zs[al],v=Ua(o,Gc)&&!zs[Gc];if(u){var E=t.pointers.length===1,T=t.distance<2,S=t.deltaTime<250;if(E&&T&&S)return}if(!v||!d)return u||d&&i&Kr||v&&i&za?this.preventSrc(r):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},n}();function zf(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function Ng(n){var e=n.length;if(e===1)return{x:Ms(n[0].clientX),y:Ms(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Ms(t/e),y:Ms(r/e)}}function Hf(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:Ms(n.pointers[t].clientX),clientY:Ms(n.pointers[t].clientY)},t++;return{timeStamp:Cg(),pointers:e,center:Ng(e),deltaX:n.deltaX,deltaY:n.deltaY}}function eh(n,e,t){t||(t=Lf);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function Uf(n,e,t){t||(t=Lf);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return 180*Math.atan2(i,r)/Math.PI}function $g(n,e){return n===e?Qc:js(n)>=js(e)?n<0?Jc:sl:e<0?Hs:Li}function Rg(n,e,t){return{x:e/n||0,y:t/n||0}}function Cw(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=Hf(e)),i>1&&!t.firstMultiple?t.firstMultiple=Hf(e):i===1&&(t.firstMultiple=!1);var o=t.firstInput,u=t.firstMultiple,d=u?u.center:o.center,v=e.center=Ng(r);e.timeStamp=Cg(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Uf(d,v),e.distance=eh(d,v),function(V,Z){var se=Z.center,ye=V.offsetDelta||{},De=V.prevDelta||{},Ne=V.prevInput||{};Z.eventType!==On&&Ne.eventType!==_r||(De=V.prevDelta={x:Ne.deltaX||0,y:Ne.deltaY||0},ye=V.offsetDelta={x:se.x,y:se.y}),Z.deltaX=De.x+(se.x-ye.x),Z.deltaY=De.y+(se.y-ye.y)}(t,e),e.offsetDirection=$g(e.deltaX,e.deltaY);var E,T,S=Rg(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=S.x,e.overallVelocityY=S.y,e.overallVelocity=js(S.x)>js(S.y)?S.x:S.y,e.scale=u?(E=u.pointers,eh((T=r)[0],T[1],Ha)/eh(E[0],E[1],Ha)):1,e.rotation=u?function(V,Z){return Uf(Z[1],Z[0],Ha)+Uf(V[1],V[0],Ha)}(u.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(V,Z){var se,ye,De,Ne,Ze=V.lastInterval||Z,xt=Z.timeStamp-Ze.timeStamp;if(Z.eventType!==Fn&&(xt>oT||Ze.velocity===void 0)){var bt=Z.deltaX-Ze.deltaX,pt=Z.deltaY-Ze.deltaY,tt=Rg(xt,bt,pt);ye=tt.x,De=tt.y,se=js(tt.x)>js(tt.y)?tt.x:tt.y,Ne=$g(bt,pt),V.lastInterval=Z}else se=Ze.velocity,ye=Ze.velocityX,De=Ze.velocityY,Ne=Ze.direction;Z.velocity=se,Z.velocityX=ye,Z.velocityY=De,Z.direction=Ne}(t,e);var N,F=n.element,L=e.srcEvent;zf(N=L.composedPath?L.composedPath()[0]:L.path?L.path[0]:L.target,F)&&(F=N),e.target=F}function Pw(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,o=e&On&&r-i==0,u=e&(_r|Fn)&&r-i==0;t.isFirst=!!o,t.isFinal=!!u,o&&(n.session={}),t.eventType=e,Cw(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function th(n){return n.trim().split(/\s+/g)}function rh(n,e,t){Bi(th(e),function(r){n.addEventListener(r,t,!1)})}function ul(n,e,t){Bi(th(e),function(r){n.removeEventListener(r,t,!1)})}function Mg(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var ll=function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){Yo(t.options.enable,[t])&&i.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&rh(this.element,this.evEl,this.domHandler),this.evTarget&&rh(this.target,this.evTarget,this.domHandler),this.evWin&&rh(Mg(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ul(this.element,this.evEl,this.domHandler),this.evTarget&&ul(this.target,this.evTarget,this.domHandler),this.evWin&&ul(Mg(this.element),this.evWin,this.domHandler)},n}();function Us(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var jg={pointerdown:On,pointermove:2,pointerup:_r,pointercancel:Fn,pointerout:Fn},aT={2:Kc,3:"pen",4:Xc,5:"kinect"},Fg="pointerdown",Lg="pointermove pointerup pointercancel";fo.MSPointerEvent&&!fo.PointerEvent&&(Fg="MSPointerDown",Lg="MSPointerMove MSPointerUp MSPointerCancel");var nh=function(n){function e(){var t,r=e.prototype;return r.evEl=Fg,r.evWin=Lg,(t=n.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return jn(e,n),e.prototype.handler=function(t){var r=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),u=jg[o],d=aT[t.pointerType]||t.pointerType,v=d===Kc,E=Us(r,t.pointerId,"pointerId");u&On&&(t.button===0||v)?E<0&&(r.push(t),E=r.length-1):u&(_r|Fn)&&(i=!0),E<0||(r[E]=t,this.callback(this.manager,u,{pointers:r,changedPointers:[t],pointerType:d,srcEvent:t}),i&&r.splice(E,1))},e}(ll);function cl(n){return Array.prototype.slice.call(n,0)}function hl(n,e,t){for(var r=[],i=[],o=0;o<n.length;){var u=e?n[o][e]:n[o];Us(i,u)<0&&r.push(n[o]),i[o]=u,o++}return t&&(r=e?r.sort(function(d,v){return d[e]>v[e]}):r.sort()),r}var Bg={touchstart:On,touchmove:2,touchend:_r,touchcancel:Fn},Vf=function(n){function e(){var t;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=n.apply(this,arguments)||this).targetIds={},t}return jn(e,n),e.prototype.handler=function(t){var r=Bg[t.type],i=sT.call(this,t,r);i&&this.callback(this.manager,r,{pointers:i[0],changedPointers:i[1],pointerType:Kc,srcEvent:t})},e}(ll);function sT(n,e){var t,r,i=cl(n.touches),o=this.targetIds;if(e&(2|On)&&i.length===1)return o[i[0].identifier]=!0,[i,i];var u=cl(n.changedTouches),d=[],v=this.target;if(r=i.filter(function(E){return zf(E.target,v)}),e===On)for(t=0;t<r.length;)o[r[t].identifier]=!0,t++;for(t=0;t<u.length;)o[u[t].identifier]&&d.push(u[t]),e&(_r|Fn)&&delete o[u[t].identifier],t++;return d.length?[hl(r.concat(d),"identifier",!0),d]:void 0}var Ko={mousedown:On,mousemove:2,mouseup:_r},zg=function(n){function e(){var t,r=e.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(t=n.apply(this,arguments)||this).pressed=!1,t}return jn(e,n),e.prototype.handler=function(t){var r=Ko[t.type];r&On&&t.button===0&&(this.pressed=!0),2&r&&t.which!==1&&(r=_r),this.pressed&&(r&_r&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[t],changedPointers:[t],pointerType:Xc,srcEvent:t}))},e}(ll),uT=2500;function Aw(n){var e=n.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var i=r.indexOf(t);i>-1&&r.splice(i,1)},uT)}}function Dw(n,e){n&On?(this.primaryTouch=e.changedPointers[0].identifier,Aw.call(this,e)):n&(_r|Fn)&&Aw.call(this,e)}function lT(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),u=Math.abs(t-i.y);if(o<=25&&u<=25)return!0}return!1}var dl=function(){return function(n){function e(t,r){var i;return(i=n.call(this,t,r)||this).handler=function(o,u,d){var v=d.pointerType===Kc,E=d.pointerType===Xc;if(!(E&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(v)Dw.call(il(il(i)),u,d);else if(E&&lT.call(il(il(i)),d))return;i.callback(o,u,d)}},i.touch=new Vf(i.manager,i.handler),i.mouse=new zg(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return jn(e,n),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(ll)}();function fl(n,e,t){return!!Array.isArray(n)&&(Bi(n,t[e],t),!0)}var Xo=32,cT=1;function ih(n,e){var t=e.manager;return t?t.get(n):n}function Nw(n){return 16&n?"cancel":8&n?"end":4&n?"move":2&n?"start":""}var Va=function(){function n(t){t===void 0&&(t={}),this.options=yi({enable:!0},t),this.id=cT++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(t){return vo(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(fl(t,"recognizeWith",this))return this;var r=this.simultaneous;return r[(t=ih(t,this)).id]||(r[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return fl(t,"dropRecognizeWith",this)||(t=ih(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(fl(t,"requireFailure",this))return this;var r=this.requireFail;return Us(r,t=ih(t,this))===-1&&(r.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(fl(t,"dropRequireFailure",this))return this;t=ih(t,this);var r=Us(this.requireFail,t);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var r=this,i=this.state;function o(u){r.manager.emit(u,t)}i<8&&o(r.options.event+Nw(i)),o(r.options.event),t.additionalEvent&&o(t.additionalEvent),i>=8&&o(r.options.event+Nw(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Xo},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var r=vo({},t);if(!Yo(this.options.enable,[this,r]))return this.reset(),void(this.state=Xo);56&this.state&&(this.state=1),this.state=this.process(r),30&this.state&&this.tryEmit(r)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},n}(),oh=function(n){function e(r){var i;return r===void 0&&(r={}),(i=n.call(this,yi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}jn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[Go]},t.process=function(r){var i=this,o=this.options,u=r.pointers.length===o.pointers,d=r.distance<o.threshold,v=r.deltaTime<o.time;if(this.reset(),r.eventType&On&&this.count===0)return this.failTimeout();if(d&&v&&u){if(r.eventType!==_r)return this.failTimeout();var E=!this.pTime||r.timeStamp-this.pTime<o.interval,T=!this.pCenter||eh(this.pCenter,r.center)<o.posThreshold;if(this.pTime=r.timeStamp,this.pCenter=r.center,T&&E?this.count+=1:this.count=1,this._input=r,this.count%o.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){i.state=8,i.tryEmit()},o.interval),2):8}return Xo},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=Xo},this.options.interval),Xo},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Va),vl=function(n){function e(r){return r===void 0&&(r={}),n.call(this,yi({pointers:1},r))||this}jn(e,n);var t=e.prototype;return t.attrTest=function(r){var i=this.options.pointers;return i===0||r.pointers.length===i},t.process=function(r){var i=this.state,o=r.eventType,u=6&i,d=this.attrTest(r);return u&&(o&Fn||!d)?16|i:u||d?o&_r?8|i:2&i?4|i:2:Xo},e}(Va);function Hg(n){return n===Li?"down":n===Hs?"up":n===Jc?"left":n===sl?"right":""}var Wf=function(n){function e(r){var i;return r===void 0&&(r={}),(i=n.call(this,yi({event:"pan",threshold:10,pointers:1,direction:Zc},r))||this).pX=null,i.pY=null,i}jn(e,n);var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,i=[];return r&Kr&&i.push(al),r&za&&i.push(Gc),i},t.directionTest=function(r){var i=this.options,o=!0,u=r.distance,d=r.direction,v=r.deltaX,E=r.deltaY;return d&i.direction||(i.direction&Kr?(d=v===0?Qc:v<0?Jc:sl,o=v!==this.pX,u=Math.abs(r.deltaX)):(d=E===0?Qc:E<0?Hs:Li,o=E!==this.pY,u=Math.abs(r.deltaY))),r.direction=d,o&&u>i.threshold&&d&i.direction},t.attrTest=function(r){return vl.prototype.attrTest.call(this,r)&&(2&this.state||!(2&this.state)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var i=Hg(r.direction);i&&(r.additionalEvent=this.options.event+i),n.prototype.emit.call(this,r)},e}(vl),Ug=function(n){function e(r){return r===void 0&&(r={}),n.call(this,yi({event:"swipe",threshold:10,velocity:.3,direction:Kr|za,pointers:1},r))||this}jn(e,n);var t=e.prototype;return t.getTouchAction=function(){return Wf.prototype.getTouchAction.call(this)},t.attrTest=function(r){var i,o=this.options.direction;return o&(Kr|za)?i=r.overallVelocity:o&Kr?i=r.overallVelocityX:o&za&&(i=r.overallVelocityY),n.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&js(i)>this.options.velocity&&r.eventType&_r},t.emit=function(r){var i=Hg(r.offsetDirection);i&&this.manager.emit(this.options.event+i,r),this.manager.emit(this.options.event,r)},e}(vl),Vg=function(n){function e(r){return r===void 0&&(r={}),n.call(this,yi({event:"pinch",threshold:0,pointers:2},r))||this}jn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[Bs]},t.attrTest=function(r){return n.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||2&this.state)},t.emit=function(r){if(r.scale!==1){var i=r.scale<1?"in":"out";r.additionalEvent=this.options.event+i}n.prototype.emit.call(this,r)},e}(vl),Qo=function(n){function e(r){return r===void 0&&(r={}),n.call(this,yi({event:"rotate",threshold:0,pointers:2},r))||this}jn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[Bs]},t.attrTest=function(r){return n.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||2&this.state)},e}(vl),Ln=function(n){function e(r){var i;return r===void 0&&(r={}),(i=n.call(this,yi({event:"press",pointers:1,time:251,threshold:9},r))||this)._timer=null,i._input=null,i}jn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[Ls]},t.process=function(r){var i=this,o=this.options,u=r.pointers.length===o.pointers,d=r.distance<o.threshold,v=r.deltaTime>o.time;if(this._input=r,!d||!u||r.eventType&(_r|Fn)&&!v)this.reset();else if(r.eventType&On)this.reset(),this._timer=setTimeout(function(){i.state=8,i.tryEmit()},o.time);else if(r.eventType&_r)return 8;return Xo},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){this.state===8&&(r&&r.eventType&_r?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=Cg(),this.manager.emit(this.options.event,this._input)))},e}(Va),qf={domEvents:!1,touchAction:Pg,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},$w=[[Qo,{enable:!1}],[Vg,{enable:!1},["rotate"]],[Ug,{direction:Kr}],[Wf,{direction:Kr},["swipe"]],[oh],[oh,{event:"doubletap",taps:2},["tap"]],[Ln]];function Wg(n,e){var t,r=n.element;r.style&&(Bi(n.options.cssProps,function(i,o){t=Ba(r.style,o),e?(n.oldCssProps[t]=r.style[t],r.style[t]=i):r.style[t]=n.oldCssProps[t]||""}),e||(n.oldCssProps={}))}var Gf=function(){function n(t,r){var i,o=this;this.options=vo({},qf,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Yc?nh:Dg?Vf:Ag?dl:zg))(i,Pw),this.touchAction=new Bf(this,this.options.touchAction),Wg(this,!0),Bi(this.options.recognizers,function(u){var d=o.add(new u[0](u[1]));u[2]&&d.recognizeWith(u[2]),u[3]&&d.requireFailure(u[3])},this)}var e=n.prototype;return e.set=function(t){return vo(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var r=this.session;if(!r.stopped){var i;this.touchAction.preventDefaults(t);var o=this.recognizers,u=r.curRecognizer;(!u||u&&8&u.state)&&(r.curRecognizer=null,u=null);for(var d=0;d<o.length;)i=o[d],r.stopped===2||u&&i!==u&&!i.canRecognizeWith(u)?i.reset():i.recognize(t),!u&&14&i.state&&(r.curRecognizer=i,u=i),d++}},e.get=function(t){if(t instanceof Va)return t;for(var r=this.recognizers,i=0;i<r.length;i++)if(r[i].options.event===t)return r[i];return null},e.add=function(t){if(fl(t,"add",this))return this;var r=this.get(t.options.event);return r&&this.remove(r),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(fl(t,"remove",this))return this;var r=this.get(t);if(t){var i=this.recognizers,o=Us(i,r);o!==-1&&(i.splice(o,1),this.touchAction.update())}return this},e.on=function(t,r){if(t===void 0||r===void 0)return this;var i=this.handlers;return Bi(th(t),function(o){i[o]=i[o]||[],i[o].push(r)}),this},e.off=function(t,r){if(t===void 0)return this;var i=this.handlers;return Bi(th(t),function(o){r?i[o]&&i[o].splice(Us(i[o],r),1):delete i[o]}),this},e.emit=function(t,r){this.options.domEvents&&function(u,d){var v=document.createEvent("Event");v.initEvent(u,!0,!0),v.gesture=d,d.target.dispatchEvent(v)}(t,r);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){r.type=t,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](r),o++}},e.destroy=function(){this.element&&Wg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),Rw={touchstart:On,touchmove:2,touchend:_r,touchcancel:Fn},qg=function(n){function e(){var t,r=e.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(t=n.apply(this,arguments)||this).started=!1,t}return jn(e,n),e.prototype.handler=function(t){var r=Rw[t.type];if(r===On&&(this.started=!0),this.started){var i=Mw.call(this,t,r);r&(_r|Fn)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:i[0],changedPointers:i[1],pointerType:Kc,srcEvent:t})}},e}(ll);function Mw(n,e){var t=cl(n.touches),r=cl(n.changedTouches);return e&(_r|Fn)&&(t=hl(t.concat(r),"identifier",!0)),[t,r]}function Gg(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),o=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",u=window.console&&(window.console.warn||window.console.log);return u&&u.call(window.console,r,o),n.apply(this,arguments)}}var Yf=Gg(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),Kf=Gg(function(n,e){return Yf(n,e,!0)},"merge","Use `assign`.");function Vs(n,e,t){var r,i=e.prototype;(r=n.prototype=Object.create(i)).constructor=n,r._super=i,t&&vo(r,t)}function Yg(n,e){return function(){return n.apply(e,arguments)}}var un=function(){var n=function(e,t){return t===void 0&&(t={}),new Gf(e,yi({recognizers:$w.concat()},t))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=Zc,n.DIRECTION_DOWN=Li,n.DIRECTION_LEFT=Jc,n.DIRECTION_RIGHT=sl,n.DIRECTION_UP=Hs,n.DIRECTION_HORIZONTAL=Kr,n.DIRECTION_VERTICAL=za,n.DIRECTION_NONE=Qc,n.DIRECTION_DOWN=Li,n.INPUT_START=On,n.INPUT_MOVE=2,n.INPUT_END=_r,n.INPUT_CANCEL=Fn,n.STATE_POSSIBLE=1,n.STATE_BEGAN=2,n.STATE_CHANGED=4,n.STATE_ENDED=8,n.STATE_RECOGNIZED=8,n.STATE_CANCELLED=16,n.STATE_FAILED=Xo,n.Manager=Gf,n.Input=ll,n.TouchAction=Bf,n.TouchInput=Vf,n.MouseInput=zg,n.PointerEventInput=nh,n.TouchMouseInput=dl,n.SingleTouchInput=qg,n.Recognizer=Va,n.AttrRecognizer=vl,n.Tap=oh,n.Pan=Wf,n.Swipe=Ug,n.Pinch=Vg,n.Rotate=Qo,n.Press=Ln,n.on=rh,n.off=ul,n.each=Bi,n.merge=Kf,n.extend=Yf,n.bindFn=Yg,n.assign=vo,n.inherit=Vs,n.bindFn=Yg,n.prefixed=Ba,n.toArray=cl,n.inArray=Us,n.uniqueArray=hl,n.splitStr=th,n.boolOrFn=Yo,n.hasParent=zf,n.addEventListeners=rh,n.removeEventListeners=ul,n.defaults=vo({},qf,{preset:$w}),n}();un.defaults;var hT=un;function jw(n,e){var t=Uo!==void 0&&Rn(n)||n["@@iterator"];if(!t){if(Wt(n)||(t=function(v,E){var T;if(v){if(typeof v=="string")return Kg(v,E);var S=Ar(T=Object.prototype.toString.call(v)).call(T,8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Os(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return Kg(v,E)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(v){throw v},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var v=t.next();return u=v.done,v},e:function(v){d=!0,o=v},f:function(){try{u||t.return==null||t.return()}finally{if(d)throw o}}}}function Kg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Hr(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){var i=function(){for(var S=function(){var Z=4022871197;return function(se){for(var ye=se.toString(),De=0;De<ye.length;De++){var Ne=.02519603282416938*(Z+=ye.charCodeAt(De));Ne-=Z=Ne>>>0,Z=(Ne*=Z)>>>0,Z+=4294967296*(Ne-=Z)}return 23283064365386963e-26*(Z>>>0)}}(),N=S(" "),F=S(" "),L=S(" "),V=0;V<arguments.length;V++)(N-=S(V<0||arguments.length<=V?void 0:arguments[V]))<0&&(N+=1),(F-=S(V<0||arguments.length<=V?void 0:arguments[V]))<0&&(F+=1),(L-=S(V<0||arguments.length<=V?void 0:arguments[V]))<0&&(L+=1);return[N,F,L]}(r),o=yr(i,3),u=o[0],d=o[1],v=o[2],E=1,T=function(){var S=2091639*u+23283064365386963e-26*E;return u=d,d=v,v=S-(E=0|S)};return T.uint32=function(){return 4294967296*T()},T.fract53=function(){return T()+11102230246251565e-32*(2097152*T()|0)},T.algorithm="Alea",T.seed=r,T.version="0.9",T}(e.length?e:[Na()])}Uo("DELETE");var Xg=typeof window<"u"?window.Hammer||hT:function(){return function(){var n=function(){};return{on:n,off:n,destroy:n,emit:n,get:function(){return{set:n}}}}()};function Bn(n){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=Xg(this._dom.overlay);r.on("tap",Oe(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];er(i).call(i,function(o){r.on(o,function(u){u.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(u,d){for(;u;){if(u===d)return!0;u=u.parentNode}return!1})(o.target,n)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&t.deactivate()}}xp(Bn.prototype),Bn.current=null,Bn.prototype.destroy=function(){var n,e;this.deactivate();var t,r=jw(Ra(n=qo(e=this._cleanupQueue).call(e,0)).call(n));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(i){r.e(i)}finally{r.f()}},Bn.prototype.activate=function(){Bn.current&&Bn.current.deactivate(),Bn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Bn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Bn.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};var dT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,fT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Fw=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,vT=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function po(n){if(n)for(;n.hasChildNodes()===!0;){var e=n.firstChild;e&&(po(e),n.removeChild(e))}}function Jo(n){return n instanceof String||typeof n=="string"}function Lw(n){return Lt(n)==="object"&&n!==null}function Ws(n,e,t,r){var i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function Bw(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];for(var r in n)if(e[r]!==void 0)if(e[r]===null||Lt(e[r])!=="object")Ws(n,e,r,t);else{var i=n[r],o=e[r];Lw(i)&&Lw(o)&&Bw(i,o,t)}}function Zo(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Wt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var i=0;i<n.length;i++){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Yt(e[o],t[o],!1,r):Ws(e,t,o,r);else{if(Wt(t[o]))throw new TypeError("Arrays are not supported by deepExtend");Ws(e,t,o,r)}}return e}function Xf(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Wt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!lo(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?Yt(e[i],t[i]):Ws(e,t,i,r);else if(Wt(t[i])){e[i]=[];for(var o=0;o<t[i].length;o++)e[i].push(t[i][o])}else Ws(e,t,i,r);return e}function Yt(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)||t===!0)if(Lt(e[i])==="object"&&e[i]!==null&&pg(e[i])===Object.prototype)n[i]===void 0?n[i]=Yt({},e[i],t):Lt(n[i])==="object"&&n[i]!==null&&pg(n[i])===Object.prototype?Yt(n[i],e[i],t):Ws(n,e,i,r);else if(Wt(e[i])){var o;n[i]=Ar(o=e[i]).call(o)}else Ws(n,e,i,r);return n}function ah(n,e){var t;return kf(t=[]).call(t,$i(n),[e])}function pT(n){return n.getBoundingClientRect().top}function kt(n,e){if(Wt(n))for(var t=n.length,r=0;r<t;r++)e(n[r],r,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(n[i],i,n)}function Qg(n){var e;switch(n.length){case 3:case 4:return(e=fT.exec(n))?{r:Ri(e[1]+e[1],16),g:Ri(e[2]+e[2],16),b:Ri(e[3]+e[3],16)}:null;case 6:case 7:return(e=dT.exec(n))?{r:Ri(e[1],16),g:Ri(e[2],16),b:Ri(e[3],16)}:null;default:return null}}function gi(n,e){if(lo(n).call(n,"rgba"))return n;if(lo(n).call(n,"rgb")){var t=n.substr(Ot(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var r=Qg(n);return r==null?n:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}function zw(n,e,t){var r;return"#"+Ar(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function Jg(n,e){if(Jo(n)){var t=n;if(Hw(t)){var r,i=Da(r=t.substr(4).substr(0,t.length-5).split(",")).call(r,function(T){return Ri(T)});t=zw(i[0],i[1],i[2])}if(Zg(t)===!0){var o=function(T){var S=Qg(T);if(!S)throw new TypeError("'".concat(T,"' is not a valid color."));return qs(S.r,S.g,S.b)}(t),u={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},d={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},v=Xr(d.h,d.s,d.v),E=Xr(u.h,u.s,u.v);return{background:t,border:v,highlight:{background:E,border:v},hover:{background:E,border:v}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:n.background||e.background,border:n.border||e.border,highlight:Jo(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:Jo(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:Jo(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:Jo(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function qs(n,e,t){n/=255,e/=255,t/=255;var r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));return r===i?{h:0,s:0,v:r}:{h:60*((n===r?3:t===r?1:5)-(n===r?e-t:t===r?n-e:t-n)/(i-r))/360,s:(i-r)/i,v:i}}function Qf(n,e,t){var r,i,o,u=Math.floor(6*n),d=6*n-u,v=t*(1-e),E=t*(1-d*e),T=t*(1-(1-d)*e);switch(u%6){case 0:r=t,i=T,o=v;break;case 1:r=E,i=t,o=v;break;case 2:r=v,i=t,o=T;break;case 3:r=v,i=E,o=t;break;case 4:r=T,i=v,o=t;break;case 5:r=t,i=v,o=E}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*o)}}function Xr(n,e,t){var r=Qf(n,e,t);return zw(r.r,r.g,r.b)}function Zg(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function Hw(n){return Fw.test(n)}function mi(n){if(n===null||Lt(n)!=="object")return null;if(n instanceof Element)return n;var e=vi(n);for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&Lt(n[t])=="object"&&(e[t]=mi(n[t]));return e}function Jn(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=function(T){return T!=null},o=function(T){return T!==null&&Lt(T)==="object"};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");var u=e[t],d=o(r)&&!function(T){for(var S in T)if(Object.prototype.hasOwnProperty.call(T,S))return!1;return!0}(r)?r[t]:void 0,v=d?d.enabled:void 0;if(u!==void 0){if(typeof u=="boolean")return o(n[t])||(n[t]={}),void(n[t].enabled=u);if(u===null&&!o(n[t])){if(!i(d))return;n[t]=vi(d)}if(o(u)){var E=!0;u.enabled!==void 0?E=u.enabled:v!==void 0&&(E=d.enabled),function(T,S,N){o(T[N])||(T[N]={});var F=S[N],L=T[N];for(var V in F)Object.prototype.hasOwnProperty.call(F,V)&&(L[V]=F[V])}(n,e,t),n[t].enabled=E}}}var Gs={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function Wa(n,e){var t;Wt(e)||(e=[e]);var r,i=jw(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o){t=o[e[0]];for(var u=1;u<e.length;u++)t&&(t=t[e[u]]);if(t!==void 0)break}}}catch(d){i.e(d)}finally{i.f()}return t}var yT={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},gT=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;Ee(this,n),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Ae(n,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if(typeof e!="function")throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if(typeof e=="string")return yT[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e!=="none"){var r,i=this._isColorString(e);if(i!==void 0&&(e=i),Jo(e)===!0){if(Hw(e)===!0){var o=e.substr(4).substr(0,e.length-5).split(",");r={r:o[0],g:o[1],b:o[2],a:1}}else if(function(E){return vT.test(E)}(e)===!0){var u=e.substr(5).substr(0,e.length-6).split(",");r={r:u[0],g:u[1],b:u[2],a:u[3]}}else if(Zg(e)===!0){var d=Qg(e);r={r:d.r,g:d.g,b:d.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var v=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:v}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+$s(e));this._setColor(r,t)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])===!0&&(this.previousColor=xr({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Mn(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])===!0&&(this.initialColor=xr({},e)),this.color=e;var t=qs(e.r,e.g,e.b),r=2*Math.PI,i=this.r*t.s,o=this.centerCoordinates.x+i*Math.sin(r*t.h),u=this.centerCoordinates.y+i*Math.cos(r*t.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=qs(this.color.r,this.color.g,this.color.b);t.v=e/100;var r=Qf(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,t=qs(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,o),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Fi(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var u=document.createElement("DIV");u.style.color="red",u.style.fontWeight="bold",u.style.padding="10px",u.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(u)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var d=this;this.opacityRange.onchange=function(){d._setOpacity(this.value)},this.opacityRange.oninput=function(){d._setOpacity(this.value)},this.brightnessRange.onchange=function(){d._setBrightness(this.value)},this.brightnessRange.oninput=function(){d._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Oe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Oe(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Oe(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Oe(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new Xg(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,r,i,o,u=this.colorPickerCanvas.clientWidth,d=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,u,d),this.centerCoordinates={x:.5*u,y:.5*d},this.r=.49*u;var v,E=2*Math.PI/360,T=1/this.r;for(i=0;i<360;i++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(E*i),r=this.centerCoordinates.y+o*Math.cos(E*i),v=Qf(.002777777777777778*i,o*T,1),e.fillStyle="rgb("+v.r+","+v.g+","+v.b+")",e.fillRect(t-.5,r-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,u,d)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,u=.5*this.colorPickerDiv.clientWidth,d=r-u,v=i-o,E=Math.atan2(d,v),T=.98*Math.min(Math.sqrt(d*d+v*v),u),S=Math.cos(E)*T+o,N=Math.sin(E)*T+u;this.colorPickerSelector.style.top=S-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=N-.5*this.colorPickerSelector.clientWidth+"px";var F=E/(2*Math.PI);F=F<0?F+1:F;var L=T/this.r,V=qs(this.color.r,this.color.g,this.color.b);V.h=F,V.s=L;var Z=Qf(V.h,V.s,V.v);Z.a=this.color.a,this.color=Z,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),n}();function em(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);var r=document.createElement(e[0]);return r.appendChild(em.apply(void 0,$i(Ar(e).call(e,1)))),r}var sh,tm=function(){function n(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};Ee(this,n),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},xr(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new gT(i),this.wrapper=void 0}return Ae(n,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var t=!0;if(typeof e=="string")this.options.filter=e;else if(Wt(e))this.options.filter=e.join();else if(Lt(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),wn(e)!==void 0&&(this.options.filter=wn(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);wn(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=wn(this.options),t=0,r=!1;for(var i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?r=(r=e(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):e!==!0&&Ot(e).call(e,i)===-1||(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,r=0;r<e.length;r++){if(t[e[r]]===void 0){t=void 0;break}t=t[e[r]]}return t}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return er(i).call(i,function(u){t.appendChild(u)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(em("i","b",e))}else i.innerText=e+":";return i}},{key:"_makeDropdown",value:function(e,t,r){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var o=0;t!==void 0&&Ot(e).call(e,t)!==-1&&(o=Ot(e).call(e,t));for(var u=0;u<e.length;u++){var d=document.createElement("option");d.value=e[u],u===o&&(d.selected="selected"),d.innerText=e[u],i.appendChild(d)}var v=this;i.onchange=function(){v._update(this.value,r)};var E=this._makeLabel(r[r.length-1],r);this._makeItem(r,E,i)}},{key:"_makeRange",value:function(e,t,r){var i=e[0],o=e[1],u=e[2],d=e[3],v=document.createElement("input");v.className="vis-configuration vis-config-range";try{v.type="range",v.min=o,v.max=u}catch{}v.step=d;var E="",T=0;if(t!==void 0){var S=1.2;t<0&&t*S<o?(v.min=Math.ceil(t*S),T=v.min,E="range increased"):t/S<o&&(v.min=Math.ceil(t/S),T=v.min,E="range increased"),t*S>u&&u!==1&&(v.max=Math.ceil(t*S),T=v.max,E="range increased"),v.value=t}else v.value=i;var N=document.createElement("input");N.className="vis-configuration vis-config-rangeinput",N.value=v.value;var F=this;v.onchange=function(){N.value=this.value,F._update(Number(this.value),r)},v.oninput=function(){N.value=this.value};var L=this._makeLabel(r[r.length-1],r),V=this._makeItem(r,L,v,N);E!==""&&this.popupHistory[V]!==T&&(this.popupHistory[V]=T,this._setupPopup(E,V))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var r=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=function(){r._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:t}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Mn(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Mn(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,r){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(Lt(e)==="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));var o=this;i.onchange=function(){o._update(this.checked,r)};var u=this._makeLabel(r[r.length-1],r);this._makeItem(r,u,i)}},{key:"_makeTextInput",value:function(e,t,r){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});var o=this;i.onchange=function(){o._update(this.value,r)};var u=this._makeLabel(r[r.length-1],r);this._makeItem(r,u,i)}},{key:"_makeColorField",value:function(e,t,r){var i=this,o=e[1],u=document.createElement("div");(t=t===void 0?o:t)!=="none"?(u.className="vis-configuration vis-config-colorBlock",u.style.backgroundColor=t):u.className="vis-configuration vis-config-colorBlock none",t=t===void 0?o:t,u.onclick=function(){i._showColorPicker(t,u,r)};var d=this._makeLabel(r[r.length-1],r);this._makeItem(r,d,u)}},{key:"_showColorPicker",value:function(e,t,r){var i=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var u="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";t.style.backgroundColor=u,i._update(u,r)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){i._showColorPicker(e,t,r)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=!1,o=wn(this.options),u=!1;for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){i=!0;var v=e[d],E=ah(t,d);if(typeof o=="function"&&(i=o(d,t))===!1&&!Wt(v)&&typeof v!="string"&&typeof v!="boolean"&&v instanceof Object&&(this.allowCreation=!1,i=this._handleObject(v,E,!0),this.allowCreation=r===!1),i!==!1){u=!0;var T=this._getValue(E);if(Wt(v))this._handleArray(v,T,E);else if(typeof v=="string")this._makeTextInput(v,T,E);else if(typeof v=="boolean")this._makeCheckbox(v,T,E);else if(v instanceof Object){if(!this.hideOption(t,d,this.moduleOptions))if(v.enabled!==void 0){var S=ah(E,"enabled"),N=this._getValue(S);if(N===!0){var F=this._makeLabel(d,E,!0);this._makeItem(E,F),u=this._handleObject(v,E)||u}else this._makeCheckbox(v,N,E)}else{var L=this._makeLabel(d,E,!0);this._makeItem(E,L),u=this._handleObject(v,E)||u}}else console.error("dont know how to handle",v,d,E)}}return u}},{key:"_handleArray",value:function(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}},{key:"_update",value:function(e,t){var r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}},{key:"_constructOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=(e=e==="true"||e)!=="false"&&e;for(var o=0;o<t.length;o++)t[o]!=="global"&&(i[t[o]]===void 0&&(i[t[o]]={}),o!==t.length-1?i=i[t[o]]:i[t[o]]=e);return r}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(em("pre","const options = "+$s(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),n}(),Uw=function(){function n(e,t){Ee(this,n),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Ae(n,[{key:"setPosition",value:function(e,t){this.x=Ri(e),this.y=Ri(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,u=0,d=0;if(this.overflowMethod=="flip"){var v=!1,E=!0;this.y-t<this.padding&&(E=!1),this.x+r>o-this.padding&&(v=!0),u=v?this.x-r:this.x,d=E?this.y-t:this.y}else(d=this.y-t)+t+this.padding>i&&(d=i-t-this.padding),d<this.padding&&(d=this.padding),(u=this.x)+r+this.padding>o&&(u=o-r-this.padding),u<this.padding&&(u=this.padding);this.frame.style.left=u+"px",this.frame.style.top=d+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),n}(),Ys=!1,uh="background: #FFeeee; color: #dd0000",mT=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"validate",value:function(e,t,r){Ys=!1,sh=t;var i=t;return r!==void 0&&(i=t[r]),n.parse(e,i,[]),Ys}},{key:"parse",value:function(e,t,r){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.check(i,e,t,r)}},{key:"check",value:function(e,t,r,i){if(r[e]!==void 0||r.__any__!==void 0){var o=e,u=!0;r[e]===void 0&&r.__any__!==void 0&&(o="__any__",u=n.getType(t[e])==="object");var d=r[o];u&&d.__type__!==void 0&&(d=d.__type__),n.checkFields(e,t,r,o,d,i)}else n.getSuggestion(e,r,i)}},{key:"checkFields",value:function(e,t,r,i,o,u){var d=function(T){console.error("%c"+T+n.printLocation(u,e),uh)},v=n.getType(t[e]),E=o[v];E!==void 0?n.getType(E)==="array"&&Ot(E).call(E,t[e])===-1?(d('Invalid option detected in "'+e+'". Allowed values are:'+n.print(E)+' not "'+t[e]+'". '),Ys=!0):v==="object"&&i!=="__any__"&&(u=ah(u,e),n.parse(t[e],r[i],u)):o.any===void 0&&(d('Invalid type received for "'+e+'". Expected: '+n.print(dr(o))+". Received ["+v+'] "'+t[e]+'"'),Ys=!0)}},{key:"getType",value:function(e){var t=Lt(e);return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Wt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}},{key:"getSuggestion",value:function(e,t,r){var i,o=n.findInOptions(e,t,r,!1),u=n.findInOptions(e,sh,[],!0);i=o.indexMatch!==void 0?" in "+n.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+`"?

`:u.distance<=4&&o.distance>u.distance?" in "+n.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+n.printLocation(u.path,u.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+n.printLocation(o.path,e):". Did you mean one of these: "+n.print(dr(t))+n.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+i,uh),Ys=!0}},{key:"findInOptions",value:function(e,t,r){var i,o=arguments.length>3&&arguments[3]!==void 0&&arguments[3],u=1e9,d="",v=[],E=e.toLowerCase(),T=void 0;for(var S in t){var N=void 0;if(t[S].__type__!==void 0&&o===!0){var F=n.findInOptions(e,t[S],ah(r,S));u>F.distance&&(d=F.closestMatch,v=F.path,u=F.distance,T=F.indexMatch)}else{var L;Ot(L=S.toLowerCase()).call(L,E)!==-1&&(T=S),u>(N=n.levenshteinDistance(e,S))&&(d=S,v=Ar(i=r).call(i),u=N)}}return{closestMatch:d,path:v,distance:u,indexMatch:T}}},{key:"printLocation",value:function(e,t){for(var r=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`,i=0;i<e.length;i++){for(var o=0;o<i+1;o++)r+="  ";r+=e[i]+`: {
`}for(var u=0;u<e.length+1;u++)r+="  ";r+=t+`
`;for(var d=0;d<e.length+1;d++){for(var v=0;v<e.length-d;v++)r+="  ";r+=`}
`}return r+`

`}},{key:"print",value:function(e){return $s(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r,i,o=[];for(r=0;r<=t.length;r++)o[r]=[r];for(i=0;i<=e.length;i++)o[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)==e.charAt(i-1)?o[r][i]=o[r-1][i-1]:o[r][i]=Math.min(o[r-1][i-1]+1,Math.min(o[r][i-1]+1,o[r-1][i]+1));return o[t.length][e.length]}}]),n}(),bT=Bn,Vw=tm,pl=Xg,_T=Uw,lh=uh,wT=mT;function Ks(n){return yo=n,function(){var e={};if(Qs=0,wt=yo.charAt(0),Xt(),Ke==="strict"&&(e.strict=!0,Xt()),Ke!=="graph"&&Ke!=="digraph"||(e.type=Ke,Xt()),kn===Ir.IDENTIFIER&&(e.id=Ke,Xt()),Ke!="{")throw xn("Angle bracket { expected");if(Xt(),rm(e),Ke!="}")throw xn("Angle bracket } expected");if(Xt(),Ke!=="")throw xn("End of file expected");return Xt(),delete e.node,delete e.edge,delete e.graph,e}()}var Jf={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Xs=vi(Jf);Xs.color="color.color",Xs.style="dashes";var Ir={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},ch={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},yo="",Qs=0,wt="",Ke="",kn=Ir.NULL;function Dr(){Qs++,wt=yo.charAt(Qs)}function yl(){return yo.charAt(Qs+1)}function Ww(n){var e=n.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123&&e>96}function zi(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function qw(n,e,t){for(var r=e.split("."),i=n;r.length;){var o=r.shift();r.length?(i[o]||(i[o]={}),i=i[o]):i[o]=t}}function Gw(n,e){for(var t,r,i=null,o=[n],u=n;u.parent;)o.push(u.parent),u=u.parent;if(u.nodes){for(t=0,r=u.nodes.length;t<r;t++)if(e.id===u.nodes[t].id){i=u.nodes[t];break}}for(i||(i={id:e.id},n.node&&(i.attr=zi(i.attr,n.node))),t=o.length-1;t>=0;t--){var d,v=o[t];v.nodes||(v.nodes=[]),Ot(d=v.nodes).call(d,i)===-1&&v.nodes.push(i)}e.attr&&(i.attr=zi(i.attr,e.attr))}function ET(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=zi({},n.edge);e.attr=zi(t,e.attr)}}function Yw(n,e,t,r,i){var o={from:e,to:t,type:r};return n.edge&&(o.attr=zi({},n.edge)),o.attr=zi(o.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(o.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),o}function Xt(){for(kn=Ir.NULL,Ke="";wt===" "||wt==="	"||wt===`
`||wt==="\r";)Dr();do{var n=!1;if(wt==="#"){for(var e=Qs-1;yo.charAt(e)===" "||yo.charAt(e)==="	";)e--;if(yo.charAt(e)===`
`||yo.charAt(e)===""){for(;wt!=""&&wt!=`
`;)Dr();n=!0}}if(wt==="/"&&yl()==="/"){for(;wt!=""&&wt!=`
`;)Dr();n=!0}if(wt==="/"&&yl()==="*"){for(;wt!="";){if(wt==="*"&&yl()==="/"){Dr(),Dr();break}Dr()}n=!0}for(;wt===" "||wt==="	"||wt===`
`||wt==="\r";)Dr()}while(n);if(wt!==""){var t=wt+yl();if(ch[t])return kn=Ir.DELIMITER,Ke=t,Dr(),void Dr();if(ch[wt])return kn=Ir.DELIMITER,Ke=wt,void Dr();if(Ww(wt)||wt==="-"){for(Ke+=wt,Dr();Ww(wt);)Ke+=wt,Dr();return Ke==="false"?Ke=!1:Ke==="true"?Ke=!0:isNaN(Number(Ke))||(Ke=Number(Ke)),void(kn=Ir.IDENTIFIER)}if(wt==='"'){for(Dr();wt!=""&&(wt!='"'||wt==='"'&&yl()==='"');)wt==='"'?(Ke+=wt,Dr()):wt==="\\"&&yl()==="n"?(Ke+=`
`,Dr()):Ke+=wt,Dr();if(wt!='"')throw xn('End of string " expected');return Dr(),void(kn=Ir.IDENTIFIER)}for(kn=Ir.UNKNOWN;wt!="";)Ke+=wt,Dr();throw new SyntaxError('Syntax error in part "'+im(Ke,30)+'"')}kn=Ir.DELIMITER}function rm(n){for(;Ke!==""&&Ke!="}";)Zn(n),Ke===";"&&Xt()}function Zn(n){var e=nm(n);if(e)Kw(n,e);else{var t=function(i){return Ke==="node"?(Xt(),i.node=gl(),"node"):Ke==="edge"?(Xt(),i.edge=gl(),"edge"):Ke==="graph"?(Xt(),i.graph=gl(),"graph"):null}(n);if(!t){if(kn!=Ir.IDENTIFIER)throw xn("Identifier expected");var r=Ke;if(Xt(),Ke==="="){if(Xt(),kn!=Ir.IDENTIFIER)throw xn("Identifier expected");n[r]=Ke,Xt()}else(function(i,o){var u={id:o},d=gl();d&&(u.attr=d),Gw(i,u),Kw(i,o)})(n,r)}}}function nm(n){var e=null;if(Ke==="subgraph"&&((e={}).type="subgraph",Xt(),kn===Ir.IDENTIFIER&&(e.id=Ke,Xt())),Ke==="{"){if(Xt(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,rm(e),Ke!="}")throw xn("Angle bracket } expected");Xt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function Kw(n,e){for(;Ke==="->"||Ke==="--";){var t,r=Ke;Xt();var i=nm(n);if(i)t=i;else{if(kn!=Ir.IDENTIFIER)throw xn("Identifier or subgraph expected");Gw(n,{id:t=Ke}),Xt()}ET(n,Yw(n,e,t,r,gl())),e=t}}function gl(){for(var n,e,t=null,r={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,u=new Array;Ke==="[";){for(Xt(),t={};Ke!==""&&Ke!="]";){if(kn!=Ir.IDENTIFIER)throw xn("Attribute name expected");var d=Ke;if(Xt(),Ke!="=")throw xn("Equal sign = expected");if(Xt(),kn!=Ir.IDENTIFIER)throw xn("Attribute value expected");var v=Ke;d==="style"&&(v=r[v]),d==="arrowhead"&&(d="arrows",v={to:{enabled:!0,type:i[v]}}),d==="arrowtail"&&(d="arrows",v={from:{enabled:!0,type:i[v]}}),o.push({attr:t,name:d,value:v}),u.push(d),Xt(),Ke==","&&Xt()}if(Ke!="]")throw xn("Bracket ] expected");Xt()}if(lo(u).call(u,"dir")){var E={arrows:{}};for(n=0;n<o.length;n++)if(o[n].name==="arrows")if(o[n].value.to!=null)E.arrows.to=n;else{if(o[n].value.from==null)throw xn("Invalid value of arrows");E.arrows.from=n}else o[n].name==="dir"&&(E.dir=n);var T,S,N=o[E.dir].value;if(!lo(u).call(u,"arrows"))if(N==="both")o.push({attr:o[E.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),E.arrows.to=o.length-1,o.push({attr:o[E.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),E.arrows.from=o.length-1;else if(N==="forward")o.push({attr:o[E.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),E.arrows.to=o.length-1;else if(N==="back")o.push({attr:o[E.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),E.arrows.from=o.length-1;else{if(N!=="none")throw xn('Invalid dir type "'+N+'"');o.push({attr:o[E.dir].attr,name:"arrows",value:""}),E.arrows.to=o.length-1}if(N==="both")E.arrows.to&&E.arrows.from?(S=o[E.arrows.to].value.to.type,T=o[E.arrows.from].value.from.type,o[E.arrows.to]={attr:o[E.arrows.to].attr,name:o[E.arrows.to].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}},qo(o).call(o,E.arrows.from,1)):E.arrows.to?(S=o[E.arrows.to].value.to.type,T="arrow",o[E.arrows.to]={attr:o[E.arrows.to].attr,name:o[E.arrows.to].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}}):E.arrows.from&&(S="arrow",T=o[E.arrows.from].value.from.type,o[E.arrows.from]={attr:o[E.arrows.from].attr,name:o[E.arrows.from].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}});else if(N==="back")E.arrows.to&&E.arrows.from?(S="",T=o[E.arrows.from].value.from.type,o[E.arrows.from]={attr:o[E.arrows.from].attr,name:o[E.arrows.from].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}}):E.arrows.to?(S="",T="arrow",E.arrows.from=E.arrows.to,o[E.arrows.from]={attr:o[E.arrows.from].attr,name:o[E.arrows.from].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}}):E.arrows.from&&(S="",T=o[E.arrows.from].value.from.type,o[E.arrows.to]={attr:o[E.arrows.from].attr,name:o[E.arrows.from].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}}),o[E.arrows.from]={attr:o[E.arrows.from].attr,name:o[E.arrows.from].name,value:{from:{enabled:!0,type:o[E.arrows.from].value.from.type}}};else if(N==="none"){var F;o[F=E.arrows.to?E.arrows.to:E.arrows.from]={attr:o[F].attr,name:o[F].name,value:""}}else{if(N!=="forward")throw xn('Invalid dir type "'+N+'"');E.arrows.to&&E.arrows.from||E.arrows.to?(S=o[E.arrows.to].value.to.type,T="",o[E.arrows.to]={attr:o[E.arrows.to].attr,name:o[E.arrows.to].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}}):E.arrows.from&&(S="arrow",T="",E.arrows.to=E.arrows.from,o[E.arrows.to]={attr:o[E.arrows.to].attr,name:o[E.arrows.to].name,value:{to:{enabled:!0,type:S},from:{enabled:!0,type:T}}}),o[E.arrows.to]={attr:o[E.arrows.to].attr,name:o[E.arrows.to].name,value:{to:{enabled:!0,type:o[E.arrows.to].value.to.type}}}}qo(o).call(o,E.dir,1)}if(lo(u).call(u,"penwidth")){var L=[];for(e=o.length,n=0;n<e;n++)o[n].name!=="width"&&(o[n].name==="penwidth"&&(o[n].name="width"),L.push(o[n]));o=L}for(e=o.length,n=0;n<e;n++)qw(o[n].attr,o[n].name,o[n].value);return t}function xn(n){return new SyntaxError(n+', got "'+im(Ke,30)+'" (char '+Qs+")")}function im(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function om(n,e,t){for(var r=e.split("."),i=r.pop(),o=n,u=0;u<r.length;u++){var d=r[u];d in o||(o[d]={}),o=o[d]}return o[i]=t,n}function Xw(n,e){var t={};for(var r in n)if(n.hasOwnProperty(r)){var i=e[r];Wt(i)?er(i).call(i,function(o){om(t,o,n[r])}):om(t,typeof i=="string"?i:r,n[r])}return t}function Zf(n){var e,t=Ks(n),r={nodes:[],edges:[],options:{}};if(t.nodes&&er(e=t.nodes).call(e,function(u){var d={id:u.id,label:String(u.label||u.id)};zi(d,Xw(u.attr,Jf)),d.image&&(d.shape="image"),r.nodes.push(d)}),t.edges){var i,o=function(u){var d={from:u.from,to:u.to};return zi(d,Xw(u.attr,Xs)),d.arrows==null&&u.type==="->"&&(d.arrows="to"),d};er(i=t.edges).call(i,function(u){var d,v,E,T,S,N,F;d=u.from instanceof Object?u.from.nodes:{id:u.from},v=u.to instanceof Object?u.to.nodes:{id:u.to},u.from instanceof Object&&u.from.edges&&er(E=u.from.edges).call(E,function(L){var V=o(L);r.edges.push(V)}),S=v,N=function(L,V){var Z=Yw(r,L.id,V.id,u.type,u.attr),se=o(Z);r.edges.push(se)},Wt(T=d)?er(T).call(T,function(L){Wt(S)?er(S).call(S,function(V){N(L,V)}):N(L,S)}):Wt(S)?er(S).call(S,function(L){N(T,L)}):N(T,S),u.to instanceof Object&&u.to.edges&&er(F=u.to.edges).call(F,function(L){var V=o(L);r.edges.push(V)})})}return t.attr&&(r.options=t.attr),r}var OT=Object.freeze({__proto__:null,DOTToGraph:Zf,parseDOT:Ks});function ev(n,e){var t,r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));var i=n.edges,o=Da(i).call(i,function(u){var d={from:u.source,id:u.id,to:u.target};return u.attributes!=null&&(d.attributes=u.attributes),u.label!=null&&(d.label=u.label),u.attributes!=null&&u.attributes.title!=null&&(d.title=u.attributes.title),u.type==="Directed"&&(d.arrows="to"),u.color&&r.edges.inheritColor===!1&&(d.color=u.color),d});return{nodes:Da(t=n.nodes).call(t,function(u){var d={id:u.id,fixed:r.nodes.fixed&&u.x!=null&&u.y!=null};return u.attributes!=null&&(d.attributes=u.attributes),u.label!=null&&(d.label=u.label),u.size!=null&&(d.size=u.size),u.attributes!=null&&u.attributes.title!=null&&(d.title=u.attributes.title),u.title!=null&&(d.title=u.title),u.x!=null&&(d.x=u.x),u.y!=null&&(d.y=u.y),u.color!=null&&(r.nodes.parseColor===!0?d.color=u.color:d.color={background:u.color,border:u.color,highlight:{background:u.color,border:u.color},hover:{background:u.color,border:u.color}}),d}),edges:o}}var kT=Object.freeze({__proto__:null,parseGephi:ev}),tv=Object.freeze({__proto__:null,cn:{addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",addNode:"\u6DFB\u52A0\u8282\u70B9",back:"\u8FD4\u56DE",close:"\u95DC\u9589",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",del:"\u5220\u9664\u9009\u5B9A",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",edit:"\u7F16\u8F91",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",editNode:"\u7F16\u8F91\u8282\u70B9"},cs:{addDescription:"Kluknut\xEDm do pr\xE1zdn\xE9ho prostoru m\u016F\u017Eete p\u0159idat nov\xFD vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011Bt",close:"Zav\u0159\xEDt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xFDb\u011Br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017Een\xEDm z jednoho vrcholu do druh\xE9ho m\u016F\u017Eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017Een\xEDm kontroln\xEDho vrcholu hrany ji m\u016F\u017Eete p\u0159ipojit k jin\xE9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xFCgen",addNode:"Knoten hinzuf\xFCgen",back:"Zur\xFCck",close:"Schlie\xDFen",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",del:"L\xF6sche Auswahl",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xF6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",addEdge:"A\xF1adir arista",addNode:"A\xF1adir nodo",back:"Atr\xE1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xF3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xE9er un lien vers un cluster.",del:"Effacer la s\xE9lection",deleteClusterError:"Les clusters ne peuvent pas \xEAtre effac\xE9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xC9diter",editClusterError:"Les clusters ne peuvent pas \xEAtre \xE9dit\xE9s.",editEdge:"\xC9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xF4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xC9diter le n\u0153ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xF3",back:"Voltar",close:"Fechar",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",edit:"Editar",editClusterError:"Clusters n\xE3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",editNode:"Editar n\xF3"},ru:{addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u044B\u0432\u0430\u0442\u044C",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B"},uk:{addDescription:"K\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0456\u043B\u044C\u043D\u0435 \u043C\u0456\u0441\u0446\u0435, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0432\u0443\u0437\u043E\u043B.",addEdge:"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",addNode:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438",createEdgeError:"\u041D\u0435 \u043C\u043E\u0436\u043B\u0438\u0432\u043E \u043E\u0431'\u0454\u0434\u043D\u0430\u0442\u0438 \u043A\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043F\u0443.",del:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0435",deleteClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0456.",edgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0443\u0437\u043E\u043B \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u043A\u0440\u0430\u0439 \u0434\u043E \u0456\u043D\u0448\u043E\u0433\u043E \u0432\u0443\u0437\u043B\u0430, \u0449\u043E\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043D\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",editEdgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u0456 \u0442\u043E\u0447\u043A\u0438 \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0457\u0445 \u0443 \u0432\u0443\u0437\u043E\u043B, \u0449\u043E\u0431 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438\u0441\u044F \u0434\u043E \u043D\u044C\u043E\u0433\u043E.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B"}}),am=function(){function n(){Ee(this,n),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Ae(n,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var r=Math.floor(t/2),i=Math.floor(t/4),o=Math.floor(t/8),u=Math.floor(t/16),d=Math.floor(e/2),v=Math.floor(e/4),E=Math.floor(e/8),T=Math.floor(e/16);this.canvas.width=3*v,this.canvas.height=r,this.coordinates=[[0,0,d,r],[d,0,v,i],[d,i,E,o],[5*E,i,T,u]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var r=1;r<this.NUM_ITERATIONS;r++){var i=this.coordinates[r-1],o=this.coordinates[r];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,r,i,o,u){if(this.initialized())if(t>2){t*=.5;for(var d=0;t>2&&d<this.NUM_ITERATIONS;)t*=.5,d+=1;d>=this.NUM_ITERATIONS&&(d=this.NUM_ITERATIONS-1);var v=this.coordinates[d];e.drawImage(this.canvas,v[0],v[1],v[2],v[3],r,i,o,u)}else e.drawImage(this.image,r,i,o,u)}}]),n}(),Qw=function(){function n(e){Ee(this,n),this.images={},this.imageBroken={},this.callback=e}return Ae(n,[{key:"_tryloadBrokenUrl",value:function(e,t,r){e!==void 0&&r!==void 0&&(t!==void 0?(r.image.onerror=function(){console.error("Could not load brokenImage:",t)},r.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var r=this,i=this.images[e];if(i)return i;var o=new am;return this.images[e]=o,o.image.onload=function(){r._fixImageCoordinates(o.image),o.init(),r._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),r._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),n}(),rv={exports:{}},xT=H(function(){if(typeof ArrayBuffer=="function"){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}),Jw=H,TT=$r,sm=It,ml=xT,hh=Object.isExtensible,dh=Jw(function(){hh(1)})||ml?function(n){return!!TT(n)&&(!ml||sm(n)!=="ArrayBuffer")&&(!hh||hh(n))}:hh,nv=!H(function(){return Object.isExtensible(Object.preventExtensions({}))}),Zw=pe,e1=Me,t1=nn,r1=$r,qa=Pt,um=sr.f,iv=Ic,fh=Cc,ov=dh,n1=nv,i1=!1,ea=ss("meta"),Ga=0,vh=function(n){um(n,ea,{value:{objectID:"O"+Ga++,weakData:{}}})},ST=rv.exports={enable:function(){ST.enable=function(){},i1=!0;var n=iv.f,e=e1([].splice),t={};t[ea]=1,n(t).length&&(iv.f=function(r){for(var i=n(r),o=0,u=i.length;o<u;o++)if(i[o]===ea){e(i,o,1);break}return i},Zw({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fh.f}))},fastKey:function(n,e){if(!r1(n))return typeof n=="symbol"?n:(typeof n=="string"?"S":"P")+n;if(!qa(n,ea)){if(!ov(n))return"F";if(!e)return"E";vh(n)}return n[ea].objectID},getWeakData:function(n,e){if(!qa(n,ea)){if(!ov(n))return!0;if(!e)return!1;vh(n)}return n[ea].weakData},onFreeze:function(n){return n1&&i1&&ov(n)&&!qa(n,ea)&&vh(n),n}};t1[ea]=!0;var bl=rv.exports,IT=si,lm=j,CT=ur,PT=Ii,cm=gb,o1=ui,Ya=Ct,hm=Ec,av=Md,dm=yb,fm=TypeError,Ka=function(n,e){this.stopped=n,this.result=e},ph=Ka.prototype,vm=function(n,e,t){var r,i,o,u,d,v,E,T=t&&t.that,S=!(!t||!t.AS_ENTRIES),N=!(!t||!t.IS_RECORD),F=!(!t||!t.IS_ITERATOR),L=!(!t||!t.INTERRUPTED),V=IT(e,T),Z=function(ye){return r&&dm(r,"normal",ye),new Ka(!0,ye)},se=function(ye){return S?(CT(ye),L?V(ye[0],ye[1],Z):V(ye[0],ye[1])):L?V(ye,Z):V(ye)};if(N)r=n.iterator;else if(F)r=n;else{if(!(i=av(n)))throw new fm(PT(n)+" is not iterable");if(cm(i)){for(o=0,u=o1(n);u>o;o++)if((d=se(n[o]))&&Ya(ph,d))return d;return new Ka(!1)}r=hm(n,i)}for(v=N?n.next:r.next;!(E=lm(v,r)).done;){try{d=se(E.value)}catch(ye){dm(r,"throw",ye)}if(typeof d=="object"&&d&&Ya(ph,d))return d}return new Ka(!1)},_l=Ct,Js=TypeError,sv=function(n,e){if(_l(e,n))return n;throw new Js("Incorrect invocation")},a1=pe,AT=R,yh=bl,DT=H,s1=Dn,NT=vm,$T=sv,RT=Ge,MT=$r,pm=_t,u1=Di,jT=sr.f,l1=ao.forEach,c1=ft,FT=ci.set,gh=ci.getterFor,Hi=function(n,e,t){var r,i=n.indexOf("Map")!==-1,o=n.indexOf("Weak")!==-1,u=i?"set":"add",d=AT[n],v=d&&d.prototype,E={};if(c1&&RT(d)&&(o||v.forEach&&!DT(function(){new d().entries().next()}))){var T=(r=e(function(N,F){FT($T(N,T),{type:n,collection:new d}),pm(F)||NT(F,N[u],{that:N,AS_ENTRIES:i})})).prototype,S=gh(n);l1(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var F=N==="add"||N==="set";!(N in v)||o&&N==="clear"||s1(T,N,function(L,V){var Z=S(this).collection;if(!F&&o&&!MT(L))return N==="get"&&void 0;var se=Z[N](L===0?0:L,V);return F?this:se})}),o||jT(T,"size",{configurable:!0,get:function(){return S(this).collection.size}})}else r=t.getConstructor(e,n,i,u),yh.enable();return u1(r,n,!1,!0),E[n]=r,a1({global:!0,forced:!0},E),o||t.setStrong(r,n,i),r},h1=dc,uv=function(n,e,t){for(var r in e)t&&t.unsafe&&n[r]?n[r]=e[r]:h1(n,r,e[r],t);return n},LT=Dt,ym=Gu,lv=ft,d1=yt("species"),cv=$o,Xa=Gu,wl=uv,BT=si,zT=sv,HT=_t,UT=vm,hv=gc,gm=Cd,VT=function(n){var e=LT(n);lv&&e&&!e[d1]&&ym(e,d1,{configurable:!0,get:function(){return this}})},mh=ft,mm=bl.fastKey,dv=ci.set,bm=ci.getterFor,f1={getConstructor:function(n,e,t,r){var i=n(function(E,T){zT(E,o),dv(E,{type:e,index:cv(null),first:void 0,last:void 0,size:0}),mh||(E.size=0),HT(T)||UT(T,E[r],{that:E,AS_ENTRIES:t})}),o=i.prototype,u=bm(e),d=function(E,T,S){var N,F,L=u(E),V=v(E,T);return V?V.value=S:(L.last=V={index:F=mm(T,!0),key:T,value:S,previous:N=L.last,next:void 0,removed:!1},L.first||(L.first=V),N&&(N.next=V),mh?L.size++:E.size++,F!=="F"&&(L.index[F]=V)),E},v=function(E,T){var S,N=u(E),F=mm(T);if(F!=="F")return N.index[F];for(S=N.first;S;S=S.next)if(S.key===T)return S};return wl(o,{clear:function(){for(var E=u(this),T=E.index,S=E.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=void 0),delete T[S.index],S=S.next;E.first=E.last=void 0,mh?E.size=0:this.size=0},delete:function(E){var T=this,S=u(T),N=v(T,E);if(N){var F=N.next,L=N.previous;delete S.index[N.index],N.removed=!0,L&&(L.next=F),F&&(F.previous=L),S.first===N&&(S.first=F),S.last===N&&(S.last=L),mh?S.size--:T.size--}return!!N},forEach:function(E){for(var T,S=u(this),N=BT(E,arguments.length>1?arguments[1]:void 0);T=T?T.next:S.first;)for(N(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(E){return!!v(this,E)}}),wl(o,t?{get:function(E){var T=v(this,E);return T&&T.value},set:function(E,T){return d(this,E===0?0:E,T)}}:{add:function(E){return d(this,E=E===0?0:E,E)}}),mh&&Xa(o,"size",{configurable:!0,get:function(){return u(this).size}}),i},setStrong:function(n,e,t){var r=e+" Iterator",i=bm(e),o=bm(r);hv(n,e,function(u,d){dv(this,{type:r,target:u,state:i(u),kind:d,last:void 0})},function(){for(var u=o(this),d=u.kind,v=u.last;v&&v.removed;)v=v.previous;return u.target&&(u.last=v=v?v.next:u.state.first)?gm(d==="keys"?v.key:d==="values"?v.value:[v.key,v.value],!1):(u.target=void 0,gm(void 0,!0))},t?"entries":"values",!t,!0),VT(e)}};Hi("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},f1);var v1=O(Xe.Map),p1=function(){function n(){Ee(this,n),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},xr(this.options,this.defaultOptions)}return Ae(n,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(e!==void 0){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ot(t).call(t,r)===-1){var i=e[r];this.add(r,i)}}}},{key:"clear",value:function(){this._groups=new v1,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var i=this._groupIndex%this._groupNames.length;++this._groupIndex,(r={}).color=this._groups.get(this._groupNames[i]),this._groups.set(e,r)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(r={}).color=this._defaultGroups[o],this._groups.set(e,r)}return r}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),n}();pe({target:"Number",stat:!0},{isNaN:function(n){return n!=n}});var El=O(Xe.Number.isNaN),y1=R.isFinite,_m=Number.isFinite||function(n){return typeof n=="number"&&y1(n)};pe({target:"Number",stat:!0},{isFinite:_m});var go=O(Xe.Number.isFinite),wm=ao.some;pe({target:"Array",proto:!0,forced:!tl("some")},{some:function(n){return wm(this,n,arguments.length>1?arguments[1]:void 0)}});var WT=jr("Array").some,fv=Ct,qT=WT,vv=Array.prototype,bh=function(n){var e=n.some;return n===vv||fv(vv,n)&&e===vv.some?qT:e},Em=O(bh),ta=O(Xe.Object.getOwnPropertySymbols),pv={exports:{}},yv=pe,Om=H,GT=An,bi=Ce.f,zn=ft;yv({target:"Object",stat:!0,forced:!zn||Om(function(){bi(1)}),sham:!zn},{getOwnPropertyDescriptor:function(n,e){return bi(GT(n),e)}});var Ol=Xe.Object,gv=pv.exports=function(n,e){return Ol.getOwnPropertyDescriptor(n,e)};Ol.getOwnPropertyDescriptor.sham&&(gv.sham=!0);var ra=pv.exports,mo=O(ra),YT=gn,g1=An,kl=Ce,_i=Oa;pe({target:"Object",stat:!0,sham:!ft},{getOwnPropertyDescriptors:function(n){for(var e,t,r=g1(n),i=kl.f,o=YT(r),u={},d=0;o.length>d;)(t=i(r,e=o[d++]))!==void 0&&_i(u,e,t);return u}});var Tn=O(Xe.Object.getOwnPropertyDescriptors),Zs={exports:{}},na=pe,_h=ft,km=ro.f;na({target:"Object",stat:!0,forced:Object.defineProperties!==km,sham:!_h},{defineProperties:km});var m1=Xe.Object,b1=Zs.exports=function(n,e){return m1.defineProperties(n,e)};m1.defineProperties.sham&&(b1.sham=!0);var wh=O(Zs.exports),xl=O(Ud);function bo(n,e,t){return(e=I_(e))in n?Uu(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Tl=R,Eh=H,mv=eo,KT=Pf.trim,_1=If,XT=Me("".charAt),bv=Tl.parseFloat,Sl=Tl.Symbol,w1=Sl&&Sl.iterator,_v=1/bv(_1+"-0")!=-1/0||w1&&!Eh(function(){bv(Object(w1))})?function(n){var e=KT(mv(n)),t=bv(e);return t===0&&XT(e,0)==="-"?-0:t}:bv;pe({global:!0,forced:parseFloat!==_v},{parseFloat:_v});var E1=O(Xe.parseFloat),O1=pe,Sn=H,eu=Cc.f;O1({target:"Object",stat:!0,forced:Sn(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:eu});var Cr=Xe.Object,Hn=function(n){return Cr.getOwnPropertyNames(n)},wv=O(Hn);function tu(n,e){var t=["node","edge","label"],r=!0,i=Wa(e,"chosen");if(typeof i=="boolean")r=i;else if(Lt(i)==="object"){if(Ot(t).call(t,n)===-1)throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");var o=Wa(e,["chosen",n]);typeof o!="boolean"&&typeof o!="function"||(r=o)}return r}function ru(n,e,t){if(n.width<=0||n.height<=0)return!1;if(t!==void 0){var r={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){var i=-t.angle;e={x:Math.cos(i)*r.x-Math.sin(i)*r.y,y:Math.sin(i)*r.x+Math.cos(i)*r.y}}else e=r}var o=n.x+n.width,u=n.y+n.width;return n.left<e.x&&o>e.x&&n.top<e.y&&u>e.y}function Qa(n){return typeof n=="string"&&n!==""}function nu(n,e,t,r){var i=r.x,o=r.y;if(typeof r.distanceToBorder=="function"){var u=r.distanceToBorder(n,e),d=Math.sin(e)*u,v=Math.cos(e)*u;v===u?(i+=u,o=r.y):d===u?(i=r.x,o-=u):(i+=v,o-=d)}else r.shape.width>r.shape.height?(i=r.x+.5*r.shape.width,o=r.y-t):(i=r.x+t,o=r.y-.5*r.shape.height);return{x:i,y:o}}var _o=jr("Array").values,iu=fs,k1=Pt,x1=Ct,Ev=_o,Ui=Array.prototype,Ov={DOMTokenList:!0,NodeList:!0},ou=function(n){var e=n.values;return n===Ui||x1(Ui,n)&&e===Ui.values||k1(Ov,iu(n))?Ev:e},xm=O(ou),T1=function(){function n(e){Ee(this,n),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return Ae(n,[{key:"_add",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var i=t;t!==void 0&&t!==""||(i=" ");var o=this.measureText(i,r),u=xr({},xm(o));u.text=t,u.width=o.width,u.mod=r,t!==void 0&&t!==""||(u.width=0),this.lines[e].blocks.push(u),this.lines[e].width+=u.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],r=0;if(t.blocks!==void 0)for(var i=0;i<t.blocks.length;i++){var o=t.blocks[i];r<o.height&&(r=o.height)}t.height=r}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,r=0;r<this.lines.length;r++){var i=this.lines[r];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var r=this.lines[t];if(r.blocks.length!==0&&(t!==this.lines.length-1||r.width!==0)){var i={};xr(i,r),i.blocks=[];for(var o=void 0,u=[],d=0;d<r.blocks.length;d++){var v=r.blocks[d];v.width!==0?u.push(v):o===void 0&&(o=v)}u.length===0&&o!==void 0&&u.push(o),i.blocks=u,e.push(i)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),n}(),Oh={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Tm=function(){function n(e){Ee(this,n),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Ae(n,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){return this.modStack.length===0?"normal":this.modStack[0]==="mono"?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=yr(this.prepareRegExp(e),2),i=r[0],o=r[1],u=i.test(this.text.substr(this.position,o));return u&&t&&(this.position+=o-1),u}},{key:"parseEndTag",value:function(e,t,r){var i=this.mod()===e;return!(!(i=e==="mono"?i&&this.mono:i&&!this.mono)||!this.match(t))&&(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0)}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,r;if(e instanceof RegExp)r=e,t=1;else{var i=Oh[e];r=i!==void 0?i:new RegExp(e),t=e.length}return[r,t]}}]),n}(),S1=function(){function n(e,t,r,i){var o=this;Ee(this,n),this.ctx=e,this.parent=t,this.selected=r,this.hover=i,this.lines=new T1(function(u,d){if(u===void 0)return 0;var v=o.parent.getFormattingValues(e,r,i,d),E=0;return u!==""&&(E=o.ctx.measureText(u).width),{width:E,values:v}})}return Ae(n,[{key:"process",value:function(e){if(!Qa(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,`
`)).replace(/\r/g,`
`);var r=String(e).split(`
`),i=r.length;if(t.multi)for(var o=0;o<i;o++){var u=this.splitBlocks(r[o],t.multi);if(u!==void 0)if(u.length!==0){if(t.maxWdt>0)for(var d=0;d<u.length;d++){var v=u[d].mod,E=u[d].text;this.splitStringIntoLines(E,v,!0)}else for(var T=0;T<u.length;T++){var S=u[T].mod,N=u[T].text;this.lines.append(N,S)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var F=0;F<i;F++)this.splitStringIntoLines(r[F]);else for(var L=0;L<i;L++)this.lines.newLine(r[L]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return e==="markdown"||e==="md"?t="markdown":e!==!0&&e!=="html"||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new Tm(e),r=function(o){return!!/&/.test(o)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,r=new Tm(e),i=!0,o=function(d){return!!/\\/.test(d)&&(r.position<t.text.length+1&&(r.position++,d=t.text.charAt(r.position),/ \t/.test(d)?r.spacing=!0:(r.add(d),i=!1)),!0)};r.position<r.text.length;){var u=r.text.charAt(r.position);r.parseWS(u)||o(u)||(i||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(u),i=!1),r.position++}return r.emitBlock(),r.blocks}},{key:"splitBlocks",value:function(e,t){var r=this.decodeMarkupSystem(t);return r==="none"?[{text:e,mod:"normal"}]:r==="markdown"?this.splitMarkdownBlocks(e):r==="html"?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",r=0;r<e.length;){var i=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(i))break;t=i,r++}return r}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(Ar(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var i=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var o=this.getLongestFit(i);if(o===0){var u=i[0],d=this.getLongestFitWord(u);this.lines.newLine(Ar(u).call(u,0,d),t),i[0]=Ar(u).call(u,d)}else{var v=o;i[o-1]===" "?o--:i[v]===" "&&v++;var E=Ar(i).call(i,0,o).join("");o==i.length&&r?this.lines.append(E,t):this.lines.newLine(E,t),i=Ar(i).call(i,v)}}}}]),n}(),Ja=["bold","ital","boldital","mono"],kv=function(){function n(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];Ee(this,n),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return Ae(n,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),Qa(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(Lt(e.font)==="object"){var t=e.font.size;t!==void 0&&(this.baseSize=t)}}}},{key:"initFontOptions",value:function(e){var t=this;kt(Ja,function(r){t.fontOptions[r]={}}),n.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:kt(e,function(r,i){r!=null&&Lt(r)!=="object"&&(t.fontOptions[i]=r)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=Wa(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(Lt(r)==="object"){var i=Wa(e,["widthConstraint","maximum"]);typeof i=="number"&&(t.maxWdt=Number(i));var o=Wa(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}var u=Wa(e,"heightConstraint");if(typeof u=="number")t.minHgt=Number(u);else if(Lt(u)==="object"){var d=Wa(e,["heightConstraint","minimum"]);typeof d=="number"&&(t.minHgt=Number(d));var v=Wa(e,["heightConstraint","valign"]);typeof v=="string"&&(v!=="top"&&v!=="bottom"||(t.valign=v))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),Yt(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=tu("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}},{key:"addFontOptionsToPile",value:function(e,t){for(var r=0;r<t.length;++r)this.addFontToPile(e,t[r])}},{key:"addFontToPile",value:function(e,t){if(t!==void 0&&t.font!==void 0&&t.font!==null){var r=t.font;e.push(r)}}},{key:"getBasicOptions",value:function(e){for(var t={},r=0;r<e.length;++r){var i=e[r],o={};n.parseFontString(o,i)&&(i=o),kt(i,function(u,d){u!==void 0&&(Object.prototype.hasOwnProperty.call(t,d)||(Ot(Ja).call(Ja,d)!==-1?t[d]={}:t[d]=u))})}return t}},{key:"getFontOption",value:function(e,t,r){for(var i,o=0;o<e.length;++o){var u=e[o];if(Object.prototype.hasOwnProperty.call(u,t)){if((i=u[t])==null)continue;var d={};if(n.parseFontString(d,i)&&(i=d),Object.prototype.hasOwnProperty.call(i,r))return i[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}},{key:"getFontOptions",value:function(e,t){for(var r={},i=["color","size","face","mod","vadjust"],o=0;o<i.length;++o){var u=i[o];r[u]=this.getFontOption(e,t,u)}return r}},{key:"propagateFonts",value:function(e){var t=this,r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(var i=function(){var u=Ja[o],d=t.fontOptions[u];kt(t.getFontOptions(r,u),function(v,E){d[E]=v}),d.size=Number(d.size),d.vadjust=Number(d.vadjust)},o=0;o<Ja.length;++o)i()}},{key:"draw",value:function(e,t,r,i,o){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var d=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&d<this.elementOptions.scaling.label.drawThreshold-1||(d>=this.elementOptions.scaling.label.maxVisible&&(d=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,o,t,r,u),this._drawBackground(e),this._drawText(e,t,this.size.yLine,u,d))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0,u=yr(this._setAlignment(e,t,r,i),2);t=u[0],r=u[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(var d=0;d<this.lineCount;d++){var v=this.lines[d];if(v&&v.blocks){var E=0;this.isEdgeLabel||this.fontOptions.align==="center"?E+=(this.size.width-v.width)/2:this.fontOptions.align==="right"&&(E+=this.size.width-v.width);for(var T=0;T<v.blocks.length;T++){var S=v.blocks[T];e.font=S.font;var N=yr(this._getColor(S.color,o,S.strokeColor),2),F=N[0],L=N[1];S.strokeWidth>0&&(e.lineWidth=S.strokeWidth,e.strokeStyle=L,e.lineJoin="round"),e.fillStyle=F,S.strokeWidth>0&&e.strokeText(S.text,t+E,r+S.vadjust),e.fillText(S.text,t+E,r+S.vadjust),E+=S.width}r+=v.height}}}},{key:"_setAlignment",value:function(e,t,r,i){return this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1?(t=0,r=0,this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=4):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=4):e.textBaseline="middle"):e.textBaseline=i,[t,r]}},{key:"_getColor",value:function(e,t,r){var i=e||"#000000",o=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var u=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=gi(i,u),o=gi(o,u)}return[i,o]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var r=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=r,t=.5*-this.size.height;break;case"top":e=r,t=-(this.size.height+2);break;case"bottom":e=r,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,u==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,r,i){var o=function(v,E,T){return E==="normal"?T==="mod"?"":v[T]:v[E][T]!==void 0?v[E][T]:v[T]},u={color:o(this.fontOptions,i,"color"),size:o(this.fontOptions,i,"size"),face:o(this.fontOptions,i,"face"),mod:o(this.fontOptions,i,"mod"),vadjust:o(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?u.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(u,this.elementOptions.id,t,r));var d="";return u.mod!==void 0&&u.mod!==""&&(d+=u.mod+" "),d+=u.size+"px "+u.face,e.font=d.replace(/"/g,""),u.font=e.font,u.height=u.size,u}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,r,i){return new S1(e,this,t,r).process(i)}},{key:"_processLabel",value:function(e,t,r){if(this.labelDirty!==!1||this.differentState(t,r)){var i=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}}},{key:"visible",value:function(){return this.size.width!==0&&this.size.height!==0&&this.elementOptions.label!==void 0&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||typeof t!="string")return!1;var r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}}]),n}(),Sm=ws,QT=Ii,I1=TypeError,JT=pe,Im=Re,ZT=rc,C1=function(n){if(Sm(n))return n;throw new I1(QT(n)+" is not a constructor")},xv=ur,Il=$r,Ur=$o,au=H,Tv=Dt("Reflect","construct"),Cl=Object.prototype,su=[].push,P1=au(function(){function n(){}return!(Tv(function(){},[],n)instanceof n)}),Cm=!au(function(){Tv(function(){})}),Pl=P1||Cm;JT({target:"Reflect",stat:!0,forced:Pl,sham:Pl},{construct:function(n,e){C1(n),xv(e);var t=arguments.length<3?n:C1(arguments[2]);if(Cm&&!P1)return Tv(n,e,t);if(n===t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var r=[null];return Im(su,r,e),new(Im(ZT,n,r))}var i=t.prototype,o=Ur(Il(i)?i:Cl),u=Im(n,o,e);return Il(u)?u:o}});var ue=O(Xe.Reflect.construct),A1=O(kw);pe({target:"Object",stat:!0},{setPrototypeOf:Fp});var uu=O(Xe.Object.setPrototypeOf),kh=O(j0);function Pm(n,e){var t;return Pm=uu?kh(t=uu).call(t):function(r,i){return r.__proto__=i,r},Pm(n,e)}function qt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=A1(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Uu(n,"prototype",{writable:!1}),e&&Pm(n,e)}function Bt(n,e){if(e&&(Lt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)}var D1=O(dw);function Ue(n){var e;return Ue=uu?kh(e=D1).call(e):function(t){return t.__proto__||D1(t)},Ue(n)}var lu=function(){function n(e,t,r){Ee(this,n),this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Ae(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(Lt(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){var r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Fi(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,r,i,o){r!==void 0&&this.resize(r,i,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,r,i,o){this._updateBoundingBox(e,t,r,i,o)}},{key:"getDimensionsFromLabel",value:function(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);var i=this.textSize.width,o=this.textSize.height;return i===0&&(i=14,o=14),{width:i,height:o}}}]),n}();function Am(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Dm=function(n){qt(t,n);var e=Am(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return Ae(t,[{key:"resize",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o);this.width=u.width+this.margin.right+this.margin.left,this.height=u.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(r,i,o,u,d,v){this.resize(r,u,d),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,v),F0(r,this.left,this.top,this.width,this.height,v.borderRadius),this.performFill(r,v),this.updateBoundingBox(i,o,r,u,d),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,u,d)}},{key:"updateBoundingBox",value:function(r,i,o,u,d){this._updateBoundingBox(r,i,o,u,d);var v=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(v)}},{key:"distanceToBorder",value:function(r,i){r&&this.resize(r);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}}]),t}(lu);function N1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var wi=function(n){qt(t,n);var e=N1(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o)).labelOffset=0,u.selected=!1,u}return Ae(t,[{key:"setOptions",value:function(r,i,o){this.options=r,i===void 0&&o===void 0||this.setImages(i,o)}},{key:"setImages",value:function(r,i){i&&this.selected?(this.imageObj=i,this.imageObjAlt=r):(this.imageObj=r,this.imageObjAlt=i)}},{key:"switchImages",value:function(r){var i=r&&!this.selected||!r&&this.selected;if(this.selected=r,this.imageObjAlt!==void 0&&i){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var r={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var i=this.options.imagePadding;Lt(i)=="object"?(r.top=i.top,r.right=i.right,r.bottom=i.bottom,r.left=i.left):(r.top=i,r.right=i,r.bottom=i,r.left=i)}return r}},{key:"_resizeImage",value:function(){var r,i;if(this.options.shapeProperties.useImageSize===!1){var o=1,u=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:u=this.imageObj.height/this.imageObj.width),r=2*this.options.size*o,i=2*this.options.size*u}else{var d=this._getImagePadding();r=this.imageObj.width+d.left+d.right,i=this.imageObj.height+d.top+d.bottom}this.width=r,this.height=i,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(r,i,o,u){this.initContextForDraw(r,u),Su(r,i,o,u.size),this.performFill(r,u)}},{key:"_drawImageAtPosition",value:function(r,i){if(this.imageObj.width!=0){r.globalAlpha=i.opacity!==void 0?i.opacity:1,this.enableShadow(r,i);var o=1;this.options.shapeProperties.interpolation===!0&&(o=this.imageObj.width/this.width/this.body.view.scale);var u=this._getImagePadding(),d=this.left+u.left,v=this.top+u.top,E=this.width-u.left-u.right,T=this.height-u.top-u.bottom;this.imageObj.drawImageAtPosition(r,o,d,v,E,T),this.disableShadow(r,i)}}},{key:"_drawImageLabel",value:function(r,i,o,u,d){var v=0;if(this.height!==void 0){v=.5*this.height;var E=this.labelModule.getTextSize(r,u,d);E.lineCount>=1&&(v+=E.height/2)}var T=o+v;this.options.label&&(this.labelOffset=v),this.labelModule.draw(r,i,T,u,d,"hanging")}}]),t}(lu);function $1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Nm=function(n){qt(t,n);var e=$1(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return Ae(t,[{key:"resize",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o),d=Math.max(u.width+this.margin.right+this.margin.left,u.height+this.margin.top+this.margin.bottom);this.options.size=d/2,this.width=d,this.height=d,this.radius=this.width/2}}},{key:"draw",value:function(r,i,o,u,d,v){this.resize(r,u,d),this.left=i-this.width/2,this.top=o-this.height/2,this._drawRawCircle(r,i,o,v),this.updateBoundingBox(i,o),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,o,u,d)}},{key:"updateBoundingBox",value:function(r,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=i+this.options.size}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(wi);function eS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var $m=function(n){qt(t,n);var e=eS(t);function t(r,i,o,u,d){var v;return Ee(this,t),(v=e.call(this,r,i,o)).setImages(u,d),v}return Ae(t,[{key:"resize",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){var u=2*this.options.size;return this.width=u,this.height=u,void(this.radius=.5*this.width)}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function(r,i,o,u,d,v){this.switchImages(u),this.resize();var E=i,T=o;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=i,this.top=o,E+=this.width/2,T+=this.height/2):(this.left=i-this.width/2,this.top=o-this.height/2),this._drawRawCircle(r,E,T,v),r.save(),r.clip(),this._drawImageAtPosition(r,v),r.restore(),this._drawImageLabel(r,E,T,u,d),this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function(r,i){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=i,this.boundingBox.left=r,this.boundingBox.right=r+2*this.options.size,this.boundingBox.bottom=i+2*this.options.size):(this.boundingBox.top=i-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=i+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),.5*this.width}}]),t}(wi);function tS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var ei=function(n){qt(t,n);var e=tS(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"resize",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(i,o)){var d,v;this.labelModule.getTextSize(r,i,o);var E=2*u.size;this.width=(d=this.customSizeWidth)!==null&&d!==void 0?d:E,this.height=(v=this.customSizeHeight)!==null&&v!==void 0?v:E,this.radius=.5*this.width}}},{key:"_drawShape",value:function(r,i,o,u,d,v,E,T){var S,N=this;return this.resize(r,v,E,T),this.left=u-this.width/2,this.top=d-this.height/2,this.initContextForDraw(r,T),(S=i,Object.prototype.hasOwnProperty.call(B0,S)?B0[S]:function(F){for(var L=arguments.length,V=new Array(L>1?L-1:0),Z=1;Z<L;Z++)V[Z-1]=arguments[Z];CanvasRenderingContext2D.prototype[S].call(F,V)})(r,u,d,T.size),this.performFill(r,T),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(r.font=(v?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",r.fillText(this.options.icon.code,u,d)),{drawExternalLabel:function(){if(N.options.label!==void 0){N.labelModule.calculateLabelSize(r,v,E,u,d,"hanging");var F=d+.5*N.height+.5*N.labelModule.size.height;N.labelModule.draw(r,u,F,v,E,"hanging")}N.updateBoundingBox(u,d)}}}},{key:"updateBoundingBox",value:function(r,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=r-this.options.size,this.boundingBox.right=r+this.options.size,this.boundingBox.bottom=i+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(lu);function xh(n,e){var t=dr(n);if(ta){var r=ta(n);e&&(r=wn(r).call(r,function(i){return mo(n,i).enumerable})),t.push.apply(t,r)}return t}function Ei(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?er(t=xh(Object(i),!0)).call(t,function(o){bo(n,o,i[o])}):Tn?wh(n,Tn(i)):er(r=xh(Object(i))).call(r,function(o){xl(n,o,mo(i,o))})}return n}function Al(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Za=function(n){qt(t,n);var e=Al(t);function t(r,i,o,u){var d;return Ee(this,t),(d=e.call(this,r,i,o,u)).ctxRenderer=u,d}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){this.resize(r,u,d,v),this.left=i-this.width/2,this.top=o-this.height/2,r.save();var E=this.ctxRenderer({ctx:r,id:this.options.id,x:i,y:o,state:{selected:u,hover:d},style:Ei({},v),label:this.options.label});if(E.drawNode!=null&&E.drawNode(),r.restore(),E.drawExternalLabel){var T=E.drawExternalLabel;E.drawExternalLabel=function(){r.save(),T(),r.restore()}}return E.nodeDimensions&&(this.customSizeWidth=E.nodeDimensions.width,this.customSizeHeight=E.nodeDimensions.height),E}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(ei);function ia(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Th=function(n){qt(t,n);var e=ia(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return Ae(t,[{key:"resize",value:function(r,i,o){if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o).width+this.margin.right+this.margin.left;this.width=u,this.height=u,this.radius=this.width/2}}},{key:"draw",value:function(r,i,o,u,d,v){this.resize(r,u,d),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(r,v),kp(r,i-this.width/2,o-this.height/2,this.width,this.height),this.performFill(r,v),this.updateBoundingBox(i,o,r,u,d),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,u,d)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(lu);function wo(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var rS=function(n){qt(t,n);var e=wo(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){return this._drawShape(r,"diamond",4,i,o,u,d,v)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(ei);function nS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Sv=function(n){qt(t,n);var e=nS(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){return this._drawShape(r,"circle",2,i,o,u,d,v)}},{key:"distanceToBorder",value:function(r){return r&&this.resize(r),this.options.size}}]),t}(ei);function R1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Sh=function(n){qt(t,n);var e=R1(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"resize",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var u=this.getDimensionsFromLabel(r,i,o);this.height=2*u.height,this.width=u.width+u.height,this.radius=.5*this.width}}},{key:"draw",value:function(r,i,o,u,d,v){this.resize(r,u,d),this.left=i-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(r,v),od(r,this.left,this.top,this.width,this.height),this.performFill(r,v),this.updateBoundingBox(i,o,r,u,d),this.labelModule.draw(r,i,o,u,d)}},{key:"distanceToBorder",value:function(r,i){r&&this.resize(r);var o=.5*this.width,u=.5*this.height,d=Math.sin(i)*o,v=Math.cos(i)*u;return o*u/Math.sqrt(d*d+v*v)}}]),t}(lu);function Rm(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var cu=function(n){qt(t,n);var e=Rm(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return Ae(t,[{key:"resize",value:function(r,i,o){this.needsRefresh(i,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,i,o,u,d,v){var E=this;return this.resize(r,u,d),this.options.icon.size=this.options.icon.size||50,this.left=i-this.width/2,this.top=o-this.height/2,this._icon(r,i,o,u,d,v),{drawExternalLabel:function(){E.options.label!==void 0&&E.labelModule.draw(r,E.left+E.iconSize.width/2+E.margin.left,o+E.height/2+5,u),E.updateBoundingBox(i,o)}}}},{key:"updateBoundingBox",value:function(r,i){this.boundingBox.top=i-.5*this.options.icon.size,this.boundingBox.left=r-.5*this.options.icon.size,this.boundingBox.right=r+.5*this.options.icon.size,this.boundingBox.bottom=i+.5*this.options.icon.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(r,i,o,u,d,v){var E=Number(this.options.icon.size);this.options.icon.code!==void 0?(r.font=[this.options.icon.weight!=null?this.options.icon.weight:u?"bold":"",(this.options.icon.weight!=null&&u?5:0)+E+"px",this.options.icon.face].join(" "),r.fillStyle=this.options.icon.color||"black",r.textAlign="center",r.textBaseline="middle",this.enableShadow(r,v),r.fillText(this.options.icon.code,i,o),this.disableShadow(r,v)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(lu);function M1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Mm=function(n){qt(t,n);var e=M1(t);function t(r,i,o,u,d){var v;return Ee(this,t),(v=e.call(this,r,i,o)).setImages(u,d),v}return Ae(t,[{key:"resize",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){var u=2*this.options.size;return this.width=u,void(this.height=u)}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function(r,i,o,u,d,v){r.save(),this.switchImages(u),this.resize();var E=i,T=o;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=i,this.top=o,E+=this.width/2,T+=this.height/2):(this.left=i-this.width/2,this.top=o-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var S=this.options.borderWidth,N=this.options.borderWidthSelected||2*this.options.borderWidth,F=(u?N:S)/this.body.view.scale;r.lineWidth=Math.min(this.width,F),r.beginPath();var L=u?this.options.color.highlight.border:d?this.options.color.hover.border:this.options.color.border,V=u?this.options.color.highlight.background:d?this.options.color.hover.background:this.options.color.background;v.opacity!==void 0&&(L=gi(L,v.opacity),V=gi(V,v.opacity)),r.strokeStyle=L,r.fillStyle=V,r.rect(this.left-.5*r.lineWidth,this.top-.5*r.lineWidth,this.width+r.lineWidth,this.height+r.lineWidth),Fi(r).call(r),this.performStroke(r,v),r.closePath()}this._drawImageAtPosition(r,v),this._drawImageLabel(r,E,T,u,d),this.updateBoundingBox(i,o),r.restore()}},{key:"updateBoundingBox",value:function(r,i){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=i):(this.left=r-this.width/2,this.top=i-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(wi);function j1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var jm=function(n){qt(t,n);var e=j1(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){return this._drawShape(r,"square",2,i,o,u,d,v)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(ei);function F1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var L1=function(n){qt(t,n);var e=F1(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){return this._drawShape(r,"hexagon",4,i,o,u,d,v)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(ei);function B1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var z1=function(n){qt(t,n);var e=B1(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){return this._drawShape(r,"star",4,i,o,u,d,v)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(ei);function iS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Fm=function(n){qt(t,n);var e=iS(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o))._setMargins(o),u}return Ae(t,[{key:"resize",value:function(r,i,o){this.needsRefresh(i,o)&&(this.textSize=this.labelModule.getTextSize(r,i,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(r,i,o,u,d,v){this.resize(r,u,d),this.left=i-this.width/2,this.top=o-this.height/2,this.enableShadow(r,v),this.labelModule.draw(r,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,u,d),this.disableShadow(r,v),this.updateBoundingBox(i,o,r,u,d)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(lu);function H1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Ih=function(n){qt(t,n);var e=H1(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){return this._drawShape(r,"triangle",3,i,o,u,d,v)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(ei);function Lm(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var U1=function(n){qt(t,n);var e=Lm(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"draw",value:function(r,i,o,u,d,v){return this._drawShape(r,"triangleDown",3,i,o,u,d,v)}},{key:"distanceToBorder",value:function(r,i){return this._distanceToBorder(r,i)}}]),t}(ei);function Iv(n,e){var t=dr(n);if(ta){var r=ta(n);e&&(r=wn(r).call(r,function(i){return mo(n,i).enumerable})),t.push.apply(t,r)}return t}function Bm(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?er(t=Iv(Object(i),!0)).call(t,function(o){bo(n,o,i[o])}):Tn?wh(n,Tn(i)):er(r=Iv(Object(i))).call(r,function(o){xl(n,o,mo(i,o))})}return n}var Un=function(){function n(e,t,r,i,o,u){Ee(this,n),this.options=mi(o),this.globalOptions=o,this.defaultOptions=u,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new kv(this.body,this.options,!1),this.setOptions(e)}return Ae(n,[{key:"attachEdge",value:function(e){var t;Ot(t=this.edges).call(t,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,r,i=Ot(t=this.edges).call(t,e);i!=-1&&qo(r=this.edges).call(r,i,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(e.color!==void 0&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");n.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Ri(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Ri(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=E1(e.value)),n.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var r=[e,this.options,this.defaultOptions];return this.chooser=tu("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&n.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var t=this.options.opacity;e.borderColor=gi(e.borderColor,t),e.color=gi(e.color,t),e.shadowColor=gi(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){this.options.label!==void 0&&this.options.label!==null||(this.options.label=""),n.updateGroupOptions(this.options,Bm(Bm({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Dm(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Nm(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new $m(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Za(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Th(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new rS(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Sv(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Sh(this.options,this.body,this.labelModule);break;case"icon":this.shape=new cu(this.options,this.body,this.labelModule);break;case"image":this.shape=new Mm(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new jm(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new L1(this.options,this.body,this.labelModule);break;case"star":this.shape=new z1(this.options,this.body,this.labelModule);break;case"text":this.shape=new Fm(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Ih(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new U1(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,r){if(this.options.value!==void 0){var i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var u=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*u}this.options.size=this.options.scaling.min+i*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&ru(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),ru(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,t,r){var i;if(r!==void 0){var o=e.group;if(t!==void 0&&t.group!==void 0&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(typeof o=="number"||typeof o=="string"&&o!=""){var u=r.get(o);u.opacity!==void 0&&t.opacity===void 0&&(n.checkOpacity(u.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+u.opacity),u.opacity=void 0));var d=wn(i=wv(t)).call(i,function(v){return t[v]!=null});d.push("font"),Xf(d,e,u),e.color=Jg(e.color)}}}},{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(Xf(["color","fixed","shadow"],e,t,r),n.checkMass(t),e.opacity!==void 0&&(n.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(n.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!n.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),Jn(e,t,"shadow",i),t.color!==void 0&&t.color!==null){var u=Jg(t.color);Bw(e.color,u)}else r===!0&&t.color===null&&(e.color=mi(i.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=mi(i.font)),n.updateGroupOptions(e,t,o),t.scaling!==void 0&&Jn(e.scaling,t.scaling,"label",i.scaling)}},{key:"checkMass",value:function(e,t){if(e.mass!==void 0&&e.mass<=0){var r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",lh),e.mass=1}}}]),n}();function oS(n,e){var t=Uo!==void 0&&Rn(n)||n["@@iterator"];if(!t){if(Wt(n)||(t=function(v,E){var T;if(v){if(typeof v=="string")return zm(v,E);var S=Ar(T=Object.prototype.toString.call(v)).call(T,8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Os(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return zm(v,E)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(v){throw v},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var v=t.next();return u=v.done,v},e:function(v){d=!0,o=v},f:function(){try{u||t.return==null||t.return()}finally{if(d)throw o}}}}function zm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var V1=function(){function n(e,t,r,i){var o,u=this;if(Ee(this,n),this.body=e,this.images=t,this.groups=r,this.layoutEngine=i,this.body.functions.createNode=Oe(o=this.create).call(o,this),this.nodesListeners={add:function(d,v){u.add(v.items)},update:function(d,v){u.update(v.items,v.data,v.oldData)},remove:function(d,v){u.remove(v.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(d,v,E,T){if(v===d)return .5;var S=1/(v-d);return Math.max(0,(T-d)*S)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=mi(this.defaultOptions),this.bindEventListeners()}return Ae(n,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("refreshNodes",Oe(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Oe(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){kt(r.nodesListeners,function(i,o){r.body.data.nodes&&r.body.data.nodes.off(o,i)}),delete r.body.functions.createNode,delete r.nodesListeners.add,delete r.nodesListeners.update,delete r.nodesListeners.remove,delete r.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(Un.parseOptions(this.options,e),e.opacity!==void 0&&(El(e.opacity)||!go(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(e.font!==void 0||e.widthConstraint!==void 0||e.heightConstraint!==void 0)for(var r=0,i=dr(this.body.nodes);r<i.length;r++){var o=i[r];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(e.size!==void 0)for(var u in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,u)&&this.body.nodes[u].needsRefresh();e.hidden===void 0&&e.physics===void 0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.body.data.nodes;if(g.isDataViewLike("id",e))this.body.data.nodes=e;else if(Wt(e))this.body.data.nodes=new g.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new g.DataSet}if(r&&kt(this.nodesListeners,function(u,d){r.off(d,u)}),this.body.nodes={},this.body.data.nodes){var i=this;kt(this.nodesListeners,function(u,d){i.body.data.nodes.on(d,u)});var o=this.body.data.nodes.getIds();this.add(o,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=[],o=0;o<e.length;o++){t=e[o];var u=this.body.data.nodes.get(t),d=this.create(u);i.push(d),this.body.nodes[t]=d}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,r){for(var i=this.body.nodes,o=!1,u=0;u<e.length;u++){var d=e[u],v=i[d],E=t[u];v!==void 0?v.setOptions(E)&&(o=!0):(o=!0,v=this.create(E),i[d]=v)}o||r===void 0||(o=Em(t).call(t,function(T,S){var N=r[S];return N&&N.level!==T.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,r=0;r<e.length;r++)delete t[e[r]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Un)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];kt(this.body.nodes,function(r,i){var o=e.body.data.nodes.get(i);o!==void 0&&(t===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(e!==void 0){if(Wt(e)===!0){for(var r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){var i=this.body.nodes[e[r]];t[e[r]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var u=0;u<this.body.nodeIndices.length;u++){var d=this.body.nodes[this.body.nodeIndices[u]];t[this.body.nodeIndices[u]]={x:Math.round(d.x),y:Math.round(d.y)}}return t}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],r=this.body.data.nodes.getDataSet(),i=oS(r.get());try{for(i.s();!(e=i.n()).done;){var o=e.value,u=o.id,d=this.body.nodes[u],v=Math.round(d.x),E=Math.round(d.y);o.x===v&&o.y===E||t.push({id:u,x:v,y:E})}}catch(T){i.e(T)}finally{i.f()}r.update(t)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var r=[];if(this.body.nodes[e]!==void 0)for(var i=this.body.nodes[e],o={},u=0;u<i.edges.length;u++){var d=i.edges[u];t!=="to"&&d.toId==i.id?o[d.fromId]===void 0&&(r.push(d.fromId),o[d.fromId]=!0):t!=="from"&&d.fromId==i.id&&o[d.toId]===void 0&&(r.push(d.toId),o[d.toId]=!0)}return r}},{key:"getConnectedEdges",value:function(e){var t=[];if(this.body.nodes[e]!==void 0)for(var r=this.body.nodes[e],i=0;i<r.edges.length;i++)t.push(r.edges[i].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,r){var i=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Mn(function(){i.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),n}(),W1=Pt,Hm=j,q1=$r,aS=ur,sS=function(n){return n!==void 0&&(W1(n,"value")||W1(n,"writable"))},G1=Ce,uS=cc;pe({target:"Reflect",stat:!0},{get:function n(e,t){var r,i,o=arguments.length<3?e:arguments[2];return aS(e)===o?e[t]:(r=G1.f(e,t))?sS(r)?r.value:r.get===void 0?void 0:Hm(r.get,o):q1(i=uS(e))?n(i,t,o):void 0}});var Um=O(Xe.Reflect.get),Ch=O(ra);function Cv(){var n;return typeof Reflect<"u"&&Um?Cv=kh(n=Um).call(n):Cv=function(e,t,r){var i=function(u,d){for(;!Object.prototype.hasOwnProperty.call(u,d)&&(u=Ue(u))!==null;);return u}(e,t);if(i){var o=Ch(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Cv.apply(this,arguments)}var es=pe,Dl=Math.hypot,Y1=Math.abs,Pv=Math.sqrt;es({target:"Math",stat:!0,arity:2,forced:!!Dl&&Dl(1/0,NaN)!==1/0},{hypot:function(n,e){for(var t,r,i=0,o=0,u=arguments.length,d=0;o<u;)d<(t=Y1(arguments[o++]))?(i=i*(r=d/t)*r+1,d=t):i+=t>0?(r=t/d)*r:t;return d===1/0?1/0:d*Pv(i)}});var lS=O(Xe.Math.hypot);function K1(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Qt=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"transform",value:function(e,t){Wt(e)||(e=[e]);for(var r=t.point.x,i=t.point.y,o=t.angle,u=t.length,d=0;d<e.length;++d){var v=e[d],E=v.x*Math.cos(o)-v.y*Math.sin(o),T=v.x*Math.sin(o)+v.y*Math.cos(o);v.x=r+u*E,v.y=i+u*T}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}]),n}(),X1=function(n){qt(t,n);var e=K1(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Ae(t,null,[{key:"draw",value:function(r,i){if(i.image){r.save(),r.translate(i.point.x,i.point.y),r.rotate(Math.PI/2+i.angle);var o=i.imageWidth!=null?i.imageWidth:i.image.width,u=i.imageHeight!=null?i.imageHeight:i.image.height;i.image.drawImageAtPosition(r,1,-o/2,0,o,u),r.restore()}return!1}}]),t}(Qt),cS=function(n){qt(t,n);var e=K1(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Ae(t,null,[{key:"draw",value:function(r,i){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Qt.transform(o,i),Qt.drawPath(r,o),!0}}]),t}(Qt),hS=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Qt.transform(r,t),Qt.drawPath(e,r),!0}}]),n}(),Q1=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};Qt.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,o=t.angle-i/2,u=t.angle+i/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,u,!1),e.stroke(),!0}}]),n}(),J1=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r={x:-.3,y:0};Qt.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,o=t.angle+i/2,u=t.angle+3*i/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,o,u,!1),e.stroke(),!0}}]),n}(),dS=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Qt.transform(r,t),Qt.drawPath(e,r),!0}}]),n}(),Z1=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Qt.transform(r,t),Qt.drawPath(e,r),!0}}]),n}(),Vm=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r={x:-.4,y:0};return Qt.transform(r,t),Su(e,r.x,r.y,.4*t.length),!0}}]),n}(),fS=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Qt.transform(r,t),Qt.drawPath(e,r),!0}}]),n}(),Wm=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Qt.transform(r,t),Qt.drawPath(e,r),!0}}]),n}(),vS=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Qt.transform(r,t),Qt.drawPath(e,r),!0}}]),n}(),qm=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Qt.transform(r,t),Qt.drawPath(e,r),!0}}]),n}(),Av=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"draw",value:function(e,t){var r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return X1.draw(e,t);case"circle":return Vm.draw(e,t);case"box":return Wm.draw(e,t);case"crow":return hS.draw(e,t);case"curve":return Q1.draw(e,t);case"diamond":return vS.draw(e,t);case"inv_curve":return J1.draw(e,t);case"triangle":return dS.draw(e,t);case"inv_triangle":return Z1.draw(e,t);case"bar":return fS.draw(e,t);case"vee":return qm.draw(e,t);default:return cS.draw(e,t)}}}]),n}();function Gm(n,e){var t=dr(n);if(ta){var r=ta(n);e&&(r=wn(r).call(r,function(i){return mo(n,i).enumerable})),t.push.apply(t,r)}return t}function Dv(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?er(t=Gm(Object(i),!0)).call(t,function(o){bo(n,o,i[o])}):Tn?wh(n,Tn(i)):er(r=Gm(Object(i))).call(r,function(o){xl(n,o,mo(i,o))})}return n}var Ym=function(){function n(e,t,r){Ee(this,n),this._body=t,this._labelModule=r,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return Ae(n,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,r,i,o){if(this.from!=this.to)this._line(e,t,r,i,o);else{var u=yr(this._getCircleData(e),3),d=u[0],v=u[1],E=u[2];this._circle(e,t,d,v,E)}}},{key:"_drawDashedLine",value:function(e,t,r,i,o){e.lineCap="round";var u=Wt(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(u),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{var d=yr(this._getCircleData(e),3),v=d[0],E=d[1],T=d[2];this._circle(e,t,v,E,T)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)L0(e,this.from.x,this.from.y,this.to.x,this.to.y,u);else{var S=yr(this._getCircleData(e),3),N=S[0],F=S[1],L=S[2];this._circle(e,t,N,F,L)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,r=yr(Ar(t=this._getCircleData(e)).call(t,0,2),2),i=r[0],o=r[1];return{from:this._findBorderPositionCircle(this.from,e,{x:i,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:i,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var r=nu(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}},{key:"_pointOnCircle",value:function(e,t,r,i){var o=2*i*Math.PI;return{x:e+r*Math.cos(o),y:t-r*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,r){var i,o=r.x,u=r.y,d=r.low,v=r.high,E=r.direction,T=this.options.selfReference.size,S=.5*(d+v),N=0;this.options.arrowStrikethrough===!0&&(E===-1?N=this.options.endPointOffset.from:E===1&&(N=this.options.endPointOffset.to));var F=0;do{S=.5*(d+v),i=this._pointOnCircle(o,u,T,S);var L=Math.atan2(e.y-i.y,e.x-i.x),V=e.distanceToBorder(t,L)+N-Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));if(Math.abs(V)<.05)break;V>0?E>0?d=S:v=S:E>0?v=S:d=S,++F}while(d<=v&&F<10);return Dv(Dv({},i),{},{t:S})}},{key:"getLineWidth",value:function(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){var r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=gi(this.from.options.color.border,t.opacity),o=gi(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),r.addColorStop(0,i),r.addColorStop(1,o),r}return t.inheritsColor==="to"?gi(this.to.options.color.border,t.opacity):gi(this.from.options.color.border,t.opacity)}return gi(t.color,t.opacity)}},{key:"_circle",value:function(e,t,r,i,o){this.enableShadow(e,t);var u=0,d=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var v=this.options.selfReference.angle,E=this.options.selfReference.angle+Math.PI,T=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:v,high:E,direction:-1}),S=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:v,high:E,direction:1});u=Math.atan2(T.y-i,T.x-r),d=Math.atan2(S.y-i,S.x-r)}e.beginPath(),e.arc(r,i,o,u,d,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,r,i,o,u){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,i,o,u);var d=yr(this._getCircleData(void 0),3),v=d[0],E=d[1],T=d[2],S=v-o,N=E-u;return Math.abs(Math.sqrt(S*S+N*N)-T)}},{key:"_getDistanceToLine",value:function(e,t,r,i,o,u){var d=r-e,v=i-t,E=((o-e)*d+(u-t)*v)/(d*d+v*v);E>1?E=1:E<0&&(E=0);var T=e+E*d-o,S=t+E*v-u;return Math.sqrt(T*T+S*S)}},{key:"getArrowData",value:function(e,t,r,i,o,u){var d,v,E,T,S,N,F,L=u.width;t==="from"?(E=this.from,T=this.to,S=u.fromArrowScale<0,N=Math.abs(u.fromArrowScale),F=u.fromArrowType):t==="to"?(E=this.to,T=this.from,S=u.toArrowScale<0,N=Math.abs(u.toArrowScale),F=u.toArrowType):(E=this.to,T=this.from,S=u.middleArrowScale<0,N=Math.abs(u.middleArrowScale),F=u.middleArrowType);var V=15*N+3*L;if(E!=T){var Z=V/lS(E.x-T.x,E.y-T.y);if(t!=="middle")if(this.options.smooth.enabled===!0){var se=this._findBorderPosition(E,e,{via:r}),ye=this.getPoint(se.t+Z*(t==="from"?1:-1),r);d=Math.atan2(se.y-ye.y,se.x-ye.x),v=se}else d=Math.atan2(E.y-T.y,E.x-T.x),v=this._findBorderPosition(E,e);else{var De=(S?-Z:Z)/2,Ne=this.getPoint(.5+De,r),Ze=this.getPoint(.5-De,r);d=Math.atan2(Ne.y-Ze.y,Ne.x-Ze.x),v=this.getPoint(.5,r)}}else{var xt=yr(this._getCircleData(e),3),bt=xt[0],pt=xt[1],tt=xt[2];if(t==="from"){var Jt=this.options.selfReference.angle,Ft=this.options.selfReference.angle+Math.PI,or=this._findBorderPositionCircle(this.from,e,{x:bt,y:pt,low:Jt,high:Ft,direction:-1});d=-2*or.t*Math.PI+1.5*Math.PI+.1*Math.PI,v=or}else if(t==="to"){var wr=this.options.selfReference.angle,Pr=this.options.selfReference.angle+Math.PI,Oi=this._findBorderPositionCircle(this.from,e,{x:bt,y:pt,low:wr,high:Pr,direction:1});d=-2*Oi.t*Math.PI+1.5*Math.PI-1.1*Math.PI,v=Oi}else{var en=this.options.selfReference.angle/(2*Math.PI);v=this._pointOnCircle(bt,pt,tt,en),d=-2*en*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:v,core:{x:v.x-.9*V*Math.cos(d),y:v.y-.9*V*Math.sin(d)},angle:d,length:V,type:F}}},{key:"drawArrowHead",value:function(e,t,r,i,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Av.draw(e,o)&&(this.enableShadow(e,t),Fi(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(t.background!==!1){var r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(t!==!1)if(e.setLineDash!==void 0){var r=Wt(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),n}();function eE(n,e){var t=dr(n);if(ta){var r=ta(n);e&&(r=wn(r).call(r,function(i){return mo(n,i).enumerable})),t.push.apply(t,r)}return t}function Nv(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?er(t=eE(Object(i),!0)).call(t,function(o){bo(n,o,i[o])}):Tn?wh(n,Tn(i)):er(r=eE(Object(i))).call(r,function(o){xl(n,o,mo(i,o))})}return n}function Km(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Vi=function(n){qt(t,n);var e=Km(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"_findBorderPositionBezier",value:function(r,i){var o,u,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),v=!1,E=1,T=0,S=this.to,N=this.options.endPointOffset?this.options.endPointOffset.to:0;r.id===this.from.id&&(S=this.from,v=!0,N=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(N=0);var F=0;do{u=.5*(T+E),o=this.getPoint(u,d);var L=Math.atan2(S.y-o.y,S.x-o.x),V=S.distanceToBorder(i,L)+N-Math.sqrt(Math.pow(o.x-S.x,2)+Math.pow(o.y-S.y,2));if(Math.abs(V)<.2)break;V<0?v===!1?T=u:E=u:v===!1?E=u:T=u,++F}while(T<=E&&F<10);return Nv(Nv({},o),{},{t:u})}},{key:"_getDistanceToBezierEdge",value:function(r,i,o,u,d,v,E){var T,S,N,F,L,V=1e9,Z=r,se=i;for(S=1;S<10;S++)N=.1*S,F=Math.pow(1-N,2)*r+2*N*(1-N)*E.x+Math.pow(N,2)*o,L=Math.pow(1-N,2)*i+2*N*(1-N)*E.y+Math.pow(N,2)*u,S>0&&(V=(T=this._getDistanceToLine(Z,se,F,L,d,v))<V?T:V),Z=F,se=L;return V}},{key:"_bezierCurve",value:function(r,i,o,u){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),o!=null&&o.x!=null?u!=null&&u.x!=null?r.bezierCurveTo(o.x,o.y,u.x,u.y,this.toPoint.x,this.toPoint.y):r.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):r.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(r,i),this.enableShadow(r,i),r.stroke(),this.disableShadow(r,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(Ym);function tE(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var rE=function(n){qt(t,n);var e=tE(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o)).via=u.via,u._boundFunction=function(){u.positionBezierNode()},u._body.emitter.on("_repositionBezierNodes",u._boundFunction),u}return Ae(t,[{key:"setOptions",value:function(r){Cv(Ue(t.prototype),"setOptions",this).call(this,r);var i=!1;this.options.physics!==r.physics&&(i=!0),this.options=r,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),i===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var r="edgeId:"+this.id,i=this._body.functions.createNode({id:r,shape:"circle",physics:!0,hidden:!0});this._body.nodes[r]=i,this.via=i,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(r,i,o){this._bezierCurve(r,i,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var o=yr(this._getCircleData(),3),u=o[0],d=o[1],v=o[2],E=2*Math.PI*(1-r);return{x:u+v*Math.sin(E),y:d+v-v*(1-Math.cos(E))}}return{x:Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*i.x+Math.pow(r,2)*this.toPoint.x,y:Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*i.y+Math.pow(r,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,i){return this._findBorderPositionBezier(r,i,this.via)}},{key:"_getDistanceToEdge",value:function(r,i,o,u,d,v){return this._getDistanceToBezierEdge(r,i,o,u,d,v,this.via)}}]),t}(Vi);function pS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var nE=function(n){qt(t,n);var e=pS(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"_line",value:function(r,i,o){this._bezierCurve(r,i,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var r,i,o=this.options.smooth.roundness,u=this.options.smooth.type,d=Math.abs(this.from.x-this.to.x),v=Math.abs(this.from.y-this.to.y);if(u==="discrete"||u==="diagonalCross"){var E,T;E=T=d<=v?o*v:o*d,this.from.x>this.to.x&&(E=-E),this.from.y>=this.to.y&&(T=-T);var S=this.from.x+E,N=this.from.y+T;return u==="discrete"&&(d<=v?S=d<o*v?this.from.x:S:N=v<o*d?this.from.y:N),{x:S,y:N}}if(u==="straightCross"){var F=(1-o)*d,L=(1-o)*v;return d<=v?(F=0,this.from.y<this.to.y&&(L=-L)):(this.from.x<this.to.x&&(F=-F),L=0),{x:this.to.x+F,y:this.to.y+L}}if(u==="horizontal"){var V=(1-o)*d;return this.from.x<this.to.x&&(V=-V),{x:this.to.x+V,y:this.from.y}}if(u==="vertical"){var Z=(1-o)*v;return this.from.y<this.to.y&&(Z=-Z),{x:this.from.x,y:this.to.y+Z}}if(u==="curvedCW"){d=this.to.x-this.from.x,v=this.from.y-this.to.y;var se=Math.sqrt(d*d+v*v),ye=Math.PI,De=(Math.atan2(v,d)+(.5*o+.5)*ye)%(2*ye);return{x:this.from.x+(.5*o+.5)*se*Math.sin(De),y:this.from.y+(.5*o+.5)*se*Math.cos(De)}}if(u==="curvedCCW"){d=this.to.x-this.from.x,v=this.from.y-this.to.y;var Ne=Math.sqrt(d*d+v*v),Ze=Math.PI,xt=(Math.atan2(v,d)+(.5*-o+.5)*Ze)%(2*Ze);return{x:this.from.x+(.5*o+.5)*Ne*Math.sin(xt),y:this.from.y+(.5*o+.5)*Ne*Math.cos(xt)}}r=i=d<=v?o*v:o*d,this.from.x>this.to.x&&(r=-r),this.from.y>=this.to.y&&(i=-i);var bt=this.from.x+r,pt=this.from.y+i;return d<=v?bt=this.from.x<=this.to.x?this.to.x<bt?this.to.x:bt:this.to.x>bt?this.to.x:bt:pt=this.from.y>=this.to.y?this.to.y>pt?this.to.y:pt:this.to.y<pt?this.to.y:pt,{x:bt,y:pt}}},{key:"_findBorderPosition",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(r,i,o.via)}},{key:"_getDistanceToEdge",value:function(r,i,o,u,d,v){var E=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(r,i,o,u,d,v,E)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),o=r;return{x:Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*i.x+Math.pow(o,2)*this.toPoint.x,y:Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*i.y+Math.pow(o,2)*this.toPoint.y}}}]),t}(Vi);function yS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var oa=function(n){qt(t,n);var e=yS(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"_getDistanceToBezierEdge2",value:function(r,i,o,u,d,v,E,T){for(var S=1e9,N=r,F=i,L=[0,0,0,0],V=1;V<10;V++){var Z=.1*V;L[0]=Math.pow(1-Z,3),L[1]=3*Z*Math.pow(1-Z,2),L[2]=3*Math.pow(Z,2)*(1-Z),L[3]=Math.pow(Z,3);var se=L[0]*r+L[1]*E.x+L[2]*T.x+L[3]*o,ye=L[0]*i+L[1]*E.y+L[2]*T.y+L[3]*u;if(V>0){var De=this._getDistanceToLine(N,F,se,ye,d,v);S=De<S?De:S}N=se,F=ye}return S}}]),t}(Vi);function ti(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var iE=function(n){qt(t,n);var e=ti(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"_line",value:function(r,i,o){var u=o[0],d=o[1];this._bezierCurve(r,i,u,d)}},{key:"_getViaCoordinates",value:function(){var r,i,o,u,d=this.from.x-this.to.x,v=this.from.y-this.to.y,E=this.options.smooth.roundness;return(Math.abs(d)>Math.abs(v)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,u=this.to.y,r=this.from.x-E*d,o=this.to.x+E*d):(i=this.from.y-E*v,u=this.to.y+E*v,r=this.from.x,o=this.to.x),[{x:r,y:i},{x:o,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(r,i){return this._findBorderPositionBezier(r,i)}},{key:"_getDistanceToEdge",value:function(r,i,o,u,d,v){var E=yr(arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),2),T=E[0],S=E[1];return this._getDistanceToBezierEdge2(r,i,o,u,d,v,T,S)}},{key:"getPoint",value:function(r){var i=yr(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),2),o=i[0],u=i[1],d=r,v=[Math.pow(1-d,3),3*d*Math.pow(1-d,2),3*Math.pow(d,2)*(1-d),Math.pow(d,3)];return{x:v[0]*this.fromPoint.x+v[1]*o.x+v[2]*u.x+v[3]*this.toPoint.x,y:v[0]*this.fromPoint.y+v[1]*o.y+v[2]*u.y+v[3]*this.toPoint.y}}}]),t}(oa);function gS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var $v=function(n){qt(t,n);var e=gS(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"_line",value:function(r,i){r.beginPath(),r.moveTo(this.fromPoint.x,this.fromPoint.y),r.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(r,i),r.stroke(),this.disableShadow(r,i)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(r){return{x:(1-r)*this.fromPoint.x+r*this.toPoint.x,y:(1-r)*this.fromPoint.y+r*this.toPoint.y}}},{key:"_findBorderPosition",value:function(r,i){var o=this.to,u=this.from;r.id===this.from.id&&(o=this.from,u=this.to);var d=Math.atan2(o.y-u.y,o.x-u.x),v=o.x-u.x,E=o.y-u.y,T=Math.sqrt(v*v+E*E),S=(T-r.distanceToBorder(i,d))/T;return{x:(1-S)*u.x+S*o.x,y:(1-S)*u.y+S*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(r,i,o,u,d,v){return this._getDistanceToLine(r,i,o,u,d,v)}}]),t}(Ym),ts=function(){function n(e,t,r,i,o){if(Ee(this,n),t===void 0)throw new Error("No body provided");this.options=mi(i),this.globalOptions=i,this.defaultOptions=o,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new kv(this.body,this.options,!0),this.setOptions(e)}return Ae(n,[{key:"setOptions",value:function(e){if(e){var t=e.physics!==void 0&&this.options.physics!==e.physics||e.hidden!==void 0&&(this.options.hidden||!1)!==(e.hidden||!1)||e.from!==void 0&&this.options.from!==e.from||e.to!==void 0&&this.options.to!==e.to;n.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=E1(e.value));var r=[e,this.options,this.defaultOptions];return this.chooser=tu("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var u=this.options.selectionWidth;typeof u=="function"?o.width=u(o.width):typeof u=="number"&&(o.width+=u),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var d=this.options.hoverWidth;typeof d=="function"?o.width=d(o.width):typeof d=="number"&&(o.width+=d),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof rE&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof iE&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof nE&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof $v&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new rE(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new iE(this.options,this.body,this.labelModule):this.edgeType=new nE(this.options,this.body,this.labelModule):this.edgeType=new $v(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,r){if(this.options.value!==void 0){var i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var u=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*u}this.options.width=this.options.scaling.min+i*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var r=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(e,t){if(this.options.label!==void 0){var r,i=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),i.id!=o.id){this.labelModule.pointToSelf=!1,r=this.edgeType.getPoint(.5,t),e.save();var u=this._getRotation(e);u.angle!=0&&(e.translate(u.x,u.y),e.rotate(u.angle)),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var d=nu(e,this.options.selfReference.angle,this.options.selfReference.size,i);r=this._pointOnCircle(d.x,d.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var r=this._getRotation();ru(this.labelModule.getSize(),e,r)&&t.push({edgeId:this.id,labelId:0})}var i={left:e.x,top:e.y};return this.isOverlappingWith(i)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,r=this.from.y,i=this.to.x,o=this.to.y,u=e.left,d=e.top;return this.edgeType.getDistanceToEdge(t,r,i,o,u,d)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);var i={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;var o=this.from.y-this.to.y,u=this.from.x-this.to.x,d=Math.atan2(o,u);return(d<-1&&u<0||d>0&&u<0)&&(d+=Math.PI),i.angle=d,i}},{key:"_pointOnCircle",value:function(e,t,r,i){return{x:e+r*Math.cos(i),y:t-r*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(Zo(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(go(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(go(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Qa(t.label)?e.label=t.label:Qa(e.label)||(e.label=void 0),Jn(e,t,"smooth",i),Jn(e,t,"shadow",i),Jn(e,t,"background",i),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=vi(i.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),Jn(e.scaling,t.scaling,"label",i.scaling)):r===!0&&t.scaling===null&&(e.scaling=vi(i.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){var u=t.arrows.toLowerCase();e.arrows.to.enabled=Ot(u).call(u,"to")!=-1,e.arrows.middle.enabled=Ot(u).call(u,"middle")!=-1,e.arrows.from.enabled=Ot(u).call(u,"from")!=-1}else{if(Lt(t.arrows)!=="object")throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+$s(t.arrows));Jn(e.arrows,t.arrows,"to",i.arrows),Jn(e.arrows,t.arrows,"middle",i.arrows),Jn(e.arrows,t.arrows,"from",i.arrows)}else r===!0&&t.arrows===null&&(e.arrows=vi(i.arrows));if(t.color!==void 0&&t.color!==null){var d=Jo(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,v=e.color;if(o)Yt(v,i.color,!1,r);else for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&delete v[E];if(Jo(v))v.color=v,v.highlight=v,v.hover=v,v.inherit=!1,d.opacity===void 0&&(v.opacity=1);else{var T=!1;d.color!==void 0&&(v.color=d.color,T=!0),d.highlight!==void 0&&(v.highlight=d.highlight,T=!0),d.hover!==void 0&&(v.hover=d.hover,T=!0),d.inherit!==void 0&&(v.inherit=d.inherit),d.opacity!==void 0&&(v.opacity=Math.min(1,Math.max(0,d.opacity))),T===!0?v.inherit=!1:v.inherit===void 0&&(v.inherit="from")}}else r===!0&&t.color===null&&(e.color=mi(i.color));r===!0&&t.font===null&&(e.font=mi(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),n}(),mS=function(){function n(e,t,r){var i,o=this;Ee(this,n),this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=Oe(i=this.create).call(i,this),this.edgesListeners={add:function(u,d){o.add(d.items)},update:function(u,d){o.update(d.items)},remove:function(u,d){o.remove(d.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,d,v,E){if(d===u)return .5;var T=1/(d-u);return Math.max(0,(E-u)*T)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Yt(this.options,this.defaultOptions),this.bindEventListeners()}return Ae(n,[{key:"bindEventListeners",value:function(){var e,t,r=this;this.body.emitter.on("_forceDisableDynamicCurves",function(i){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];i==="dynamic"&&(i="continuous");var u=!1;for(var d in r.body.edges)if(Object.prototype.hasOwnProperty.call(r.body.edges,d)){var v=r.body.edges[d],E=r.body.data.edges.get(d);if(E!=null){var T=E.smooth;T!==void 0&&T.enabled===!0&&T.type==="dynamic"&&(i===void 0?v.setOptions({smooth:!1}):v.setOptions({smooth:{type:i}}),u=!0)}}o===!0&&u===!0&&r.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){r.reconnectEdges()}),this.body.emitter.on("refreshEdges",Oe(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Oe(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){kt(r.edgesListeners,function(i,o){r.body.data.edges&&r.body.data.edges.off(o,i)}),delete r.body.functions.createEdge,delete r.edgesListeners.add,delete r.edgesListeners.update,delete r.edgesListeners.remove,delete r.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){ts.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(e.smooth!==void 0)for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();e.hidden===void 0&&e.physics===void 0&&t!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.body.data.edges;if(g.isDataViewLike("id",e))this.body.data.edges=e;else if(Wt(e))this.body.data.edges=new g.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new g.DataSet}if(i&&kt(this.edgesListeners,function(u,d){i.off(d,u)}),this.body.edges={},this.body.data.edges){kt(this.edgesListeners,function(u,d){t.body.data.edges.on(d,u)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.body.edges,i=this.body.data.edges,o=0;o<e.length;o++){var u=e[o],d=r[u];d&&d.disconnect();var v=i.get(u,{showInternalIds:!0});r[u]=this.create(v)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,r=this.body.data.edges,i=!1,o=0;o<e.length;o++){var u=e[o],d=r.get(u),v=t[u];v!==void 0?(v.disconnect(),i=v.setOptions(d)||i,v.connect()):(this.body.edges[u]=this.create(d),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e.length!==0){var r=this.body.edges;kt(e,function(i){var o=r[i];o!==void 0&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;kt(this.body.edges,function(t,r){var i=e.body.data.edges.get(r);i!==void 0&&t.setOptions(i)})}},{key:"create",value:function(e){return new ts(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){var i=r[e];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(this.body.edges[e]!==void 0){var r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];kt(this.body.edges,function(r,i){var o=e.body.nodes[r.toId],u=e.body.nodes[r.fromId];o!==void 0&&o.isCluster===!0||u!==void 0&&u.isCluster===!0||o!==void 0&&u!==void 0||t.push(i)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var t=this.body.edges,r=[];er(e).call(e,function(i,o){t[o]===void 0&&r.push(o)}),this.add(r,!0)}}}]),n}(),Xm=function(){function n(e,t,r){Ee(this,n),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=Hr("BARNES HUT SOLVER")}return Ae(n,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=r.length,o=this._formBarnesHutTree(t,r);this.barnesHutTree=o;for(var u=0;u<i;u++)(e=t[r[u]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var r=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,o=Math.sqrt(r*r+i*i);o*e.calcSize>this.thetaInversed?this._calculateForces(o,r,i,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,r,i,t,e)}}},{key:"_calculateForces",value:function(e,t,r,i,o){e===0&&(t=e=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var u=this.options.gravitationalConstant*o.mass*i.options.mass/Math.pow(e,3),d=t*u,v=r*u;this.physicsBody.forces[i.id].x+=d,this.physicsBody.forces[i.id].y+=v}},{key:"_formBarnesHutTree",value:function(e,t){for(var r,i=t.length,o=e[t[0]].x,u=e[t[0]].y,d=e[t[0]].x,v=e[t[0]].y,E=1;E<i;E++){var T=e[t[E]],S=T.x,N=T.y;T.options.mass>0&&(S<o&&(o=S),S>d&&(d=S),N<u&&(u=N),N>v&&(v=N))}var F=Math.abs(d-o)-Math.abs(v-u);F>0?(u-=.5*F,v+=.5*F):(o+=.5*F,d-=.5*F);var L=Math.max(1e-5,Math.abs(d-o)),V=.5*L,Z=.5*(o+d),se=.5*(u+v),ye={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:Z-V,maxX:Z+V,minY:se-V,maxY:se+V},size:L,calcSize:1/L,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(ye.root);for(var De=0;De<i;De++)(r=e[t[De]]).options.mass>0&&this._placeInTree(ye.root,r);return ye}},{key:"_updateBranchMass",value:function(e,t){var r=e.centerOfMass,i=e.mass+t.options.mass,o=1/i;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=o,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=o,e.mass=i;var u=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<u?u:e.maxWidth}},{key:"_placeInTree",value:function(e,t,r){r==1&&r!==void 0||this._updateBranchMass(e,t);var i,o=e.children.NW.range;i=o.maxX>t.x?o.maxY>t.y?"NW":"SW":o.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,i)}},{key:"_placeInRegion",value:function(e,t,r){var i=e.children[r];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t)}}},{key:"_splitBranch",value:function(e){var t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var r,i,o,u,d=.5*e.size;switch(t){case"NW":r=e.range.minX,i=e.range.minX+d,o=e.range.minY,u=e.range.minY+d;break;case"NE":r=e.range.minX+d,i=e.range.maxX,o=e.range.minY,u=e.range.minY+d;break;case"SW":r=e.range.minX,i=e.range.minX+d,o=e.range.minY+d,u=e.range.maxY;break;case"SE":r=e.range.minX+d,i=e.range.maxX,o=e.range.minY+d,u=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:i,minY:o,maxY:u},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),n}(),bS=function(){function n(e,t,r){Ee(this,n),this._rng=Hr("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}return Ae(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o,u,d,v,E=this.body.nodes,T=this.physicsBody.physicsNodeIndices,S=this.physicsBody.forces,N=this.options.nodeDistance,F=-2/3/N,L=0;L<T.length-1;L++){d=E[T[L]];for(var V=L+1;V<T.length;V++)e=(v=E[T[V]]).x-d.x,t=v.y-d.y,(r=Math.sqrt(e*e+t*t))===0&&(e=r=.1*this._rng()),r<2*N&&(u=r<.5*N?1:F*r+1.3333333333333333,i=e*(u/=r),o=t*u,S[d.id].x-=i,S[d.id].y-=o,S[v.id].x+=i,S[v.id].y+=o)}}}]),n}(),_S=function(){function n(e,t,r){Ee(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return Ae(n,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,i=this.options.nodeDistance,o=0;o<t.length-1;o++)for(var u=e[t[o]],d=o+1;d<t.length;d++){var v=e[t[d]];if(u.level===v.level){var E=i+this.overlapAvoidanceFactor*((u.shape.radius||0)/2+(v.shape.radius||0)/2),T=v.x-u.x,S=v.y-u.y,N=Math.sqrt(T*T+S*S),F=void 0;F=N<E?-Math.pow(.05*N,2)+Math.pow(.05*E,2):0,N!==0&&(F/=N);var L=T*F,V=S*F;r[u.id].x-=L,r[u.id].y-=V,r[v.id].x+=L,r[v.id].y+=V}}}}]),n}(),Qm=function(){function n(e,t,r){Ee(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return Ae(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o,u=this.physicsBody.physicsEdgeIndices,d=this.body.edges,v=0;v<u.length;v++)(t=d[u[v]]).connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.to,i=t.edgeType.via,o=t.from,this._calculateSpringForce(r,i,.5*e),this._calculateSpringForce(i,o,.5*e)):(e=t.options.length===void 0?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,r){var i=e.x-t.x,o=e.y-t.y,u=Math.max(Math.sqrt(i*i+o*o),.01),d=this.options.springConstant*(r-u)/u,v=i*d,E=o*d;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=v,this.physicsBody.forces[e.id].y+=E),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=v,this.physicsBody.forces[t.id].y-=E)}}]),n}(),Jm=function(){function n(e,t,r){Ee(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return Ae(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o,u,d,v,E,T,S=this.body.edges,N=.5,F=this.physicsBody.physicsEdgeIndices,L=this.physicsBody.physicsNodeIndices,V=this.physicsBody.forces,Z=0;Z<L.length;Z++){var se=L[Z];V[se].springFx=0,V[se].springFy=0}for(var ye=0;ye<F.length;ye++)(t=S[F[ye]]).connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,i=t.from.y-t.to.y,v=(v=Math.sqrt(r*r+i*i))===0?.01:v,o=r*(d=this.options.springConstant*(e-v)/v),u=i*d,t.to.level!=t.from.level?(V[t.toId]!==void 0&&(V[t.toId].springFx-=o,V[t.toId].springFy-=u),V[t.fromId]!==void 0&&(V[t.fromId].springFx+=o,V[t.fromId].springFy+=u)):(V[t.toId]!==void 0&&(V[t.toId].x-=N*o,V[t.toId].y-=N*u),V[t.fromId]!==void 0&&(V[t.fromId].x+=N*o,V[t.fromId].y+=N*u)));d=1;for(var De=0;De<L.length;De++){var Ne=L[De];E=Math.min(d,Math.max(-d,V[Ne].springFx)),T=Math.min(d,Math.max(-d,V[Ne].springFy)),V[Ne].x+=E,V[Ne].y+=T}for(var Ze=0,xt=0,bt=0;bt<L.length;bt++){var pt=L[bt];Ze+=V[pt].x,xt+=V[pt].y}for(var tt=Ze/L.length,Jt=xt/L.length,Ft=0;Ft<L.length;Ft++){var or=L[Ft];V[or].x-=tt,V[or].y-=Jt}}}]),n}(),Rv=function(){function n(e,t,r){Ee(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return Ae(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,i,o=this.body.nodes,u=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,v=0;v<u.length;v++)e=-(i=o[u[v]]).x,t=-i.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,d,i)}},{key:"_calculateForces",value:function(e,t,r,i,o){var u=e===0?0:this.options.centralGravity/e;i[o.id].x=t*u,i[o.id].y=r*u}}]),n}();function oE(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var hu=function(n){qt(t,n);var e=oE(t);function t(r,i,o){var u;return Ee(this,t),(u=e.call(this,r,i,o))._rng=Hr("FORCE ATLAS 2 BASED REPULSION SOLVER"),u}return Ae(t,[{key:"_calculateForces",value:function(r,i,o,u,d){r===0&&(i=r=.1*this._rng()),this.overlapAvoidanceFactor<1&&u.shape.radius&&(r=Math.max(.1+this.overlapAvoidanceFactor*u.shape.radius,r-u.shape.radius));var v=u.edges.length+1,E=this.options.gravitationalConstant*d.mass*u.options.mass*v/Math.pow(r,2),T=i*E,S=o*E;this.physicsBody.forces[u.id].x+=T,this.physicsBody.forces[u.id].y+=S}}]),t}(Xm);function wS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var ES=function(n){qt(t,n);var e=wS(t);function t(r,i,o){return Ee(this,t),e.call(this,r,i,o)}return Ae(t,[{key:"_calculateForces",value:function(r,i,o,u,d){if(r>0){var v=d.edges.length+1,E=this.options.centralGravity*v*d.options.mass;u[d.id].x=i*E,u[d.id].y=o*E}}}]),t}(Rv),OS=function(){function n(e){Ee(this,n),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},xr(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Ae(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Xf(["stabilization"],this.options,e),Jn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&((typeof t.x!="number"||El(t.x))&&(t.x=0),(typeof t.y!="number"||El(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new hu(this.body,this.physicsBody,e),this.edgesSolver=new Qm(this.body,this.physicsBody,e),this.gravitySolver=new ES(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new bS(this.body,this.physicsBody,e),this.edgesSolver=new Qm(this.body,this.physicsBody,e),this.gravitySolver=new Rv(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new _S(this.body,this.physicsBody,e),this.edgesSolver=new Jm(this.body,this.physicsBody,e),this.gravitySolver=new Rv(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Xm(this.body,this.physicsBody,e),this.edgesSolver=new Qm(this.body,this.physicsBody,e),this.gravitySolver=new Rv(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=Oe(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Na();this.physicsTick(),(Na()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Mn(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&t[i].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[i].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var u=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[u]={x:0,y:0},this.physicsBody.velocities[u]===void 0&&(this.physicsBody.velocities[u]={x:0,y:0})}for(var d in this.physicsBody.velocities)e[d]===void 0&&delete this.physicsBody.velocities[d]}},{key:"revert",value:function(){var e=dr(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<e.length;i++){var o=e[i];t[o]!==void 0?t[o].options.physics===!0&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},r[o].x=this.previousStates[o].vx,r[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var e,t,r=this.body.nodes,i=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&r[o]!==void 0&&(e=r[o].x-i[o].positions.x,t=r[o].y-i[o].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,r=0,i=0;i<e.length;i++){var o=e[i],u=this._performStep(o);t=Math.max(t,u),r+=u}this.adaptiveTimestepEnabled=r/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,r){e+=(t-this.modelOptions.damping*e)/r*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(e)>i&&(e=e>0?i:-i),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);var i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},t.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,r.x,t.options.mass),t.x+=i.x*this.timestep):(r.x=0,i.x=0),t.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,r.y,t.options.mass),t.y+=i.y*this.timestep):(r.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;typeof t!="number"&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),this.physicsBody.physicsNodeIndices.length!==0?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Mn(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return this.startedStabilization!==!0&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},r=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&r();for(var i,o=0;t()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;r(),t()?Mn(Oe(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var r=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[r],o=this.physicsBody.forces[r],u=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),d=Math.min(Math.max(5,u),15),v=3*d,E=Xr((180-180*Math.min(1,Math.max(0,.03*u)))/360,1,1),T={x:i.x+20*o.x,y:i.y+20*o.y};e.lineWidth=d,e.strokeStyle=E,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(T.x,T.y),e.stroke();var S=Math.atan2(o.y,o.x);e.fillStyle=E,Av.draw(e,{type:"arrow",point:T,angle:S,length:v}),Fi(e).call(e)}}}]),n}();let Mv,kS=new Uint8Array(16);function jv(){if(!Mv&&(Mv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Mv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mv(kS)}let Nr=[];for(let n=0;n<256;++n)Nr.push((n+256).toString(16).slice(1));var aE={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function rs(n,e,t){if(aE.randomUUID&&!e&&!n)return aE.randomUUID();let r=(n=n||{}).random||(n.rng||jv)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return function(i,o=0){return Nr[i[o+0]]+Nr[i[o+1]]+Nr[i[o+2]]+Nr[i[o+3]]+"-"+Nr[i[o+4]]+Nr[i[o+5]]+"-"+Nr[i[o+6]]+Nr[i[o+7]]+"-"+Nr[i[o+8]]+Nr[i[o+9]]+"-"+Nr[i[o+10]]+Nr[i[o+11]]+Nr[i[o+12]]+Nr[i[o+13]]+Nr[i[o+14]]+Nr[i[o+15]]}(r)}var In=function(){function n(){Ee(this,n)}return Ae(n,null,[{key:"getRange",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,o=-1e9,u=1e9,d=-1e9;if(r.length>0)for(var v=0;v<r.length;v++)u>(t=e[r[v]]).shape.boundingBox.left&&(u=t.shape.boundingBox.left),d<t.shape.boundingBox.right&&(d=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return u===1e9&&d===-1e9&&i===1e9&&o===-1e9&&(i=0,o=0,u=0,d=0),{minX:u,maxX:d,minY:i,maxY:o}}},{key:"getRangeCore",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,o=-1e9,u=1e9,d=-1e9;if(r.length>0)for(var v=0;v<r.length;v++)u>(t=e[r[v]]).x&&(u=t.x),d<t.x&&(d=t.x),i>t.y&&(i=t.y),o<t.y&&(o=t.y);return u===1e9&&d===-1e9&&i===1e9&&o===-1e9&&(i=0,o=0,u=0,d=0),{minX:u,maxX:d,minY:i,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var r={};return t===void 0||t==="node"?(Yt(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):Yt(r,e.options,!0),r}}]),n}();function xS(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var Qr=function(n){qt(t,n);var e=xS(t);function t(r,i,o,u,d,v){var E;return Ee(this,t),(E=e.call(this,r,i,o,u,d,v)).isCluster=!0,E.containedNodes={},E.containedEdges={},E}return Ae(t,[{key:"_openChildCluster",value:function(r){var i=this,o=this.body.nodes[r];if(this.containedNodes[r]===void 0)throw new Error("node with id: "+r+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+r+" is not a cluster");delete this.containedNodes[r],kt(o.edges,function(u){delete i.containedEdges[u.id]}),kt(o.containedNodes,function(u,d){i.containedNodes[d]=u}),o.containedNodes={},kt(o.containedEdges,function(u,d){i.containedEdges[d]=u}),o.containedEdges={},kt(o.edges,function(u){kt(i.edges,function(d){var v,E,T=Ot(v=d.clusteringEdgeReplacingIds).call(v,u.id);T!==-1&&(kt(u.clusteringEdgeReplacingIds,function(S){d.clusteringEdgeReplacingIds.push(S),i.body.edges[S].edgeReplacedById=d.id}),qo(E=d.clusteringEdgeReplacingIds).call(E,T,1))})}),o.edges=[]}}]),t}(Un),sE=function(){function n(e){var t=this;Ee(this,n),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},xr(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return Ae(n,[{key:"clusterByHubsize",value:function(e,t){e===void 0?e=this._getHubSize():Lt(e)==="object"&&(t=this._checkOptions(e),e=this._getHubSize());for(var r=[],i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.edges.length>=e&&r.push(o.id)}for(var u=0;u<r.length;u++)this.clusterByConnection(r[u],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(t.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var i={},o={};kt(this.body.nodes,function(u,d){u.options&&t.joinCondition(u.options)===!0&&(i[d]=u,kt(u.edges,function(v){e.clusteredEdges[v.id]===void 0&&(o[v.id]=v)}))}),this._cluster(i,o,t,r)}},{key:"clusterByEdgeCount",value:function(e,t){var r=this,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];t=this._checkOptions(t);for(var o,u,d,v=[],E={},T=function(){var F={},L={},V=r.body.nodeIndices[S],Z=r.body.nodes[V];if(E[V]===void 0){d=0,u=[];for(var se=0;se<Z.edges.length;se++)o=Z.edges[se],r.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&d++,u.push(o));if(d===e){for(var ye=function(tt){if(t.joinCondition===void 0||t.joinCondition===null)return!0;var Jt=In.cloneOptions(tt);return t.joinCondition(Jt)},De=!0,Ne=0;Ne<u.length;Ne++){o=u[Ne];var Ze=r._getConnectedId(o,V);if(!ye(Z)){De=!1;break}L[o.id]=o,F[V]=Z,F[Ze]=r.body.nodes[Ze],E[V]=!0}if(dr(F).length>0&&dr(L).length>0&&De===!0){var xt=function(){for(var tt=0;tt<v.length;++tt)for(var Jt in F)if(v[tt].nodes[Jt]!==void 0)return v[tt]}();if(xt!==void 0){for(var bt in F)xt.nodes[bt]===void 0&&(xt.nodes[bt]=F[bt]);for(var pt in L)xt.edges[pt]===void 0&&(xt.edges[pt]=L[pt])}else v.push({nodes:F,edges:L})}}}},S=0;S<this.body.nodeIndices.length;S++)T();for(var N=0;N<v.length;N++)this._cluster(v[N].nodes,v[N].edges,t,!1);i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var r,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];(t=this._checkOptions(t,o)).clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=o.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=o.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);var u={},d={},v=o.id,E=In.cloneOptions(o);u[v]=o;for(var T=0;T<o.edges.length;T++){var S=o.edges[T];if(this.clusteredEdges[S.id]===void 0){var N=this._getConnectedId(S,v);if(this.clusteredNodes[N]===void 0)if(N!==v)if(t.joinCondition===void 0)d[S.id]=S,u[N]=this.body.nodes[N];else{var F=In.cloneOptions(this.body.nodes[N]);t.joinCondition(E,F)===!0&&(d[S.id]=S,u[N]=this.body.nodes[N])}else d[S.id]=S}}var L=Da(r=dr(u)).call(r,function(De){return u[De].id});for(var V in u)if(Object.prototype.hasOwnProperty.call(u,V))for(var Z=u[V],se=0;se<Z.edges.length;se++){var ye=Z.edges[se];Ot(L).call(L,this._getConnectedId(ye,Z.id))>-1&&(d[ye.id]=ye)}this._cluster(u,d,t,i)}},{key:"_createClusterEdges",value:function(e,t,r,i){for(var o,u,d,v,E,T,S=dr(e),N=[],F=0;F<S.length;F++){d=e[u=S[F]];for(var L=0;L<d.edges.length;L++)o=d.edges[L],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?t[o.id]=o:o.toId==u?(v=r.id,T=E=o.fromId):(v=o.toId,E=r.id,T=v),e[T]===void 0&&N.push({edge:o,fromId:E,toId:v}))}for(var V=[],Z=function(Ze){for(var xt=0;xt<V.length;xt++){var bt=V[xt],pt=Ze.fromId===bt.fromId&&Ze.toId===bt.toId,tt=Ze.fromId===bt.toId&&Ze.toId===bt.fromId;if(pt||tt)return bt}return null},se=0;se<N.length;se++){var ye=N[se],De=ye.edge,Ne=Z(ye);Ne===null?(Ne=this._createClusteredEdge(ye.fromId,ye.toId,De,i),V.push(Ne)):Ne.clusteringEdgeReplacingIds.push(De.id),this.body.edges[De.id].edgeReplacedById=Ne.id,this._backupEdgeOptions(De),De.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,r){var i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=[];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&this.clusteredNodes[u]!==void 0&&o.push(u);for(var d=0;d<o.length;++d)delete e[o[d]];if(dr(e).length!=0&&(dr(e).length!=1||r.clusterNodeProperties.allowSingleNodeCluster==1)){var v=Yt({},r.clusterNodeProperties);if(r.processProperties!==void 0){var E=[];for(var T in e)if(Object.prototype.hasOwnProperty.call(e,T)){var S=In.cloneOptions(e[T]);E.push(S)}var N=[];for(var F in t)if(Object.prototype.hasOwnProperty.call(t,F)&&F.substr(0,12)!=="clusterEdge:"){var L=In.cloneOptions(t[F],"edge");N.push(L)}if(!(v=r.processProperties(v,E,N)))throw new Error("The processProperties function does not return properties!")}v.id===void 0&&(v.id="cluster:"+rs());var V=v.id;v.label===void 0&&(v.label="cluster");var Z=void 0;v.x===void 0&&(Z=this._getClusterPosition(e),v.x=Z.x),v.y===void 0&&(Z===void 0&&(Z=this._getClusterPosition(e)),v.y=Z.y),v.id=V;var se=this.body.functions.createNode(v,Qr);se.containedNodes=e,se.containedEdges=t,se.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[v.id]=se,this._clusterEdges(e,t,v,r.clusterEdgeProperties),v.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,r=dr(e),i=e[r[0]].x,o=e[r[0]].x,u=e[r[0]].y,d=e[r[0]].y,v=1;v<r.length;v++)i=(t=e[r[v]]).x<i?t.x:i,o=t.x>o?t.x:o,u=t.y<u?t.y:u,d=t.y>d?t.y:d;return{x:.5*(i+o),y:.5*(u+d)}}},{key:"openCluster",value:function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),u=Ot(o).call(o,e)-1;if(u>=0){var d=o[u];return this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],void(r===!0&&this.body.emitter.emit("_dataChanged"))}var v=i.containedNodes,E=i.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){var T={},S={x:i.x,y:i.y};for(var N in v)if(Object.prototype.hasOwnProperty.call(v,N)){var F=this.body.nodes[N];T[N]={x:F.x,y:F.y}}var L=t.releaseFunction(S,T);for(var V in v)if(Object.prototype.hasOwnProperty.call(v,V)){var Z=this.body.nodes[V];L[V]!==void 0&&(Z.x=L[V].x===void 0?i.x:L[V].x,Z.y=L[V].y===void 0?i.y:L[V].y)}}else kt(v,function(en){en.options.fixed.x===!1&&(en.x=i.x),en.options.fixed.y===!1&&(en.y=i.y)});for(var se in v)if(Object.prototype.hasOwnProperty.call(v,se)){var ye=this.body.nodes[se];ye.vx=i.vx,ye.vy=i.vy,ye.setOptions({physics:!0}),delete this.clusteredNodes[se]}for(var De=[],Ne=0;Ne<i.edges.length;Ne++)De.push(i.edges[Ne]);for(var Ze=0;Ze<De.length;Ze++){for(var xt=De[Ze],bt=this._getConnectedId(xt,e),pt=this.clusteredNodes[bt],tt=0;tt<xt.clusteringEdgeReplacingIds.length;tt++){var Jt=xt.clusteringEdgeReplacingIds[tt],Ft=this.body.edges[Jt];if(Ft!==void 0)if(pt!==void 0){var or=this.body.nodes[pt.clusterId];or.containedEdges[Ft.id]=Ft,delete E[Ft.id];var wr=Ft.fromId,Pr=Ft.toId;Ft.toId==bt?Pr=pt.clusterId:wr=pt.clusterId,this._createClusteredEdge(wr,Pr,Ft,or.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Ft)}xt.remove()}for(var Oi in E)Object.prototype.hasOwnProperty.call(E,Oi)&&this._restoreEdge(E[Oi]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(this.isCluster(e)===!0){var r=this.body.nodes[e].containedNodes;for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(this.body.nodes[i].id)}return t}},{key:"findNode",value:function(e){for(var t,r=[],i=0;this.clusteredNodes[e]!==void 0&&i<100;){if((t=this.body.nodes[e])===void 0)return[];r.push(t.id),e=this.clusteredNodes[e].clusterId,i++}return(t=this.body.nodes[e])===void 0?[]:(r.push(t.id),Ra(r).call(r),r)}},{key:"updateClusteredNode",value:function(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var r=this.getClusteredEdges(e),i=0;i<r.length;i++)this.body.edges[r[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],r=0;e!==void 0&&this.body.edges[e]!==void 0&&r<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,r++;return Ra(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],r=[],i=[],o=0;t.length>0&&o<100;){var u=t.pop();if(u!==void 0){var d=this.body.edges[u];if(d!==void 0){o++;var v=d.clusteringEdgeReplacingIds;if(v===void 0)i.push(u);else for(var E=0;E<v.length;++E){var T=v[E];Ot(t).call(t,v)===-1&&Ot(r).call(r,v)===-1&&t.push(T)}r.push(u)}}}return i}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,r=0,i=0,o=0;o<this.body.nodeIndices.length;o++){var u=this.body.nodes[this.body.nodeIndices[o]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,t+=Math.pow(u.edges.length,2),r+=1}e/=r;var d=(t/=r)-Math.pow(e,2),v=Math.sqrt(d),E=Math.floor(e+2*v);return E>i&&(E=i),E}},{key:"_createClusteredEdge",value:function(e,t,r,i,o){var u=In.cloneOptions(r,"edge");Yt(u,i),u.from=e,u.to=t,u.id="clusterEdge:"+rs(),o!==void 0&&Yt(u,o);var d=this.body.functions.createEdge(u);return d.clusteringEdgeReplacingIds=[r.id],d.connect(),this.body.edges[d.id]=d,d}},{key:"_clusterEdges",value:function(e,t,r,i){if(t instanceof ts){var o=t,u={};u[o.id]=o,t=u}if(e instanceof Un){var d=e,v={};v[d.id]=d,e=v}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");for(var E in i===void 0&&(i=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,i),t)if(Object.prototype.hasOwnProperty.call(t,E)&&this.body.edges[E]!==void 0){var T=this.body.edges[E];this._backupEdgeOptions(T),T.setOptions({physics:!1})}for(var S in e)Object.prototype.hasOwnProperty.call(e,S)&&(this.clusteredNodes[S]={clusterId:r.id,node:this.body.nodes[S]},this.body.nodes[S].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var t=this.clusteredNodes[e];if(t!==void 0){var r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}}}},{key:"_filter",value:function(e,t){var r=[];return kt(e,function(i){t(i)&&r.push(i)}),r}},{key:"_updateState",value:function(){var e,t=this,r=[],i={},o=function(T){kt(t.body.nodes,function(S){S.isCluster===!0&&T(S)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&this.body.nodes[e]===void 0&&r.push(e);o(function(T){for(var S=0;S<r.length;S++)delete T.containedNodes[r[S]]});for(var u=0;u<r.length;u++)delete this.clusteredNodes[r[u]];kt(this.clusteredEdges,function(T){var S=t.body.edges[T];S!==void 0&&S.endPointsValid()||(i[T]=T)}),o(function(T){kt(T.containedEdges,function(S,N){S.endPointsValid()||i[N]||(i[N]=N)})}),kt(this.body.edges,function(T,S){var N=!0,F=T.clusteringEdgeReplacingIds;if(F!==void 0){var L=0;kt(F,function(V){var Z=t.body.edges[V];Z!==void 0&&Z.endPointsValid()&&(L+=1)}),N=L>0}T.endPointsValid()&&N||(i[S]=S)}),o(function(T){kt(i,function(S){delete T.containedEdges[S],kt(T.edges,function(N,F){N.id!==S?N.clusteringEdgeReplacingIds=t._filter(N.clusteringEdgeReplacingIds,function(L){return!i[L]}):T.edges[F]=null}),T.edges=t._filter(T.edges,function(N){return N!==null})})}),kt(i,function(T){delete t.clusteredEdges[T]}),kt(i,function(T){delete t.body.edges[T]}),kt(dr(this.body.edges),function(T){var S=t.body.edges[T],N=t._isClusteredNode(S.fromId)||t._isClusteredNode(S.toId);if(N!==t._isClusteredEdge(S.id))if(N){var F=t._getClusterNodeForNode(S.fromId);F!==void 0&&t._clusterEdges(t.body.nodes[S.fromId],S,F);var L=t._getClusterNodeForNode(S.toId);L!==void 0&&t._clusterEdges(t.body.nodes[S.toId],S,L)}else delete t._clusterEdges[T],t._restoreEdge(S)});for(var d=!1,v=!0,E=function(){var T=[];o(function(N){var F=dr(N.containedNodes).length,L=N.options.allowSingleNodeCluster===!0;(L&&F<1||!L&&F<2)&&T.push(N.id)});for(var S=0;S<T.length;++S)t.openCluster(T[S],{},!1);v=T.length>0,d=d||v};v;)E();d&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),n}(),uE=function(){function n(e,t){var r;Ee(this,n),window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=r===void 0?function(i){i()}:r,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},xr(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Ae(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=Mn(function(){var r;t.zooming=!1,Oe(r=t._requestRedraw).call(r,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Oe(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){e!==void 0&&Zo(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window<"u"){var r,i=window;return this.requiresTimeout===!0?r=Mn(e,t):i.requestAnimationFrame&&(r=i.requestAnimationFrame(e)),r}}},{key:"_startRendering",value:function(){var e;this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(Oe(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};this.canvas.frame.canvas.width!==0&&this.canvas.frame.canvas.height!==0||this.canvas.setSize(),this.canvas.setTransform();var r=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,i,o),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var u=this._drawNodes(r,e).drawExternalLabels;t.drawExternalLabels=u}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,i,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,r=this.body.nodes;for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&((t=r[i]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,r,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=this.body.nodes,u=this.body.nodeIndices,d=[],v=[],E=this.canvas.DOMtoCanvas({x:-20,y:-20}),T=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),S={top:E.y,left:E.x,bottom:T.y,right:T.x},N=[],F=0;F<u.length;F++)if((t=o[u[F]]).hover)v.push(u[F]);else if(t.isSelected())d.push(u[F]);else if(i===!0){var L=t.draw(e);L.drawExternalLabel!=null&&N.push(L.drawExternalLabel)}else if(t.isBoundingBoxOverlappingWith(S)===!0){var V=t.draw(e);V.drawExternalLabel!=null&&N.push(V.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var Z=d.length,se=v.length;for(r=0;r<Z;r++){var ye=(t=o[d[r]]).draw(e);ye.drawExternalLabel!=null&&N.push(ye.drawExternalLabel)}for(r=0;r<se;r++){var De=(t=o[v[r]]).draw(e);De.drawExternalLabel!=null&&N.push(De.drawExternalLabel)}return{drawExternalLabels:function(){for(var Ne=0,Ze=N;Ne<Ze.length;Ne++)(0,Ze[Ne])()}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,i=0;i<r.length;i++){var o=t[r[i]];o.connected===!0&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,r=this.body.edgeIndices,i=0;i<r.length;i++){var o=t[r[i]];o.connected===!0&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(Ot(e).call(e,"msie 9.0")!=-1||Ot(e).call(e,"safari")!=-1&&Ot(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),n}(),Ph=O(Xe.setInterval);function Nl(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function Fv(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}var lE=function(){function n(e){Ee(this,n),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},xr(this.options,this.defaultOptions),this.bindEventListeners()}return Ae(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(r){r.width!==0&&(t.body.view.translation.x=.5*r.width),r.height!==0&&(t.body.view.translation.y=.5*r.height)}),this.body.emitter.on("setSize",Oe(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t,r,i,o,u,d=this;if(e!==void 0&&Zo(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var v;if(window.ResizeObserver){var E=new ResizeObserver(function(){d.setSize()===!0&&d.body.emitter.emit("_requestRedraw")}),T=this.frame;E.observe(T),this._cleanupCallbacks.push(function(){E.unobserve(T)})}else{var S=Ph(function(){d.setSize()===!0&&d.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(S)})}var N=Oe(v=this._onResize).call(v,this);t=window,r="resize",i=N,t.addEventListener?(o===void 0&&(o=!1),r==="mousewheel"&&lo(u=navigator.userAgent).call(u,"Firefox")&&(r="DOMMouseScroll"),t.addEventListener(r,i,o)):t.attachEvent("on"+r,i),this._cleanupCallbacks.push(function(){(function(F,L,V,Z){var se;F.removeEventListener?(Z===void 0&&(Z=!1),L==="mousewheel"&&lo(se=navigator.userAgent).call(se,"Firefox")&&(L="DOMMouseScroll"),F.removeEventListener(L,V,Z)):F.detachEvent("on"+L,V)})(window,"resize",N)})}}},{key:"_cleanUp",value:function(){var e,t,r;er(e=Ra(t=qo(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,function(i){try{i()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,r=this.cameraState.scale;e!=1&&t!=1?r=.5*this.cameraState.scale*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ot(e).call(e,"%")!==-1||Ot(e).call(e,"px")!==-1)return e;if(Ot(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new pl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:pl.DIRECTION_ALL}),Nl(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new pl(this.frame),Fv(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var r=!1,i=this.frame.canvas.width,o=this.frame.canvas.height,u=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(u),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{var d=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),v=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===d&&this.frame.canvas.height===v||this._getCameraState(u),this.frame.canvas.width!==d&&(this.frame.canvas.width=d,r=!0),this.frame.canvas.height!==v&&(this.frame.canvas.height=v,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var t=1;return typeof window<"u"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),n}(),Lv=function(){function n(e,t){var r,i,o=this;Ee(this,n),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Oe(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Oe(i=this.releaseNode).call(i,this))}return Ae(n,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];e=function(N,F){var L=xr({nodes:F,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},N??{});if(!Wt(L.nodes))throw new TypeError("Nodes has to be an array of ids.");if(L.nodes.length===0&&(L.nodes=F),!(typeof L.minZoomLevel=="number"&&L.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof L.maxZoomLevel=="number"&&L.minZoomLevel<=L.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return L}(e,this.body.nodeIndices);var r,i,o=this.canvas.frame.canvas.clientWidth,u=this.canvas.frame.canvas.clientHeight;if(o===0||u===0)i=1,r=In.getRange(this.body.nodes,e.nodes);else if(t===!0){var d=0;for(var v in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,v)&&this.body.nodes[v].predefinedPosition===!0&&(d+=1);if(d>.5*this.body.nodeIndices.length)return void this.fit(e,!1);r=In.getRange(this.body.nodes,e.nodes),i=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,i*=Math.min(o/600,u/600)}else{this.body.emitter.emit("_resizeNodes"),r=In.getRange(this.body.nodes,e.nodes);var E=o/(1.1*Math.abs(r.maxX-r.minX)),T=u/(1.1*Math.abs(r.maxY-r.minY));i=E<=T?E:T}i>e.maxZoomLevel?i=e.maxZoomLevel:i<e.minZoomLevel&&(i=e.minZoomLevel);var S={position:In.findCenter(r),scale:i,animation:e.animation};this.moveTo(S)}},{key:"focus",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e!==void 0){if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!go(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!go(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!go(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!go(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,r,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=i.x-e.position.x,u=i.y-e.position.y;this.targetTranslation={x:this.sourceTranslation.x+o*this.targetScale+e.offset.x,y:this.sourceTranslation.y+u*this.targetScale+e.offset.y},e.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=Oe(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Oe(r=this._transitionRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=r.x-e,o=r.y-t,u=this.body.view.translation,d={x:u.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:u.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=d}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var t=Gs[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){var r;this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=Oe(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}();function Bv(n){var e,t=n&&n.preventDefault||!1,r=n&&n.container||window,i={},o={keydown:{},keyup:{}},u={};for(e=97;e<=122;e++)u[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)u[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)u[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)u["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)u["num"+e]={code:96+e,shift:!1};u["num*"]={code:106,shift:!1},u["num+"]={code:107,shift:!1},u["num-"]={code:109,shift:!1},u["num/"]={code:111,shift:!1},u["num."]={code:110,shift:!1},u.left={code:37,shift:!1},u.up={code:38,shift:!1},u.right={code:39,shift:!1},u.down={code:40,shift:!1},u.space={code:32,shift:!1},u.enter={code:13,shift:!1},u.shift={code:16,shift:void 0},u.esc={code:27,shift:!1},u.backspace={code:8,shift:!1},u.tab={code:9,shift:!1},u.ctrl={code:17,shift:!1},u.alt={code:18,shift:!1},u.delete={code:46,shift:!1},u.pageup={code:33,shift:!1},u.pagedown={code:34,shift:!1},u["="]={code:187,shift:!1},u["-"]={code:189,shift:!1},u["]"]={code:221,shift:!1},u["["]={code:219,shift:!1};var d=function(T){E(T,"keydown")},v=function(T){E(T,"keyup")},E=function(T,S){if(o[S][T.keyCode]!==void 0){for(var N=o[S][T.keyCode],F=0;F<N.length;F++)(N[F].shift===void 0||N[F].shift==1&&T.shiftKey==1||N[F].shift==0&&T.shiftKey==0)&&N[F].fn(T);t==1&&T.preventDefault()}};return i.bind=function(T,S,N){if(N===void 0&&(N="keydown"),u[T]===void 0)throw new Error("unsupported key: "+T);o[N][u[T].code]===void 0&&(o[N][u[T].code]=[]),o[N][u[T].code].push({fn:S,shift:u[T].shift})},i.bindAll=function(T,S){for(var N in S===void 0&&(S="keydown"),u)u.hasOwnProperty(N)&&i.bind(N,T,S)},i.getKey=function(T){for(var S in u)if(u.hasOwnProperty(S)&&(T.shiftKey==1&&u[S].shift==1&&T.keyCode==u[S].code||T.shiftKey==0&&u[S].shift==0&&T.keyCode==u[S].code||T.keyCode==u[S].code&&S=="shift"))return S;return"unknown key, currently not supported"},i.unbind=function(T,S,N){if(N===void 0&&(N="keydown"),u[T]===void 0)throw new Error("unsupported key: "+T);if(S!==void 0){var F=[],L=o[N][u[T].code];if(L!==void 0)for(var V=0;V<L.length;V++)L[V].fn==S&&L[V].shift==u[T].shift||F.push(o[N][u[T].code][V]);o[N][u[T].code]=F}else o[N][u[T].code]=[]},i.reset=function(){o={keydown:{},keyup:{}}},i.destroy=function(){o={keydown:{},keyup:{}},r.removeEventListener("keydown",d,!0),r.removeEventListener("keyup",v,!0)},r.addEventListener("keydown",d,!0),r.addEventListener("keyup",v,!0),i}var Eo=function(){function n(e,t){var r=this;Ee(this,n),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){r.activated=!0,r.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){r.activated=!1,r.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){r.keycharm!==void 0&&r.keycharm.destroy()}),this.options={}}return Ae(n,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement("div"),this.navigationDOM[t[i]].className="vis-button vis-"+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var o,u,d=new pl(this.navigationDOM[t[i]]);r[i]==="_fit"?Nl(d,Oe(o=this._fit).call(o,this)):Nl(d,Oe(u=this.bindToRedraw).call(u,this,r[i])),this.navigationHammers.push(d)}var v=new pl(this.canvas.frame);Fv(v,function(){e._stopMovement()}),this.navigationHammers.push(v),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;this.boundFunctions[e]===void 0&&(this.boundFunctions[e]=Oe(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,o=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,u=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:o,y:u},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,o=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,u=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:o,y:u},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,r,i,o,u,d,v,E,T,S,N,F,L,V,Z,se,ye,De,Ne,Ze,xt,bt,pt,tt=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=Bv({container:window,preventDefault:!0}):this.keycharm=Bv({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(Oe(e=this.keycharm).call(e,"up",function(){tt.bindToRedraw("_moveUp")},"keydown"),Oe(t=this.keycharm).call(t,"down",function(){tt.bindToRedraw("_moveDown")},"keydown"),Oe(r=this.keycharm).call(r,"left",function(){tt.bindToRedraw("_moveLeft")},"keydown"),Oe(i=this.keycharm).call(i,"right",function(){tt.bindToRedraw("_moveRight")},"keydown"),Oe(o=this.keycharm).call(o,"=",function(){tt.bindToRedraw("_zoomIn")},"keydown"),Oe(u=this.keycharm).call(u,"num+",function(){tt.bindToRedraw("_zoomIn")},"keydown"),Oe(d=this.keycharm).call(d,"num-",function(){tt.bindToRedraw("_zoomOut")},"keydown"),Oe(v=this.keycharm).call(v,"-",function(){tt.bindToRedraw("_zoomOut")},"keydown"),Oe(E=this.keycharm).call(E,"[",function(){tt.bindToRedraw("_zoomOut")},"keydown"),Oe(T=this.keycharm).call(T,"]",function(){tt.bindToRedraw("_zoomIn")},"keydown"),Oe(S=this.keycharm).call(S,"pageup",function(){tt.bindToRedraw("_zoomIn")},"keydown"),Oe(N=this.keycharm).call(N,"pagedown",function(){tt.bindToRedraw("_zoomOut")},"keydown"),Oe(F=this.keycharm).call(F,"up",function(){tt.unbindFromRedraw("_moveUp")},"keyup"),Oe(L=this.keycharm).call(L,"down",function(){tt.unbindFromRedraw("_moveDown")},"keyup"),Oe(V=this.keycharm).call(V,"left",function(){tt.unbindFromRedraw("_moveLeft")},"keyup"),Oe(Z=this.keycharm).call(Z,"right",function(){tt.unbindFromRedraw("_moveRight")},"keyup"),Oe(se=this.keycharm).call(se,"=",function(){tt.unbindFromRedraw("_zoomIn")},"keyup"),Oe(ye=this.keycharm).call(ye,"num+",function(){tt.unbindFromRedraw("_zoomIn")},"keyup"),Oe(De=this.keycharm).call(De,"num-",function(){tt.unbindFromRedraw("_zoomOut")},"keyup"),Oe(Ne=this.keycharm).call(Ne,"-",function(){tt.unbindFromRedraw("_zoomOut")},"keyup"),Oe(Ze=this.keycharm).call(Ze,"[",function(){tt.unbindFromRedraw("_zoomOut")},"keyup"),Oe(xt=this.keycharm).call(xt,"]",function(){tt.unbindFromRedraw("_zoomIn")},"keyup"),Oe(bt=this.keycharm).call(bt,"pageup",function(){tt.unbindFromRedraw("_zoomIn")},"keyup"),Oe(pt=this.keycharm).call(pt,"pagedown",function(){tt.unbindFromRedraw("_zoomOut")},"keyup")))}}]),n}();function cE(n,e){var t=Uo!==void 0&&Rn(n)||n["@@iterator"];if(!t){if(Wt(n)||(t=function(v,E){var T;if(v){if(typeof v=="string")return Ah(v,E);var S=Ar(T=Object.prototype.toString.call(v)).call(T,8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Os(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return Ah(v,E)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(v){throw v},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var v=t.next();return u=v.done,v},e:function(v){d=!0,o=v},f:function(){try{u||t.return==null||t.return()}finally{if(d)throw o}}}}function Ah(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Zm=function(){function n(e,t,r){var i,o,u,d,v,E,T,S,N,F,L,V,Z;Ee(this,n),this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new Eo(e,t),this.body.eventListeners.onTap=Oe(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=Oe(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Oe(u=this.onDoubleTap).call(u,this),this.body.eventListeners.onHold=Oe(d=this.onHold).call(d,this),this.body.eventListeners.onDragStart=Oe(v=this.onDragStart).call(v,this),this.body.eventListeners.onDrag=Oe(E=this.onDrag).call(E,this),this.body.eventListeners.onDragEnd=Oe(T=this.onDragEnd).call(T,this),this.body.eventListeners.onMouseWheel=Oe(S=this.onMouseWheel).call(S,this),this.body.eventListeners.onPinch=Oe(N=this.onPinch).call(N,this),this.body.eventListeners.onMouseMove=Oe(F=this.onMouseMove).call(F,this),this.body.eventListeners.onRelease=Oe(L=this.onRelease).call(L,this),this.body.eventListeners.onContext=Oe(V=this.onContext).call(V,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Oe(Z=this.getPointer).call(Z,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},xr(this.options,this.defaultOptions),this.bindEventListeners()}return Ae(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){e!==void 0&&(Xf(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Jn(this.options,e,"keyboard"),e.tooltip&&(xr(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Jg(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-pT(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){(arguments.length>1&&arguments[1]!==void 0&&arguments[1])===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var r=function(i,o){for(var u=[],d=0;d<i.length;d++){var v=i[d];Ot(o).call(o,v)===-1&&u.push(v)}return u};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=xr({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var i,o=cE(this.selectionHandler.getSelectedNodes());try{for(o.s();!(i=o.n()).done;){var u=i.value,d={id:u.id,node:u,x:u.x,y:u.y,xFixed:u.options.fixed.x,yFixed:u.options.fixed.y};u.options.fixed.x=!0,u.options.fixed.y=!0,this.drag.selection.push(d)}}catch(v){o.e(v)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var r=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);var o=r.x-this.drag.pointer.x,u=r.y-this.drag.pointer.y;er(i).call(i,function(E){var T=E.node;E.xFixed===!1&&(T.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(E.x)+o)),E.yFixed===!1&&(T.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(E.y)+u))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);var d=r.x-this.drag.pointer.x,v=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+d,y:this.drag.translation.y+v},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;var i=this.body.selectionBox.position,o={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},u=wn(r=this.body.nodeIndices).call(r,function(E){var T=t.body.nodes[E];return T.x>=o.minX&&T.x<=o.maxX&&T.y>=o.minY&&T.y<=o.maxY});er(u).call(u,function(E){return t.selectionHandler.selectObject(t.body.nodes[E])});var d=this.getPointer(e.center);this.selectionHandler.commitAndEmit(d,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var v=this.drag.selection;v&&v.length?(er(v).call(v,function(E){E.node.options.fixed.x=E.xFixed,E.node.options.fixed.y=E.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var r=this.pinch.scale*e.scale;this.zoom(r,t)}},{key:"zoom",value:function(e,t){if(this.options.zoomView===!0){var r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var i=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,u=e/r,d=(1-u)*t.x+o.x*u,v=(1-u)*t.y+o.y*u;if(this.body.view.scale=e,this.body.view.translation={x:d,y:v},i!=null){var E=this.canvas.canvasToDOM(i);this.drag.pointer.x=E.x,this.drag.pointer.y=E.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,r=this.getPointer({x:e.clientX,y:e.clientY}),i=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(i=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),i===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Mn(function(){return t._checkShowPopup(r)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:r,right:t,bottom:r},o=this.popupObj===void 0?void 0:this.popupObj.id,u=!1,d="node";if(this.popupObj===void 0){for(var v,E=this.body.nodeIndices,T=this.body.nodes,S=[],N=0;N<E.length;N++)(v=T[E[N]]).isOverlappingWith(i)===!0&&(u=!0,v.getTitle()!==void 0&&S.push(E[N]));S.length>0&&(this.popupObj=T[S[S.length-1]],u=!0)}if(this.popupObj===void 0&&u===!1){for(var F,L=this.body.edgeIndices,V=this.body.edges,Z=[],se=0;se<L.length;se++)(F=V[L[se]]).isOverlappingWith(i)===!0&&F.connected===!0&&F.getTitle()!==void 0&&Z.push(L[se]);Z.length>0&&(this.popupObj=V[Z[Z.length-1]],d="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new _T(this.canvas.frame)),this.popup.popupTargetType=d,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))===!0){var i=this.selectionHandler.getNodeAt(e);r=i!==void 0&&i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),n}();Hi("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},f1);var ri=O(Xe.Set),zv=Me,Hv=uv,Uv=bl.getWeakData,hE=sv,TS=ur,dE=_t,e0=$r,SS=vm,t0=Pt,s=ci.set,c=ci.getterFor,f=ao.find,y=ao.findIndex,w=zv([].splice),x=0,C=function(n){return n.frozen||(n.frozen=new D)},D=function(){this.entries=[]},M=function(n,e){return f(n.entries,function(t){return t[0]===e})};D.prototype={get:function(n){var e=M(this,n);if(e)return e[1]},has:function(n){return!!M(this,n)},set:function(n,e){var t=M(this,n);t?t[1]=e:this.entries.push([n,e])},delete:function(n){var e=y(this.entries,function(t){return t[0]===n});return~e&&w(this.entries,e,1),!!~e}};var B,Q={getConstructor:function(n,e,t,r){var i=n(function(v,E){hE(v,o),s(v,{type:e,id:x++,frozen:void 0}),dE(E)||SS(E,v[r],{that:v,AS_ENTRIES:t})}),o=i.prototype,u=c(e),d=function(v,E,T){var S=u(v),N=Uv(TS(E),!0);return N===!0?C(S).set(E,T):N[S.id]=T,v};return Hv(o,{delete:function(v){var E=u(this);if(!e0(v))return!1;var T=Uv(v);return T===!0?C(E).delete(v):T&&t0(T,E.id)&&delete T[E.id]},has:function(v){var E=u(this);if(!e0(v))return!1;var T=Uv(v);return T===!0?C(E).has(v):T&&t0(T,E.id)}}),Hv(o,t?{get:function(v){var E=u(this);if(e0(v)){var T=Uv(v);return T===!0?C(E).get(v):T?T[E.id]:void 0}},set:function(v,E){return d(this,v,E)}}:{add:function(v){return d(this,v,!0)}}),i}},Y=nv,ae=R,xe=Me,Le=uv,je=bl,Qe=Hi,vt=Q,et=$r,Kt=ci.enforce,Nt=H,cr=K0,Vn=Object,Vr=Array.isArray,Jr=Vn.isExtensible,ln=Vn.isFrozen,Wn=Vn.isSealed,$l=Vn.freeze,Rl=Vn.seal,Wi={},r0={},Vv=!ae.ActiveXObject&&"ActiveXObject"in ae,n0=function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},i0=Qe("WeakMap",n0,vt),aa=i0.prototype,du=xe(aa.set);if(cr)if(Vv){B=vt.getConstructor(n0,"WeakMap",!0),je.enable();var Oo=xe(aa.delete),Ml=xe(aa.has),o0=xe(aa.get);Le(aa,{delete:function(n){if(et(n)&&!Jr(n)){var e=Kt(this);return e.frozen||(e.frozen=new B),Oo(this,n)||e.frozen.delete(n)}return Oo(this,n)},has:function(n){if(et(n)&&!Jr(n)){var e=Kt(this);return e.frozen||(e.frozen=new B),Ml(this,n)||e.frozen.has(n)}return Ml(this,n)},get:function(n){if(et(n)&&!Jr(n)){var e=Kt(this);return e.frozen||(e.frozen=new B),Ml(this,n)?o0(this,n):e.frozen.get(n)}return o0(this,n)},set:function(n,e){if(et(n)&&!Jr(n)){var t=Kt(this);t.frozen||(t.frozen=new B),Ml(this,n)?du(this,n,e):t.frozen.set(n,e)}else du(this,n,e);return this}})}else Y&&Nt(function(){var n=$l([]);return du(new i0,n,1),!ln(n)})&&Le(aa,{set:function(n,e){var t;return Vr(n)&&(ln(n)?t=Wi:Wn(n)&&(t=r0)),du(this,n,e),t===Wi&&$l(n),t===r0&&Rl(n),this}});var be,fe,Te,st,Je,zt=O(Xe.WeakMap);function dt(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Zr(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function Cn(n,e){var t=Uo!==void 0&&Rn(n)||n["@@iterator"];if(!t){if(Wt(n)||(t=function(v,E){var T;if(v){if(typeof v=="string")return fu(v,E);var S=Ar(T=Object.prototype.toString.call(v)).call(T,8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Os(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return fu(v,E)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(v){throw v},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var v=t.next();return u=v.done,v},e:function(v){d=!0,o=v},f:function(){try{u||t.return==null||t.return()}finally{if(d)throw o}}}}function fu(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jl(n,e){var t,r=new ri,i=Cn(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.has(o)||r.add(o)}}catch(u){i.e(u)}finally{i.f()}return r}typeof SuppressedError=="function"&&SuppressedError;var ns=function(){function n(){Ee(this,n),be.set(this,new ri),fe.set(this,new ri)}return Ae(n,[{key:"size",get:function(){return dt(this,fe,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,o=t;i<o.length;i++){var u=o[i];dt(this,fe,"f").add(u)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,o=t;i<o.length;i++){var u=o[i];dt(this,fe,"f").delete(u)}}},{key:"clear",value:function(){dt(this,fe,"f").clear()}},{key:"getSelection",value:function(){return $i(dt(this,fe,"f"))}},{key:"getChanges",value:function(){return{added:$i(jl(dt(this,be,"f"),dt(this,fe,"f"))),deleted:$i(jl(dt(this,fe,"f"),dt(this,be,"f"))),previous:$i(new ri(dt(this,be,"f"))),current:$i(new ri(dt(this,fe,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();Zr(this,be,dt(this,fe,"f"),"f"),Zr(this,fe,new ri(dt(this,be,"f")),"f");var t,r=Cn(e.added);try{for(r.s();!(t=r.n()).done;)t.value.select()}catch(u){r.e(u)}finally{r.f()}var i,o=Cn(e.deleted);try{for(o.s();!(i=o.n()).done;)i.value.unselect()}catch(u){o.e(u)}finally{o.f()}return e}}]),n}();be=new zt,fe=new zt;var yC=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Ee(this,n),Te.set(this,new ns),st.set(this,new ns),Je.set(this,void 0),Zr(this,Je,e,"f")}return Ae(n,[{key:"sizeNodes",get:function(){return dt(this,Te,"f").size}},{key:"sizeEdges",get:function(){return dt(this,st,"f").size}},{key:"getNodes",value:function(){return dt(this,Te,"f").getSelection()}},{key:"getEdges",value:function(){return dt(this,st,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=dt(this,Te,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=dt(this,st,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){dt(this,Te,"f").delete(e)}},{key:"deleteEdges",value:function(e){dt(this,st,"f").delete(e)}},{key:"clear",value:function(){dt(this,Te,"f").clear(),dt(this,st,"f").clear()}},{key:"commit",value:function(){for(var e,t,r={nodes:dt(this,Te,"f").commit(),edges:dt(this,st,"f").commit()},i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(e=dt(this,Je,"f")).call.apply(e,kf(t=[this,r]).call(t,o)),r}}]),n}();function uI(n,e){var t=Uo!==void 0&&Rn(n)||n["@@iterator"];if(!t){if(Wt(n)||(t=function(v,E){var T;if(v){if(typeof v=="string")return a0(v,E);var S=Ar(T=Object.prototype.toString.call(v)).call(T,8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Os(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return a0(v,E)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(v){throw v},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var v=t.next();return u=v.done,v},e:function(v){d=!0,o=v},f:function(){try{u||t.return==null||t.return()}finally{if(d)throw o}}}}function a0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Te=new zt,st=new zt,Je=new zt;var gC=function(){function n(e,t){var r=this;Ee(this,n),this.body=e,this.canvas=t,this._selectionAccumulator=new yC,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},xr(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){r.updateSelection()})}return Ae(n,[{key:"setOptions",value:function(e){e!==void 0&&Zo(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}},{key:"generateClickEvent",value:function(e,t,r,i){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],u=this._initBaseEvent(t,r);if(o===!0)u.nodes=[],u.edges=[];else{var d=this.getSelection();u.nodes=d.nodes,u.edges=d.edges}i!==void 0&&(u.previousSelection=i),e=="click"&&(u.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(u.controlEdge=t.controlEdge),this.body.emitter.emit(e,u)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof Un){var r;t===!0&&(r=this._selectionAccumulator).addEdges.apply(r,$i(e.edges)),this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],r=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodeIndices[i];r[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(r);return i.length>0?t===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var r=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var o=this.body.edgeIndices[i];r[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.canvas.DOMtoCanvas(e),i=10,o=null,u=this.body.edges,d=0;d<this.body.edgeIndices.length;d++){var v=this.body.edgeIndices[d],E=u[v];if(E.connected){var T=E.from.x,S=E.from.y,N=E.to.x,F=E.to.y,L=E.edgeType.getDistanceToEdge(T,S,N,F,r.x,r.y);L<i&&(o=v,i=L)}}return o!==null?t===!0?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(e){e instanceof Un?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof Un?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,$i(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var r=e.edges[t];r.hover=!0,this._addToHover(r)}}},{key:"emitBlurEvent",value:function(e,t,r){var i=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof Un?(i.node=r.id,this.body.emitter.emit("blurNode",i)):(i.edge=r.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(e,t,r){var i=this._initBaseEvent(e,t),o=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),o=!0,r instanceof Un?(i.node=r.id,this.body.emitter.emit("hoverNode",i)):(i.edge=r.id,this.body.emitter.emit("hoverEdge",i))),o}},{key:"hoverObject",value:function(e,t){var r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));var i=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(r===void 0||r instanceof Un&&r.id!=o||r instanceof ts)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],i=!0);for(var u in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,u)&&(i===!0?(this.hoverObj.edges[u].hover=!1,delete this.hoverObj.edges[u]):(r===void 0||r instanceof ts&&r.id!=u||r instanceof Un&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[u]),delete this.hoverObj.edges[u],i=!0));if(r!==void 0){var d=dr(this.hoverObj.edges).length,v=dr(this.hoverObj.nodes).length;(i||r instanceof ts&&d===0&&v===0||r instanceof Un&&d===0&&v===0)&&(i=this.emitHoverEvent(e,t,r)),r instanceof Un&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}i===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var r=!1,i=this._selectionAccumulator.commit(),o={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),r=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),r=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return Da(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return Da(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes){var r,i=uI(e.nodes);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=this.body.nodes[o];if(!u)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(u,t.highlightEdges)}}catch(S){i.e(S)}finally{i.f()}}if(e.edges){var d,v=uI(e.edges);try{for(v.s();!(d=v.n()).done;){var E=d.value,T=this.body.edges[E];if(!T)throw new RangeError('Edge with id "'+E+'" not found');this.selectObject(T)}}catch(S){v.e(S)}finally{v.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),r=[],i=this.body.nodeIndices,o=this.body.nodes,u=i.length-1;u>=0;u--){var d=o[i[u]].getItemsOnPoint(t);r.push.apply(r,d)}for(var v=this.body.edgeIndices,E=this.body.edges,T=v.length-1;T>=0;T--){var S=E[v[T]].getItemsOnPoint(t);r.push.apply(r,S)}return r}}]),n}(),Dh=hy,IS=Math.floor,CS=function(n,e){var t=n.length,r=IS(t/2);return t<8?mC(n,e):bC(n,CS(Dh(n,0,r),e),CS(Dh(n,r),e),e)},mC=function(n,e){for(var t,r,i=n.length,o=1;o<i;){for(r=o,t=n[o];r&&e(n[r-1],t)>0;)n[r]=n[--r];r!==o++&&(n[r]=t)}return n},bC=function(n,e,t,r){for(var i=e.length,o=t.length,u=0,d=0;u<i||d<o;)n[u+d]=u<i&&d<o?r(e[u],t[d])<=0?e[u++]:t[d++]:u<i?e[u++]:t[d++];return n},_C=CS,PS=ir.match(/firefox\/(\d+)/i),lI=!!PS&&+PS[1],wC=/MSIE|Trident/.test(ir),cI=ir.match(/AppleWebKit\/(\d+)\./),AS=!!cI&&+cI[1],hI=pe,dI=Me,EC=Or,OC=nr,fI=ui,vI=ig,pI=eo,fE=H,qi=_C,kC=tl,yI=lI,gI=wC,mI=la,DS=AS,vu=[],bI=dI(vu.sort),_I=dI(vu.push),xC=fE(function(){vu.sort(void 0)}),TC=fE(function(){vu.sort(null)}),SC=kC("sort"),vE=!fE(function(){if(mI)return mI<70;if(!(yI&&yI>3)){if(gI)return!0;if(DS)return DS<603;var n,e,t,r,i="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)vu.push({k:e+r,v:t})}for(vu.sort(function(o,u){return u.v-o.v}),r=0;r<vu.length;r++)e=vu[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return i!=="DGBEFHACIJK"}});hI({target:"Array",proto:!0,forced:xC||!TC||!SC||!vE},{sort:function(n){n!==void 0&&EC(n);var e=OC(this);if(vE)return n===void 0?bI(e):bI(e,n);var t,r,i=[],o=fI(e);for(r=0;r<o;r++)r in e&&_I(i,e[r]);for(qi(i,function(u){return function(d,v){return v===void 0?-1:d===void 0?1:u!==void 0?+u(d,v)||0:pI(d)>pI(v)?1:-1}}(n)),t=fI(i),r=0;r<t;)e[r]=i[r++];for(;r<o;)vI(e,r++);return e}});var NS=jr("Array").sort,IC=Ct,$S=NS,RS=Array.prototype,wI=function(n){var e=n.sort;return n===RS||IC(RS,n)&&e===RS.sort?$S:e},s0=O(wI),MS=Or,u0=nr,EI=Mt,l0=ui,Nh=TypeError,pE=function(n){return function(e,t,r,i){MS(t);var o=u0(e),u=EI(o),d=l0(o),v=n?d-1:0,E=n?-1:1;if(r<2)for(;;){if(v in u){i=u[v],v+=E;break}if(v+=E,n?v<0:d<=v)throw new Nh("Reduce of empty array with no initial value")}for(;n?v>=0:d>v;v+=E)v in u&&(i=t(i,u[v],v,o));return i}},jS={left:pE(!1),right:pE(!0)},FS=It(R.process)==="process",LS=jS.left;pe({target:"Array",proto:!0,forced:!FS&&la>79&&la<83||!tl("reduce")},{reduce:function(n){var e=arguments.length;return LS(this,n,e,e>1?arguments[1]:void 0)}});var OI=jr("Array").reduce,kI=Ct,xI=OI,yE=Array.prototype,TI=function(n){var e=n.reduce;return n===yE||kI(yE,n)&&e===yE.reduce?xI:e},SI=O(TI);function II(n){var e=function(){if(typeof Reflect>"u"||!ue||ue.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ue(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=Ue(n);if(e){var i=Ue(this).constructor;t=ue(r,arguments,i)}else t=r.apply(this,arguments);return Bt(this,t)}}var CI=function(){function n(){Ee(this,n)}return Ae(n,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),n}(),CC=function(n){qt(t,n);var e=II(t);function t(r){var i;return Ee(this,t),(i=e.call(this)).layout=r,i}return Ae(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(r){return r.x}},{key:"setPosition",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(r,o),r.x=i}},{key:"getTreeSize",value:function(r){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:i.min_x,max:i.max_x}}},{key:"sort",value:function(r){s0(r).call(r,function(i,o){return i.x-o.x})}},{key:"fix",value:function(r,i){r.y=this.layout.options.hierarchical.levelSeparation*i,r.options.fixed.y=!0}},{key:"shift",value:function(r,i){this.layout.body.nodes[r].x+=i}}]),t}(CI),$h=function(n){qt(t,n);var e=II(t);function t(r){var i;return Ee(this,t),(i=e.call(this)).layout=r,i}return Ae(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(r){return r.y}},{key:"setPosition",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;o!==void 0&&this.layout.hierarchical.addToOrdering(r,o),r.y=i}},{key:"getTreeSize",value:function(r){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,r);return{min:i.min_y,max:i.max_y}}},{key:"sort",value:function(r){s0(r).call(r,function(i,o){return i.y-o.y})}},{key:"fix",value:function(r,i){r.x=this.layout.options.hierarchical.levelSeparation*i,r.options.fixed.x=!0}},{key:"shift",value:function(r,i){this.layout.body.nodes[r].y+=i}}]),t}(CI),PI=ao.every;pe({target:"Array",proto:!0,forced:!tl("every")},{every:function(n){return PI(this,n,arguments.length>1?arguments[1]:void 0)}});var PC=jr("Array").every,BS=Ct,AC=PC,zS=Array.prototype,DC=function(n){var e=n.every;return n===zS||BS(zS,n)&&e===zS.every?AC:e},AI=O(DC);function HS(n,e){var t=Uo!==void 0&&Rn(n)||n["@@iterator"];if(!t){if(Wt(n)||(t=function(v,E){var T;if(v){if(typeof v=="string")return US(v,E);var S=Ar(T=Object.prototype.toString.call(v)).call(T,8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Os(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return US(v,E)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(v){throw v},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var v=t.next();return u=v.done,v},e:function(v){d=!0,o=v},f:function(){try{u||t.return==null||t.return()}finally{if(d)throw o}}}}function US(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function DI(n,e){var t=new ri;return er(n).call(n,function(r){var i;er(i=r.edges).call(i,function(o){o.connected&&t.add(o)})}),er(t).call(t,function(r){var i=r.from.id,o=r.to.id;e[i]==null&&(e[i]=0),(e[o]==null||e[i]>=e[o])&&(e[o]=e[i]+1)}),e}function VS(n,e,t,r){var i,o,u=vi(null),d=SI(i=$i(xm(r).call(r))).call(i,function(F,L){return F+1+L.edges.length},0),v=t+"Id",E=t==="to"?1:-1,T=HS(r);try{var S,N=function(){var F=yr(o.value,2),L=F[0],V=F[1];if(!r.has(L)||!n(V))return 0;u[L]=0;for(var Z,se,ye=[V],De=0,Ne=function(){var Ze,xt;if(!r.has(L))return 0;var bt=u[Z.id]+E;if(er(Ze=wn(xt=Z.edges).call(xt,function(pt){return pt.connected&&pt.to!==pt.from&&pt[t]!==Z&&r.has(pt.toId)&&r.has(pt.fromId)})).call(Ze,function(pt){var tt=pt[v],Jt=u[tt];(Jt==null||e(bt,Jt))&&(u[tt]=bt,ye.push(pt[t]))}),De>d)return{v:{v:DI(r,u)}};++De};Z=ye.pop();)if((se=Ne())!==0&&se)return se.v};for(T.s();!(o=T.n()).done;)if((S=N())!==0&&S)return S.v}catch(F){T.e(F)}finally{T.f()}return u}var gE=function(){function n(){Ee(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Ae(n,[{key:"addRelation",value:function(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,r={};return function i(o){if(r[o]!==void 0)return r[o];var u=t.levels[o];if(t.childrenReference[o]){var d=t.childrenReference[o];if(d.length>0)for(var v=0;v<d.length;v++)u=Math.max(u,i(d[v]))}return r[o]=u,u}(e)}},{key:"levelDownstream",value:function(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.levels[r]!==void 0&&(t=Math.min(this.levels[r],t));for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.levels[i]!==void 0&&(this.levels[i]-=t)}},{key:"getTreeSize",value:function(e,t){var r=1e9,i=-1e9,o=1e9,u=-1e9;for(var d in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,d)&&this.trees[d]===t){var v=e[d];r=Math.min(v.x,r),i=Math.max(v.x,i),o=Math.min(v.y,o),u=Math.max(v.y,u)}return{min_x:r,max_x:i,min_y:o,max_y:u}}},{key:"hasSameParent",value:function(e,t){var r=this.parentReference[e.id],i=this.parentReference[t.id];if(r===void 0||i===void 0)return!1;for(var o=0;o<r.length;o++)for(var u=0;u<i.length;u++)if(r[o]==i[u])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return dr(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);var r=!1,i=this.distributionOrdering[t];for(var o in i)if(i[o]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),n}(),NI=function(){function n(e){Ee(this,n),this.body=e,this._resetRNG(Math.random()+":"+Na()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},xr(this.options,this.defaultOptions),this.bindEventListeners()}return Ae(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(e!==void 0){var r=this.options.hierarchical,i=r.enabled;if(Zo(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Jn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(i===!0)return this.body.emitter.emit("refresh"),Yt(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Hr(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0||t.enabled,t.solver=t.solver||"barnesHut"):Lt(e.physics)==="object"?(t.enabled=e.physics.enabled===void 0||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{var i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(r=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0||i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection!==void 0&&i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0||i.enabled,type:r,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection!==void 0&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,r=0;r<e.length;r++){var i=e[r],o=2*Math.PI*this._rng();i.x===void 0&&(i.x=t*Math.cos(o)),i.y===void 0&&(i.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,t=0,r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){var i=0,o=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var d=e.length;e.length>o&&i<=10;){i+=1;var v=e.length;if(i%3==0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u),v==e.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*d)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var E=0;E<e.length;E++){var T=this.body.nodes[e[E]];T.predefinedPosition===!1&&(T.x+=70*(.5-this._rng()),T.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=In.getRangeCore(this.body.nodes,this.body.nodeIndices),t=In.findCenter(e),r=0;r<this.body.nodeIndices.length;r++){var i=this.body.nodes[this.body.nodeIndices[r]];i.x-=t.x,i.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,t,r=!1,i=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new gE,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&((e=this.body.nodes[t]).options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(i===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(i===!0){var o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(var u in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,u)&&this.hierarchical.ensureLevel(u);var d=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(d),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,r={},i=function(S,N){var F=e.hierarchical.trees;for(var L in F)Object.prototype.hasOwnProperty.call(F,L)&&F[L]===S&&e.direction.shift(L,N)},o=function(){for(var S=[],N=0;N<e.hierarchical.numTrees();N++)S.push(e.direction.getTreeSize(N));return S},u=function S(N,F){if(!F[N.id]&&(F[N.id]=!0,e.hierarchical.childrenReference[N.id])){var L=e.hierarchical.childrenReference[N.id];if(L.length>0)for(var V=0;V<L.length;V++)S(e.body.nodes[L[V]],F)}},d=function(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,F=1e9,L=1e9,V=1e9,Z=-1e9;for(var se in S)if(Object.prototype.hasOwnProperty.call(S,se)){var ye=e.body.nodes[se],De=e.hierarchical.levels[ye.id],Ne=e.direction.getPosition(ye),Ze=yr(e._getSpaceAroundNode(ye,S),2),xt=Ze[0],bt=Ze[1];F=Math.min(xt,F),L=Math.min(bt,L),De<=N&&(V=Math.min(Ne,V),Z=Math.max(Ne,Z))}return[V,Z,F,L]},v=function(S,N,F){for(var L=e.hierarchical,V=0;V<N.length;V++){var Z=N[V],se=L.distributionOrdering[Z];if(se.length>1)for(var ye=0;ye<se.length-1;ye++){var De=se[ye],Ne=se[ye+1];L.hasSameParent(De,Ne)&&L.inSameSubNetwork(De,Ne)&&S(De,Ne,F)}}},E=function(S,N){var F=arguments.length>2&&arguments[2]!==void 0&&arguments[2],L=e.direction.getPosition(S),V=e.direction.getPosition(N),Z=Math.abs(V-L),se=e.options.hierarchical.nodeSpacing;if(Z>se){var ye={},De={};u(S,ye),u(N,De);var Ne=function(Ft,or){var wr=e.hierarchical.getMaxLevel(Ft.id),Pr=e.hierarchical.getMaxLevel(or.id);return Math.min(wr,Pr)}(S,N),Ze=d(ye,Ne),xt=d(De,Ne),bt=Ze[1],pt=xt[0],tt=xt[2];if(Math.abs(bt-pt)>se){var Jt=bt-pt+se;Jt<-tt+se&&(Jt=-tt+se),Jt<0&&(e._shiftBlock(N.id,Jt),t=!0,F===!0&&e._centerParent(N))}}},T=function(S,N){for(var F=N.id,L=N.edges,V=e.hierarchical.levels[N.id],Z=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,se={},ye=[],De=0;De<L.length;De++){var Ne=L[De];if(Ne.toId!=Ne.fromId){var Ze=Ne.toId==F?Ne.from:Ne.to;se[L[De].id]=Ze,e.hierarchical.levels[Ze.id]<V&&ye.push(Ne)}}var xt=function(Jt,Ft){for(var or=0,wr=0;wr<Ft.length;wr++)if(se[Ft[wr].id]!==void 0){var Pr=e.direction.getPosition(se[Ft[wr].id])-Jt;or+=Pr/Math.sqrt(Pr*Pr+Z)}return or},bt=function(Jt,Ft){for(var or=0,wr=0;wr<Ft.length;wr++)if(se[Ft[wr].id]!==void 0){var Pr=e.direction.getPosition(se[Ft[wr].id])-Jt;or-=Z*Math.pow(Pr*Pr+Z,-1.5)}return or},pt=function(Jt,Ft){for(var or=e.direction.getPosition(N),wr={},Pr=0;Pr<Jt;Pr++){var Oi=xt(or,Ft),en=bt(or,Ft);if(wr[or-=Math.max(-40,Math.min(40,Math.round(Oi/en)))]!==void 0)break;wr[or]=Pr}return or},tt=pt(S,ye);(function(Jt){var Ft=e.direction.getPosition(N);if(r[N.id]===void 0){var or={};u(N,or),r[N.id]=or}var wr=d(r[N.id]),Pr=wr[2],Oi=wr[3],en=Jt-Ft,mE=0;en>0?mE=Math.min(en,Oi-e.options.hierarchical.nodeSpacing):en<0&&(mE=-Math.min(-en,Pr-e.options.hierarchical.nodeSpacing)),mE!=0&&(e._shiftBlock(N.id,mE),t=!0)})(tt),function(Jt){var Ft=e.direction.getPosition(N),or=yr(e._getSpaceAroundNode(N),2),wr=or[0],Pr=or[1],Oi=Jt-Ft,en=Ft;Oi>0?en=Math.min(Ft+(Pr-e.options.hierarchical.nodeSpacing),Jt):Oi<0&&(en=Math.max(Ft-(wr-e.options.hierarchical.nodeSpacing),Jt)),en!==Ft&&(e.direction.setPosition(N,en),t=!0)}(tt=pt(S,L))};this.options.hierarchical.blockShifting===!0&&(function(S){var N=e.hierarchical.getLevels();N=Ra(N).call(N);for(var F=0;F<S&&(t=!1,v(E,N,!0),t===!0);F++);}(5),function(){for(var S in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,S)&&e._centerParent(e.body.nodes[S])}()),this.options.hierarchical.edgeMinimization===!0&&function(S){var N=e.hierarchical.getLevels();N=Ra(N).call(N);for(var F=0;F<S;F++){t=!1;for(var L=0;L<N.length;L++)for(var V=N[L],Z=e.hierarchical.distributionOrdering[V],se=0;se<Z.length;se++)T(1e3,Z[se]);if(t!==!0)break}}(20),this.options.hierarchical.parentCentralization===!0&&function(){var S=e.hierarchical.getLevels();S=Ra(S).call(S);for(var N=0;N<S.length;N++)for(var F=S[N],L=e.hierarchical.distributionOrdering[F],V=0;V<L.length;V++)e._centerParent(L[V])}(),function(){for(var S=o(),N=0,F=0;F<S.length-1;F++)N+=S[F].max-S[F+1].min+e.options.hierarchical.treeSpacing,i(F+1,N)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var r=!0;t===void 0&&(r=!1);var i=this.hierarchical.levels[e.id];if(i!==void 0){var o=this.hierarchical.distributionIndex[e.id],u=this.direction.getPosition(e),d=this.hierarchical.distributionOrdering[i],v=1e9,E=1e9;if(o!==0){var T=d[o-1];(r===!0&&t[T.id]===void 0||r===!1)&&(v=u-this.direction.getPosition(T))}if(o!=d.length-1){var S=d[o+1];if(r===!0&&t[S.id]===void 0||r===!1){var N=this.direction.getPosition(S);E=Math.min(E,N-u)}}return[v,E]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],r=0;r<t.length;r++){var i=t[r],o=this.body.nodes[i],u=this.hierarchical.childrenReference[i];if(u!==void 0){var d=this._getCenterPosition(u),v=this.direction.getPosition(o),E=yr(this._getSpaceAroundNode(o),2),T=E[0],S=E[1],N=v-d;(N<0&&Math.abs(N)<S-this.options.hierarchical.nodeSpacing||N>0&&Math.abs(N)<T-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,d)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var r,i=dr(e[t]);i=this._indexArrayToNodes(i),s0(r=this.direction).call(r,i);for(var o=0,u=0;u<i.length;u++){var d=i[u];if(this.positionedNodes[d.id]===void 0){var v=this.options.hierarchical.nodeSpacing,E=v*o;o>0&&(E=this.direction.getPosition(i[u-1])+v),this.direction.setPosition(d,E,t),this._validatePositionAndContinue(d,t,E),o++}}}}},{key:"_placeBranchNodes",value:function(e,t){var r,i=this.hierarchical.childrenReference[e];if(i!==void 0){for(var o=[],u=0;u<i.length;u++)o.push(this.body.nodes[i[u]]);s0(r=this.direction).call(r,o);for(var d=0;d<o.length;d++){var v=o[d],E=this.hierarchical.levels[v.id];if(!(E>t&&this.positionedNodes[v.id]===void 0))return;var T=this.options.hierarchical.nodeSpacing,S=void 0;S=d===0?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(o[d-1])+T,this.direction.setPosition(v,S,E),this._validatePositionAndContinue(v,E,S)}var N=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],N,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-i<this.options.hierarchical.nodeSpacing){var o=i+this.options.hierarchical.nodeSpacing-r,u=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(u.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}},{key:"_getDistribution",value:function(){var e,t,r={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){t=this.body.nodes[e];var i=this.hierarchical.levels[e]===void 0?0:this.hierarchical.levels[e];this.direction.fix(t,i),r[i]===void 0&&(r[i]={}),r[i][e]=t}return r}},{key:"_getActiveEdges",value:function(e){var t=this,r=[];return kt(e.edges,function(i){var o;Ot(o=t.body.edgeIndices).call(o,i.id)!==-1&&r.push(i)}),r}},{key:"_getHubSizes",value:function(){var e=this,t={};kt(this.body.nodeIndices,function(i){var o=e.body.nodes[i],u=e._getActiveEdges(o).length;t[u]=!0});var r=[];return kt(t,function(i){r.push(Number(i))}),s0(r).call(r,function(i,o){return o-i}),r}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(u,d){e.hierarchical.levelDownstream(u,d)},r=this._getHubSizes(),i=function(){var u=r[o];if(u===0)return 1;kt(e.body.nodeIndices,function(d){var v=e.body.nodes[d];u===e._getActiveEdges(v).length&&e._crawlNetwork(t,d)})},o=0;o<r.length&&!i();++o);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,r,i){var o=e.hierarchical.levels[t.id];o===void 0&&(o=e.hierarchical.levels[t.id]=1e5);var u=(In.cloneOptions(t,"node"),In.cloneOptions(r,"node"),void In.cloneOptions(i,"edge"));e.hierarchical.levels[r.id]=o+u}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,t=this,r=SI(e=this.body.nodeIndices).call(e,function(i,o){return i.set(o,t.body.nodes[o]),i},new v1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=function(i){return VS(function(o){var u,d;return AI(u=wn(d=o.edges).call(d,function(v){return i.has(v.toId)})).call(u,function(v){return v.from===o})},function(o,u){return u<o},"to",i)}(r):this.hierarchical.levels=function(i){return VS(function(o){var u,d;return AI(u=wn(d=o.edges).call(d,function(v){return i.has(v.toId)})).call(u,function(v){return v.to===o})},function(o,u){return u>o},"from",i)}(r),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,r){e.hierarchical.levels[r.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,r.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0,i={},o=function T(S,N){if(i[S.id]===void 0){var F;e.hierarchical.setTreeIndex(S,N),i[S.id]=!0;for(var L=e._getActiveEdges(S),V=0;V<L.length;V++){var Z=L[V];Z.connected===!0&&(F=Z.toId==S.id?Z.from:Z.to,S.id!=F.id&&(t(S,F,Z),T(F,N)))}}};if(r===void 0)for(var u=0,d=0;d<this.body.nodeIndices.length;d++){var v=this.body.nodeIndices[d];i[v]===void 0&&(o(this.body.nodes[v],u),u+=1)}else{var E=this.body.nodes[r];if(E===void 0)return void console.error("Node not found:",r);o(E)}}},{key:"_shiftBlock",value:function(e,t){var r=this,i={};(function o(u){if(!i[u]){i[u]=!0,r.direction.shift(u,t);var d=r.hierarchical.childrenReference[u];if(d!==void 0)for(var v=0;v<d.length;v++)o(d[v])}})(e)}},{key:"_findCommonParent",value:function(e,t){var r=this,i={};return function o(u,d){var v=r.hierarchical.parentReference[d];if(v!==void 0)for(var E=0;E<v.length;E++){var T=v[E];u[T]=!0,o(u,T)}}(i,e),function o(u,d){var v=r.hierarchical.parentReference[d];if(v!==void 0)for(var E=0;E<v.length;E++){var T=v[E];if(u[T]!==void 0)return{foundParent:T,withChild:d};var S=o(u,T);if(S.foundParent!==null)return S}return{foundParent:null,withChild:d}}(i,t)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";this.direction=e?new CC(this):new $h(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,r=-1e9,i=0;i<e.length;i++){var o=void 0;if(e[i].id!==void 0)o=e[i];else{var u=e[i];o=this.body.nodes[u]}var d=this.direction.getPosition(o);t=Math.min(t,d),r=Math.max(r,d)}return .5*(t+r)}}]),n}();function WS(n,e){var t=Uo!==void 0&&Rn(n)||n["@@iterator"];if(!t){if(Wt(n)||(t=function(v,E){var T;if(v){if(typeof v=="string")return Rh(v,E);var S=Ar(T=Object.prototype.toString.call(v)).call(T,8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Os(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return Rh(v,E)}}(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(v){throw v},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var v=t.next();return u=v.done,v},e:function(v){d=!0,o=v},f:function(){try{u||t.return==null||t.return()}finally{if(d)throw o}}}}function Rh(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var qS=function(){function n(e,t,r,i){var o,u,d=this;Ee(this,n),this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},xr(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){d._clean()}),this.body.emitter.on("_dataChanged",Oe(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Oe(u=this._restore).call(u,this))}return Ae(n,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Yt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var r=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),o=r+i,u=this.options.locales[this.options.locale],d=!1;this.options.addNode!==!1&&(this._createAddNodeButton(u),d=!0),this.options.addEdge!==!1&&(d===!0?this._createSeperator(1):d=!0,this._createAddEdgeButton(u)),r===1&&typeof this.options.editNode=="function"?(d===!0?this._createSeperator(2):d=!0,this._createEditNodeButton(u)):i===1&&r===0&&this.options.editEdge!==!1&&(d===!0?this._createSeperator(3):d=!0,this._createEditEdgeButton(u)),o!==0&&(r>0&&this.options.deleteNode!==!1||r===0&&this.options.deleteEdge!==!1)&&(d===!0&&this._createSeperator(4),this._createDeleteButton(u)),this._bindElementEvents(this.closeDiv,Oe(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Oe(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t,r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Oe(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",Oe(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(t!==void 0){if(this.inMode="editNode",typeof this.options.editNode!="function")throw new Error("No function has been configured to handle the editing of nodes.");if(t.isCluster!==!0){var r=Yt({},t.options,!1);if(r.x=t.x,r.y=t.y,this.options.editNode.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(r,function(i){i!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(i),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,r,i,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var u,d=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(d),this._createSeperator(),this._createDescription(d.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Oe(u=this.toggleEditMode).call(u,this))}this._temporaryBindUI("onTouch",Oe(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Oe(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",Oe(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",Oe(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Oe(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",Lt(this.options.editEdge)!=="object"||typeof this.options.editEdge.editWithoutDrag!="function"||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId===void 0)){if(this.guiEnabled===!0){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Oe(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,i,o,u,d=this.body.edges[this.edgeBeingEditedId],v=this._getNewTargetNode(d.from.x,d.from.y),E=this._getNewTargetNode(d.to.x,d.to.y);this.temporaryIds.nodes.push(v.id),this.temporaryIds.nodes.push(E.id),this.body.nodes[v.id]=v,this.body.nodeIndices.push(v.id),this.body.nodes[E.id]=E,this.body.nodeIndices.push(E.id),this._temporaryBindUI("onTouch",Oe(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",Oe(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",Oe(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",Oe(u=this._controlNodeDragEnd).call(u,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(S){var N=d.edgeType.findBorderPositions(S);v.selected===!1&&(v.x=N.from.x,v.y=N.from.y),E.selected===!1&&(E.x=N.to.x,E.y=N.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var T=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(T.from.id,T.to.id)}}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds(),i=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(this.body.nodes[t[o]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);typeof this.options.deleteNode=="function"&&(i=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(i=this.options.deleteEdge);if(typeof i=="function"){var u={nodes:t,edges:r};if(i.length!==2)throw new Error("The function for delete does not support two arguments (data, callback)");i(u,function(d){d!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(d.edges),e.body.data.nodes.getDataSet().remove(d.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var r=Yt({},this.options.controlNodeStyle);r.id="targetNode"+rs(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;var i=this.body.functions.createNode(r);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},po(this.editModeDiv);var t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,Oe(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(po(this.editModeDiv),po(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,r=WS(qo(e=this._domEventListenerCleanupQueue).call(e,0));try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(i){r.e(i)}finally{r.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),po(this.manipulationDiv),po(this.editModeDiv),po(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,Oe(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,Oe(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,Oe(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,Oe(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,r;r=this.options.rtl?"vis-delete-rtl":"vis-delete";var i=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Oe(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,Oe(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(this.body.eventListeners[e]===void 0)throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+$s(dr(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var r=new pl(e,{});Nl(r,t),this._domEventListenerCleanupQueue.push(function(){r.destroy()});var i=function(o){var u=o.keyCode,d=o.key;d!=="Enter"&&d!==" "&&u!==13&&u!==32||t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",i,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var r,i=Ot(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);i!==-1&&qo(r=this.body.edgeIndices).call(r,i,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var u;delete this.body.nodes[this.temporaryIds.nodes[o]];var d,v=Ot(u=this.body.nodeIndices).call(u,this.temporaryIds.nodes[o]);v!==-1&&qo(d=this.body.nodeIndices).call(d,v,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=xr({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var u=r.isOverlappingWith(t),d=i.isOverlappingWith(t);u===!0?(this.selectedControlNode=r,o.edgeType.from=r):d===!0&&(this.selectedControlNode=i,o.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),u=void 0,d=o.length-1;d>=0;d--)if(o[d]!==this.selectedControlNode.id){u=this.body.nodes[o[d]];break}if(u!==void 0&&this.selectedControlNode!==void 0)if(u.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var v=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===v.id?this._performEditEdge(u.id,i.to.id):this._performEditEdge(i.from.id,u.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=xr({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(r.x,r.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var o=this.body.functions.createEdge({id:"connectionEdge"+rs(),from:r.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=void 0;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),u=void 0,d=o.length-1;d>=0;d--){var v;if(Ot(v=this.temporaryIds.nodes).call(v,o[d])===-1){u=this.body.nodes[o[d]];break}}if(e.controlEdge={from:i,to:u?u.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){var E=this.body.nodes[this.temporaryIds.nodes[0]];E.x=this.canvas._XconvertDOMtoCanvas(t.x),E.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=void 0;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(r),u=void 0,d=o.length-1;d>=0;d--){var v;if(Ot(v=this.temporaryIds.nodes).call(v,o[d])===-1){u=this.body.nodes[o[d]];break}}this._cleanupTemporaryNodesAndEdges(),u!==void 0&&(u.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[u.id]!==void 0&&this._performAddEdge(i,u.id)),e.controlEdge={from:i,to:u?u.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,r={id:rs(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function"){if(this.options.addNode.length!==2)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(r,function(i){i!=null&&t.inMode==="addNode"&&t.body.data.nodes.getDataSet().add(i),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var r=this,i={from:e,to:t};if(typeof this.options.addEdge=="function"){if(this.options.addEdge.length!==2)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,function(o){o!=null&&r.inMode==="addEdge"&&(r.body.data.edges.getDataSet().add(o),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var r=this,i={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if(Lt(o)==="object"&&(o=o.editWithoutDrag),typeof o=="function"){if(o.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");o(i,function(u){u==null||r.inMode!=="editEdge"?(r.body.edges[i.id].updateEdgeType(),r.body.emitter.emit("_redraw"),r.showManipulatorToolbar()):(r.body.data.edges.getDataSet().update(u),r.selectionHandler.unselectAll(),r.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),n}(),Pe="string",_e="boolean",ie="number",Fl="array",We="object",GS=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],YS={borderWidth:{number:ie},borderWidthSelected:{number:ie,undefined:"undefined"},brokenImage:{string:Pe,undefined:"undefined"},chosen:{label:{boolean:_e,function:"function"},node:{boolean:_e,function:"function"},__type__:{object:We,boolean:_e}},color:{border:{string:Pe},background:{string:Pe},highlight:{border:{string:Pe},background:{string:Pe},__type__:{object:We,string:Pe}},hover:{border:{string:Pe},background:{string:Pe},__type__:{object:We,string:Pe}},__type__:{object:We,string:Pe}},opacity:{number:ie,undefined:"undefined"},fixed:{x:{boolean:_e},y:{boolean:_e},__type__:{object:We,boolean:_e}},font:{align:{string:Pe},color:{string:Pe},size:{number:ie},face:{string:Pe},background:{string:Pe},strokeWidth:{number:ie},strokeColor:{string:Pe},vadjust:{number:ie},multi:{boolean:_e,string:Pe},bold:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},boldital:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},ital:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},mono:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},__type__:{object:We,string:Pe}},group:{string:Pe,number:ie,undefined:"undefined"},heightConstraint:{minimum:{number:ie},valign:{string:Pe},__type__:{object:We,boolean:_e,number:ie}},hidden:{boolean:_e},icon:{face:{string:Pe},code:{string:Pe},size:{number:ie},color:{string:Pe},weight:{string:Pe,number:ie},__type__:{object:We}},id:{string:Pe,number:ie},image:{selected:{string:Pe,undefined:"undefined"},unselected:{string:Pe,undefined:"undefined"},__type__:{object:We,string:Pe}},imagePadding:{top:{number:ie},right:{number:ie},bottom:{number:ie},left:{number:ie},__type__:{object:We,number:ie}},label:{string:Pe,undefined:"undefined"},labelHighlightBold:{boolean:_e},level:{number:ie,undefined:"undefined"},margin:{top:{number:ie},right:{number:ie},bottom:{number:ie},left:{number:ie},__type__:{object:We,number:ie}},mass:{number:ie},physics:{boolean:_e},scaling:{min:{number:ie},max:{number:ie},label:{enabled:{boolean:_e},min:{number:ie},max:{number:ie},maxVisible:{number:ie},drawThreshold:{number:ie},__type__:{object:We,boolean:_e}},customScalingFunction:{function:"function"},__type__:{object:We}},shadow:{enabled:{boolean:_e},color:{string:Pe},size:{number:ie},x:{number:ie},y:{number:ie},__type__:{object:We,boolean:_e}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:_e,array:Fl},borderRadius:{number:ie},interpolation:{boolean:_e},useImageSize:{boolean:_e},useBorderWithImage:{boolean:_e},coordinateOrigin:{string:["center","top-left"]},__type__:{object:We}},size:{number:ie},title:{string:Pe,dom:"dom",undefined:"undefined"},value:{number:ie,undefined:"undefined"},widthConstraint:{minimum:{number:ie},maximum:{number:ie},__type__:{object:We,boolean:_e,number:ie}},x:{number:ie},y:{number:ie},__type__:{object:We}},Mh={configure:{enabled:{boolean:_e},filter:{boolean:_e,string:Pe,array:Fl,function:"function"},container:{dom:"dom"},showButton:{boolean:_e},__type__:{object:We,boolean:_e,string:Pe,array:Fl,function:"function"}},edges:{arrows:{to:{enabled:{boolean:_e},scaleFactor:{number:ie},type:{string:GS},imageHeight:{number:ie},imageWidth:{number:ie},src:{string:Pe},__type__:{object:We,boolean:_e}},middle:{enabled:{boolean:_e},scaleFactor:{number:ie},type:{string:GS},imageWidth:{number:ie},imageHeight:{number:ie},src:{string:Pe},__type__:{object:We,boolean:_e}},from:{enabled:{boolean:_e},scaleFactor:{number:ie},type:{string:GS},imageWidth:{number:ie},imageHeight:{number:ie},src:{string:Pe},__type__:{object:We,boolean:_e}},__type__:{string:["from","to","middle"],object:We}},endPointOffset:{from:{number:ie},to:{number:ie},__type__:{object:We,number:ie}},arrowStrikethrough:{boolean:_e},background:{enabled:{boolean:_e},color:{string:Pe},size:{number:ie},dashes:{boolean:_e,array:Fl},__type__:{object:We,boolean:_e}},chosen:{label:{boolean:_e,function:"function"},edge:{boolean:_e,function:"function"},__type__:{object:We,boolean:_e}},color:{color:{string:Pe},highlight:{string:Pe},hover:{string:Pe},inherit:{string:["from","to","both"],boolean:_e},opacity:{number:ie},__type__:{object:We,string:Pe}},dashes:{boolean:_e,array:Fl},font:{color:{string:Pe},size:{number:ie},face:{string:Pe},background:{string:Pe},strokeWidth:{number:ie},strokeColor:{string:Pe},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:ie},multi:{boolean:_e,string:Pe},bold:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},boldital:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},ital:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},mono:{color:{string:Pe},size:{number:ie},face:{string:Pe},mod:{string:Pe},vadjust:{number:ie},__type__:{object:We,string:Pe}},__type__:{object:We,string:Pe}},hidden:{boolean:_e},hoverWidth:{function:"function",number:ie},label:{string:Pe,undefined:"undefined"},labelHighlightBold:{boolean:_e},length:{number:ie,undefined:"undefined"},physics:{boolean:_e},scaling:{min:{number:ie},max:{number:ie},label:{enabled:{boolean:_e},min:{number:ie},max:{number:ie},maxVisible:{number:ie},drawThreshold:{number:ie},__type__:{object:We,boolean:_e}},customScalingFunction:{function:"function"},__type__:{object:We}},selectionWidth:{function:"function",number:ie},selfReferenceSize:{number:ie},selfReference:{size:{number:ie},angle:{number:ie},renderBehindTheNode:{boolean:_e},__type__:{object:We}},shadow:{enabled:{boolean:_e},color:{string:Pe},size:{number:ie},x:{number:ie},y:{number:ie},__type__:{object:We,boolean:_e}},smooth:{enabled:{boolean:_e},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:ie},forceDirection:{string:["horizontal","vertical","none"],boolean:_e},__type__:{object:We,boolean:_e}},title:{string:Pe,undefined:"undefined"},width:{number:ie},widthConstraint:{maximum:{number:ie},__type__:{object:We,boolean:_e,number:ie}},value:{number:ie,undefined:"undefined"},__type__:{object:We}},groups:{useDefaultGroups:{boolean:_e},__any__:YS,__type__:{object:We}},interaction:{dragNodes:{boolean:_e},dragView:{boolean:_e},hideEdgesOnDrag:{boolean:_e},hideEdgesOnZoom:{boolean:_e},hideNodesOnDrag:{boolean:_e},hover:{boolean:_e},keyboard:{enabled:{boolean:_e},speed:{x:{number:ie},y:{number:ie},zoom:{number:ie},__type__:{object:We}},bindToWindow:{boolean:_e},autoFocus:{boolean:_e},__type__:{object:We,boolean:_e}},multiselect:{boolean:_e},navigationButtons:{boolean:_e},selectable:{boolean:_e},selectConnectedEdges:{boolean:_e},hoverConnectedEdges:{boolean:_e},tooltipDelay:{number:ie},zoomView:{boolean:_e},zoomSpeed:{number:ie},__type__:{object:We}},layout:{randomSeed:{undefined:"undefined",number:ie,string:Pe},improvedLayout:{boolean:_e},clusterThreshold:{number:ie},hierarchical:{enabled:{boolean:_e},levelSeparation:{number:ie},nodeSpacing:{number:ie},treeSpacing:{number:ie},blockShifting:{boolean:_e},edgeMinimization:{boolean:_e},parentCentralization:{boolean:_e},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:We,boolean:_e}},__type__:{object:We}},manipulation:{enabled:{boolean:_e},initiallyActive:{boolean:_e},addNode:{boolean:_e,function:"function"},addEdge:{boolean:_e,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:We,boolean:_e,function:"function"}},deleteNode:{boolean:_e,function:"function"},deleteEdge:{boolean:_e,function:"function"},controlNodeStyle:YS,__type__:{object:We,boolean:_e}},nodes:YS,physics:{enabled:{boolean:_e},barnesHut:{theta:{number:ie},gravitationalConstant:{number:ie},centralGravity:{number:ie},springLength:{number:ie},springConstant:{number:ie},damping:{number:ie},avoidOverlap:{number:ie},__type__:{object:We}},forceAtlas2Based:{theta:{number:ie},gravitationalConstant:{number:ie},centralGravity:{number:ie},springLength:{number:ie},springConstant:{number:ie},damping:{number:ie},avoidOverlap:{number:ie},__type__:{object:We}},repulsion:{centralGravity:{number:ie},springLength:{number:ie},springConstant:{number:ie},nodeDistance:{number:ie},damping:{number:ie},__type__:{object:We}},hierarchicalRepulsion:{centralGravity:{number:ie},springLength:{number:ie},springConstant:{number:ie},nodeDistance:{number:ie},damping:{number:ie},avoidOverlap:{number:ie},__type__:{object:We}},maxVelocity:{number:ie},minVelocity:{number:ie},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:_e},iterations:{number:ie},updateInterval:{number:ie},onlyDynamicEdges:{boolean:_e},fit:{boolean:_e},__type__:{object:We,boolean:_e}},timestep:{number:ie},adaptiveTimestep:{boolean:_e},wind:{x:{number:ie},y:{number:ie},__type__:{object:We}},__type__:{object:We,boolean:_e}},autoResize:{boolean:_e},clickToUse:{boolean:_e},locale:{string:Pe},locales:{__any__:{any:"any"},__type__:{object:We}},height:{string:Pe},width:{string:Pe},__type__:{object:We}},KS={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},jh=function(n,e,t){var r;return!(!lo(n).call(n,"physics")||!lo(r=KS.physics.solver).call(r,e)||t.physics.solver===e||e==="wind")},$I=Object.freeze({__proto__:null,allOptions:Mh,configuratorHideOption:jh,configureOptions:KS}),NC=function(){function n(){Ee(this,n)}return Ae(n,[{key:"getDistances",value:function(e,t,r){for(var i={},o=e.edges,u=0;u<t.length;u++){var d={};i[t[u]]=d;for(var v=0;v<t.length;v++)d[t[v]]=u==v?0:1e9}for(var E=0;E<r.length;E++){var T=o[r[E]];T.connected===!0&&i[T.fromId]!==void 0&&i[T.toId]!==void 0&&(i[T.fromId][T.toId]=1,i[T.toId][T.fromId]=1)}for(var S=t.length,N=0;N<S;N++)for(var F=t[N],L=i[F],V=0;V<S-1;V++)for(var Z=t[V],se=i[Z],ye=V+1;ye<S;ye++){var De=t[ye],Ne=i[De],Ze=Math.min(se[De],se[F]+L[De]);se[De]=Ze,Ne[Z]=Ze}return i}}]),n}(),$C=function(){function n(e,t,r){Ee(this,n),this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new NC}return Ae(n,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var o=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),d=1e9,v=0,E=0,T=0,S=0,N=0;d>.01&&o<u;){o+=1;var F=yr(this._getHighestEnergyNode(r),4);for(v=F[0],d=F[1],E=F[2],T=F[3],S=d,N=0;S>1&&N<5;){N+=1,this._moveNode(v,E,T);var L=yr(this._getEnergy(v),3);S=L[0],E=L[1],T=L[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,i=0,o=t[0],u=0,d=0,v=0;v<t.length;v++){var E=t[v];if(r[E].predefinedPosition!==!0||r[E].isCluster===!0&&e===!0||r[E].options.fixed.x!==!0||r[E].options.fixed.y!==!0){var T=yr(this._getEnergy(E),3),S=T[0],N=T[1],F=T[2];i<S&&(i=S,o=E,u=N,d=F)}}return[o,i,u,d]}},{key:"_getEnergy",value:function(e){var t=yr(this.E_sums[e],2),r=t[0],i=t[1];return[Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),r,i]}},{key:"_moveNode",value:function(e,t,r){for(var i=this.body.nodeIndices,o=this.body.nodes,u=0,d=0,v=0,E=o[e].x,T=o[e].y,S=this.K_matrix[e],N=this.L_matrix[e],F=0;F<i.length;F++){var L=i[F];if(L!==e){var V=o[L].x,Z=o[L].y,se=S[L],ye=N[L],De=1/Math.pow(Math.pow(E-V,2)+Math.pow(T-Z,2),1.5);u+=se*(1-ye*Math.pow(T-Z,2)*De),d+=se*(ye*(E-V)*(T-Z)*De),v+=se*(1-ye*Math.pow(E-V,2)*De)}}var Ne=(t/u+r/d)/(d/u-v/d),Ze=-(d*Ne+t)/u;o[e].x+=Ze,o[e].y+=Ne,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(var i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[i]][t[o]]=r*e[t[i]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(var i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[i]][t[o]]=r*Math.pow(e[t[i]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(var i=0;i<e.length;i++){for(var o=e[i],u=t[o].x,d=t[o].y,v=0,E=0,T=i;T<e.length;T++){var S=e[T];if(S!==o){var N=t[S].x,F=t[S].y,L=1/Math.sqrt(Math.pow(u-N,2)+Math.pow(d-F,2));this.E_matrix[o][T]=[this.K_matrix[o][S]*(u-N-this.L_matrix[o][S]*(u-N)*L),this.K_matrix[o][S]*(d-F-this.L_matrix[o][S]*(d-F)*L)],this.E_matrix[S][i]=this.E_matrix[o][T],v+=this.E_matrix[o][T][0],E+=this.E_matrix[o][T][1]}}this.E_sums[o]=[v,E]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,r=this.body.nodes,i=this.E_matrix[e],o=this.K_matrix[e],u=this.L_matrix[e],d=r[e].x,v=r[e].y,E=0,T=0,S=0;S<t.length;S++){var N=t[S];if(N!==e){var F=i[S],L=F[0],V=F[1],Z=r[N].x,se=r[N].y,ye=1/Math.sqrt(Math.pow(d-Z,2)+Math.pow(v-se,2)),De=o[N]*(d-Z-u[N]*(d-Z)*ye),Ne=o[N]*(v-se-u[N]*(v-se)*ye);i[S]=[De,Ne],E+=De,T+=Ne;var Ze=this.E_sums[N];Ze[0]+=De-L,Ze[1]+=Ne-V}}this.E_sums[e]=[E,T]}}]),n}();function qe(n,e,t){var r,i,o,u,d=this;if(!(this instanceof qe))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:tv,clickToUse:!1},xr(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Oe(r=this.on).call(r,this),off:Oe(i=this.off).call(i,this),emit:Oe(o=this.emit).call(o,this),once:Oe(u=this.once).call(u,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Qw(function(){return d.body.emitter.emit("_requestRedraw")}),this.groups=new p1,this.canvas=new lE(this.body),this.selectionHandler=new gC(this.body,this.canvas),this.interactionHandler=new Zm(this.body,this.canvas,this.selectionHandler),this.view=new Lv(this.body,this.canvas),this.renderer=new uE(this.body,this.canvas),this.physics=new OS(this.body),this.layoutEngine=new NI(this.body),this.clustering=new sE(this.body),this.manipulation=new qS(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new V1(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new mS(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new $C(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}xp(qe.prototype),qe.prototype.setOptions=function(n){var e=this;if(n===null&&(n=void 0),n!==void 0){if(wT.validate(n,Mh)===!0&&console.error("%cErrors have been found in the supplied options object.",lh),Zo(["locale","locales","clickToUse"],this.options,n),n.locale!==void 0&&(n.locale=function(r,i){try{var o=yr(i.split(/[-_ /]/,2),2),u=o[0],d=o[1],v=u!=null?u.toLowerCase():null,E=d!=null?d.toUpperCase():null;if(v&&E){var T,S=v+"-"+E;if(Object.prototype.hasOwnProperty.call(r,S))return S;console.warn(kf(T="Unknown variant ".concat(E," of language ")).call(T,v,"."))}if(v){var N=v;if(Object.prototype.hasOwnProperty.call(r,N))return N;console.warn("Unknown language ".concat(v))}return console.warn("Unknown locale ".concat(i,", falling back to English.")),"en"}catch(F){return console.error(F),console.warn("Unexpected error while normalizing locale ".concat(i,", falling back to English.")),"en"}}(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),n.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new Vw(this,this.body.container,KS,this.canvas.pixelRatio,jh)),this.configurator.setOptions(n.configure)),this.configurator&&this.configurator.options.enabled===!0){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Yt(t.nodes,this.nodesHandler.options),Yt(t.edges,this.edgesHandler.options),Yt(t.layout,this.layoutEngine.options),Yt(t.interaction,this.selectionHandler.options),Yt(t.interaction,this.renderer.options),Yt(t.interaction,this.interactionHandler.options),Yt(t.manipulation,this.manipulation.options),Yt(t.physics,this.physics.options),Yt(t.global,this.canvas.options),Yt(t.global,this.options),this.configurator.setModuleOptions(t)}n.clickToUse!==void 0?n.clickToUse===!0?this.activator===void 0&&(this.activator=new bT(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},qe.prototype._updateVisibleIndices=function(){var n=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],n)Object.prototype.hasOwnProperty.call(n,t)&&(this.clustering._isClusteredNode(t)||n[t].options.hidden!==!1||this.body.nodeIndices.push(n[t].id));for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r],o=n[i.fromId],u=n[i.toId],d=o!==void 0&&u!==void 0;!this.clustering._isClusteredEdge(r)&&i.options.hidden===!1&&d&&o.options.hidden===!1&&u.options.hidden===!1&&this.body.edgeIndices.push(i.id)}},qe.prototype.bindEventListeners=function(){var n=this;this.body.emitter.on("_dataChanged",function(){n.edgesHandler._updateState(),n.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){n.clustering._updateState(),n._updateVisibleIndices(),n._updateValueRange(n.body.nodes),n._updateValueRange(n.body.edges),n.body.emitter.emit("startSimulation"),n.body.emitter.emit("_requestRedraw")})},qe.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Zf(n.dot);this.setData(e)}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=ev(n.gephi);this.setData(t)}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},qe.prototype.destroy=function(){for(var n in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];po(this.body.container)},qe.prototype._updateValueRange=function(n){var e,t=void 0,r=void 0,i=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var o=n[e].getValue();o!==void 0&&(t=t===void 0?o:Math.min(o,t),r=r===void 0?o:Math.max(o,r),i+=o)}if(t!==void 0&&r!==void 0)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,r,i)},qe.prototype.isActive=function(){return!this.activator||this.activator.active},qe.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},qe.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},qe.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},qe.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},qe.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},qe.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},qe.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},qe.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},qe.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},qe.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},qe.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},qe.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},qe.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},qe.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},qe.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},qe.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},qe.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},qe.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},qe.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},qe.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},qe.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},qe.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},qe.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},qe.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},qe.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},qe.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},qe.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},qe.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},qe.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},qe.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},qe.prototype.getConnectedNodes=function(n){return this.body.nodes[n]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},qe.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},qe.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},qe.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},qe.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},qe.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},qe.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},qe.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},qe.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},qe.prototype.getNodeAt=function(){var n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n},qe.prototype.getEdgeAt=function(){var n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n},qe.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},qe.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},qe.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},qe.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},qe.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},qe.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},qe.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},qe.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},qe.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},qe.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},qe.prototype.getOptionsFromConfigurator=function(){var n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};var RC=Zf;h.Network=qe,h.NetworkImages=Qw,h.networkDOTParser=OT,h.networkGephiParser=kT,h.networkOptions=$I,h.parseDOTNetwork=RC,h.parseGephiNetwork=ev})});var MD=QS((iC,RD)=>{(function(h,g){typeof iC=="object"&&typeof RD<"u"?g(iC):typeof define=="function"&&define.amd?define(["exports"],g):g((h=typeof globalThis<"u"?globalThis:h||self).vis=h.vis||{})})(iC,function(h){function g(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var P={exports:{}},R=function(s){return s&&s.Math==Math&&s},H=R(typeof globalThis=="object"&&globalThis)||R(typeof window=="object"&&window)||R(typeof self=="object"&&self)||R(typeof _=="object"&&_)||function(){return this}()||Function("return this")(),q=function(s){try{return!!s()}catch{return!0}},le=!q(function(){var s=function(){}.bind();return typeof s!="function"||s.hasOwnProperty("prototype")}),ge=le,ce=Function.prototype,X=ce.apply,Re=ce.call,$e=typeof Reflect=="object"&&Reflect.apply||(ge?Re.bind(X):function(){return Re.apply(X,arguments)}),we=le,ze=Function.prototype,Vt=ze.call,Me=we&&ze.bind.bind(Vt,Vt),rt=we?Me:function(s){return function(){return Vt.apply(s,arguments)}},nt=rt,Rt=nt({}.toString),It=nt("".slice),gr=function(s){return It(Rt(s),8,-1)},it=gr,dn=rt,ar=function(s){if(it(s)==="Function")return dn(s)},te=typeof document=="object"&&document.all,Ie={all:te,IS_HTMLDDA:te===void 0&&te!==void 0},Ge=Ie.all,Ce=Ie.IS_HTMLDDA?function(s){return typeof s=="function"||s===Ge}:function(s){return typeof s=="function"},ft={},ut=!q(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Ht=le,j=Function.prototype.call,U=Ht?j.bind(j):function(){return j.apply(j,arguments)},K={},ee={}.propertyIsEnumerable,ne=Object.getOwnPropertyDescriptor,re=ne&&!ee.call({1:2},1);K.f=re?function(s){var c=ne(this,s);return!!c&&c.enumerable}:ee;var de,me,ve=function(s,c){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:c}},ke=q,Ve=gr,Er=Object,Mt=rt("".split),_t=ke(function(){return!Er("z").propertyIsEnumerable(0)})?function(s){return Ve(s)=="String"?Mt(s,""):Er(s)}:Er,Gt=function(s){return s==null},qr=Gt,oi=TypeError,Ti=function(s){if(qr(s))throw oi("Can't call method on "+s);return s},os=_t,An=Ti,fr=function(s){return os(An(s))},Gr=Ce,$r=Ie.all,Xe=Ie.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:Gr(s)||s===$r}:function(s){return typeof s=="object"?s!==null:Gr(s)},rr={},gu=rr,Jv=H,Rr=Ce,Dt=function(s){return Rr(s)?s:void 0},Ct=function(s,c){return arguments.length<2?Dt(gu[s])||Dt(Jv[s]):gu[s]&&gu[s][c]||Jv[s]&&Jv[s][c]},ir=rt({}.isPrototypeOf),To=typeof navigator<"u"&&String(navigator.userAgent)||"",zl=H,Mr=To,Zv=zl.process,mr=zl.Deno,Yi=Zv&&Zv.versions||mr&&mr.version,la=Yi&&Yi.v8;la&&(me=(de=la.split("."))[0]>0&&de[0]<4?1:+(de[0]+de[1])),!me&&Mr&&(!(de=Mr.match(/Edge\/(\d+)/))||de[1]>=74)&&(de=Mr.match(/Chrome\/(\d+)/))&&(me=+de[1]);var Ki=me,ep=Ki,b0=q,ai=!!Object.getOwnPropertySymbols&&!b0(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&ep&&ep<41}),Vh=ai&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Si=Ct,Wh=Ce,mu=ir,_0=Object,So=Vh?function(s){return typeof s=="symbol"}:function(s){var c=Si("Symbol");return Wh(c)&&mu(c.prototype,_0(s))},bu=String,Ii=function(s){try{return bu(s)}catch{return"Object"}},w0=Ce,jE=Ii,FE=TypeError,Or=function(s){if(w0(s))return s;throw FE(jE(s)+" is not a function")},LE=Or,BE=Gt,Io=function(s,c){var f=s[c];return BE(f)?void 0:LE(f)},Hl=U,Xi=Ce,Ul=Xe,zE=TypeError,tp={exports:{}},rn=H,HE=Object.defineProperty,UE=function(s,c){try{HE(rn,s,{value:c,configurable:!0,writable:!0})}catch{rn[s]=c}return c},Vl="__core-js_shared__",as=H[Vl]||UE(Vl,{}),Wl=as;(tp.exports=function(s,c){return Wl[s]||(Wl[s]=c!==void 0?c:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Yn=tp.exports,VE=Ti,WE=Object,nr=function(s){return WE(VE(s))},qE=nr,E0=rt({}.hasOwnProperty),Pt=Object.hasOwn||function(s,c){return E0(qE(s),c)},GE=rt,YE=0,KE=Math.random(),O0=GE(1 .toString),ss=function(s){return"Symbol("+(s===void 0?"":s)+")_"+O0(++YE+KE,36)},rp=Yn,qh=Pt,_u=ss,XE=ai,QE=Vh,vr=H.Symbol,ql=rp("wks"),JE=QE?vr.for||vr:vr&&vr.withoutSetter||_u,yt=function(s){return qh(ql,s)||(ql[s]=XE&&qh(vr,s)?vr[s]:JE("Symbol."+s)),ql[s]},kr=U,np=Xe,ip=So,ZE=Io,eO=function(s,c){var f,y;if(c==="string"&&Xi(f=s.toString)&&!Ul(y=Hl(f,s))||Xi(f=s.valueOf)&&!Ul(y=Hl(f,s))||c!=="string"&&Xi(f=s.toString)&&!Ul(y=Hl(f,s)))return y;throw zE("Can't convert object to primitive value")},Gh=TypeError,tO=yt("toPrimitive"),rO=function(s,c){if(!np(s)||ip(s))return s;var f,y=ZE(s,tO);if(y){if(c===void 0&&(c="default"),f=kr(y,s,c),!np(f)||ip(f))return f;throw Gh("Can't convert object to primitive value")}return c===void 0&&(c="number"),eO(s,c)},k0=So,us=function(s){var c=rO(s,"string");return k0(c)?c:c+""},op=Xe,Gl=H.document,wu=op(Gl)&&op(Gl.createElement),Eu=function(s){return wu?Gl.createElement(s):{}},nO=Eu,hr=!ut&&!q(function(){return Object.defineProperty(nO("div"),"a",{get:function(){return 7}}).a!=7}),iO=ut,x0=U,T0=K,oO=ve,aO=fr,sO=us,uO=Pt,lO=hr,ap=Object.getOwnPropertyDescriptor;ft.f=iO?ap:function(s,c){if(s=aO(s),c=sO(c),lO)try{return ap(s,c)}catch{}if(uO(s,c))return oO(!x0(T0.f,s,c),s[c])};var cO=q,hO=Ce,Yh=/#|\.prototype\./,Co=function(s,c){var f=sp[S0(s)];return f==up||f!=dO&&(hO(c)?cO(c):!!c)},S0=Co.normalize=function(s){return String(s).replace(Yh,".").toLowerCase()},sp=Co.data={},dO=Co.NATIVE="N",up=Co.POLYFILL="P",I0=Co,fO=Or,vO=le,C0=ar(ar.bind),si=function(s,c){return fO(s),c===void 0?s:vO?C0(s,c):function(){return s.apply(c,arguments)}},sr={},lp=ut&&q(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),pO=Xe,yO=String,gO=TypeError,ur=function(s){if(pO(s))return s;throw gO(yO(s)+" is not an object")},mO=ut,P0=hr,bO=lp,ls=ur,cp=us,Yl=TypeError,Kl=Object.defineProperty,_O=Object.getOwnPropertyDescriptor,Xl="enumerable",Ql="configurable",Ou="writable";sr.f=mO?bO?function(s,c,f){if(ls(s),c=cp(c),ls(f),typeof s=="function"&&c==="prototype"&&"value"in f&&Ou in f&&!f[Ou]){var y=_O(s,c);y&&y[Ou]&&(s[c]=f.value,f={configurable:Ql in f?f[Ql]:y[Ql],enumerable:Xl in f?f[Xl]:y[Xl],writable:!1})}return Kl(s,c,f)}:Kl:function(s,c,f){if(ls(s),c=cp(c),ls(f),P0)try{return Kl(s,c,f)}catch{}if("get"in f||"set"in f)throw Yl("Accessors not supported");return"value"in f&&(s[c]=f.value),s};var A0=sr,wO=ve,Dn=ut?function(s,c,f){return A0.f(s,c,wO(1,f))}:function(s,c,f){return s[c]=f,s},cs=H,ca=$e,Kn=ar,EO=Ce,OO=ft.f,D0=I0,Ci=rr,kO=si,Pi=Dn,fn=Pt,xO=function(s){var c=function(f,y,w){if(this instanceof c){switch(arguments.length){case 0:return new s;case 1:return new s(f);case 2:return new s(f,y)}return new s(f,y,w)}return ca(s,this,arguments)};return c.prototype=s.prototype,c},pe=function(s,c){var f,y,w,x,C,D,M,B,Q,Y=s.target,ae=s.global,xe=s.stat,Le=s.proto,je=ae?cs:xe?cs[Y]:(cs[Y]||{}).prototype,Qe=ae?Ci:Ci[Y]||Pi(Ci,Y,{})[Y],vt=Qe.prototype;for(x in c)y=!(f=D0(ae?x:Y+(xe?".":"#")+x,s.forced))&&je&&fn(je,x),D=Qe[x],y&&(M=s.dontCallGetSet?(Q=OO(je,x))&&Q.value:je[x]),C=y&&M?M:c[x],y&&typeof D==typeof C||(B=s.bind&&y?kO(C,cs):s.wrap&&y?xO(C):Le&&EO(C)?Kn(C):C,(s.sham||C&&C.sham||D&&D.sham)&&Pi(B,"sham",!0),Pi(Qe,x,B),Le&&(fn(Ci,w=Y+"Prototype")||Pi(Ci,w,{}),Pi(Ci[w],x,C),s.real&&vt&&(f||!vt[x])&&Pi(vt,x,C)))},TO=pe,Kh=ut,hp=sr.f;TO({target:"Object",stat:!0,forced:Object.defineProperty!==hp,sham:!Kh},{defineProperty:hp});var Jl=rr.Object,dp=P.exports=function(s,c,f){return Jl.defineProperty(s,c,f)};Jl.defineProperty.sham&&(dp.sham=!0);var N0=P.exports,Xh=N0,Qi=O(Xh),fp=gr,ha=Array.isArray||function(s){return fp(s)=="Array"},SO=Math.ceil,ui=Math.floor,Po=Math.trunc||function(s){var c=+s;return(c>0?ui:SO)(c)},hs=function(s){var c=+s;return c!=c||c===0?0:Po(c)},IO=hs,$0=Math.min,vp=function(s){return s>0?$0(IO(s),9007199254740991):0},nn=function(s){return vp(s.length)},pp=TypeError,da=function(s){if(s>9007199254740991)throw pp("Maximum allowed index exceeded");return s},CO=us,ku=sr,yp=ve,ds=function(s,c,f){var y=CO(c);y in s?ku.f(s,y,yp(0,f)):s[y]=f},at={};at[yt("toStringTag")]="z";var gp=String(at)==="[object z]",PO=gp,Zl=Ce,fa=gr,mp=yt("toStringTag"),AO=Object,DO=fa(function(){return arguments}())=="Arguments",Ao=PO?fa:function(s){var c,f,y;return s===void 0?"Undefined":s===null?"Null":typeof(f=function(w,x){try{return w[x]}catch{}}(c=AO(s),mp))=="string"?f:DO?fa(c):(y=fa(c))=="Object"&&Zl(c.callee)?"Arguments":y},Qh=Ce,bp=as,NO=rt(Function.toString);Qh(bp.inspectSource)||(bp.inspectSource=function(s){return NO(s)});var R0=bp.inspectSource,$O=rt,xu=q,Jh=Ce,Zh=Ao,RO=R0,Ji=function(){},xr=[],ec=Ct("Reflect","construct"),ed=/^\s*(?:class|function)\b/,MO=$O(ed.exec),td=!ed.exec(Ji),tc=function(s){if(!Jh(s))return!1;try{return ec(Ji,xr,s),!0}catch{return!1}},_p=function(s){if(!Jh(s))return!1;switch(Zh(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return td||!!MO(ed,RO(s))}catch{return!0}};_p.sham=!0;var rd=!ec||xu(function(){var s;return tc(tc.call)||!tc(Object)||!tc(function(){s=!0})||s})?_p:tc,wp=ha,li=rd,jO=Xe,Ep=yt("species"),rc=Array,M0=function(s){var c;return wp(s)&&(c=s.constructor,(li(c)&&(c===rc||wp(c.prototype))||jO(c)&&(c=c[Ep])===null)&&(c=void 0)),c===void 0?rc:c},nd=function(s,c){return new(M0(s))(c===0?0:c)},jr=q,Tu=Ki,FO=yt("species"),nc=function(s){return Tu>=51||!jr(function(){var c=[];return(c.constructor={})[FO]=function(){return{foo:1}},c[s](Boolean).foo!==1})},id=pe,Op=q,j0=ha,Oe=Xe,Su=nr,F0=nn,od=da,kp=ds,L0=nd,B0=nc,Zi=Ki,xp=yt("isConcatSpreadable"),z0=Zi>=51||!Op(function(){var s=[];return s[xp]=!1,s.concat()[0]!==s}),Iu=function(s){if(!Oe(s))return!1;var c=s[xp];return c!==void 0?!!c:j0(s)};id({target:"Array",proto:!0,arity:1,forced:!z0||!B0("concat")},{concat:function(s){var c,f,y,w,x,C=Su(this),D=L0(C,0),M=0;for(c=-1,y=arguments.length;c<y;c++)if(Iu(x=c===-1?C:arguments[c]))for(w=F0(x),od(M+w),f=0;f<w;f++,M++)f in x&&kp(D,M,x[f]);else od(M+1),kp(D,M++,x);return D.length=M,D}});var ic=Ao,oc=String,Do=function(s){if(ic(s)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return oc(s)},ad={},H0=hs,sd=Math.max,LO=Math.min,ud=function(s,c){var f=H0(s);return f<0?sd(f+c,0):LO(f,c)},U0=fr,fs=ud,V0=nn,ld=function(s){return function(c,f,y){var w,x=U0(c),C=V0(x),D=fs(y,C);if(s&&f!=f){for(;C>D;)if((w=x[D++])!=w)return!0}else for(;C>D;D++)if((s||D in x)&&x[D]===f)return s||D||0;return!s&&-1}},eo={includes:ld(!0),indexOf:ld(!1)},vs={},ps=Pt,W0=fr,cd=eo.indexOf,q0=vs,Tp=rt([].push),G0=function(s,c){var f,y=W0(s),w=0,x=[];for(f in y)!ps(q0,f)&&ps(y,f)&&Tp(x,f);for(;c.length>w;)ps(y,f=c[w++])&&(~cd(x,f)||Tp(x,f));return x},hd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],BO=G0,Y0=hd,ac=Object.keys||function(s){return BO(s,Y0)},K0=ut,dd=lp,X0=sr,fd=ur,zO=fr,Q0=ac;ad.f=K0&&!dd?Object.defineProperties:function(s,c){fd(s);for(var f,y=zO(c),w=Q0(c),x=w.length,C=0;x>C;)X0.f(s,f=w[C++],y[f]);return s};var va,J0=Ct("document","documentElement"),Sp=ss,vd=Yn("keys"),pd=function(s){return vd[s]||(vd[s]=Sp(s))},HO=ur,Z0=ad,sc=hd,eb=vs,to=J0,Cu=Eu,ci="prototype",uc="script",Ip=pd("IE_PROTO"),yd=function(){},tb=function(s){return"<"+uc+">"+s+"</"+uc+">"},gd=function(s){s.write(tb("")),s.close();var c=s.parentWindow.Object;return s=null,c},md=function(){try{va=new ActiveXObject("htmlfile")}catch{}var s,c,f;md=typeof document<"u"?document.domain&&va?gd(va):(c=Cu("iframe"),f="java"+uc+":",c.style.display="none",to.appendChild(c),c.src=String(f),(s=c.contentWindow.document).open(),s.write(tb("document.F=Object")),s.close(),s.F):gd(va);for(var y=sc.length;y--;)delete md[ci][sc[y]];return md()};eb[Ip]=!0;var ro=Object.create||function(s,c){var f;return s!==null?(yd[ci]=HO(s),f=new yd,yd[ci]=null,f[Ip]=s):f=md(),c===void 0?f:Z0.f(f,c)},Ai={},bd=G0,UO=hd.concat("length","prototype");Ai.f=Object.getOwnPropertyNames||function(s){return bd(s,UO)};var Cp={},rb=ud,_d=nn,wd=ds,VO=Array,WO=Math.max,Pp=function(s,c,f){for(var y=_d(s),w=rb(c,y),x=rb(f===void 0?y:f,y),C=VO(WO(x-w,0)),D=0;w<x;w++,D++)wd(C,D,s[w]);return C.length=D,C},nb=gr,lc=fr,ib=Ai.f,Ap=Pp,Ed=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Cp.f=function(s){return Ed&&nb(s)=="Window"?function(c){try{return ib(c)}catch{return Ap(Ed)}}(s):ib(lc(s))};var ys={};ys.f=Object.getOwnPropertySymbols;var ob=Dn,No=function(s,c,f,y){return y&&y.enumerable?s[c]=f:ob(s,c,f),s},Dp=sr,Pu=function(s,c,f){return Dp.f(s,c,f)},pa={},gs=yt;pa.f=gs;var ya,Au,$o,Np=rr,qO=Pt,GO=pa,YO=sr.f,br=function(s){var c=Np.Symbol||(Np.Symbol={});qO(c,s)||YO(c,s,{value:GO.f(s)})},$p=U,Rp=Ct,KO=yt,cc=No,hc=function(){var s=Rp("Symbol"),c=s&&s.prototype,f=c&&c.valueOf,y=KO("toPrimitive");c&&!c[y]&&cc(c,y,function(w){return $p(f,this)},{arity:1})},dc=Ao,XO=gp?{}.toString:function(){return"[object "+dc(this)+"]"},ab=gp,QO=sr.f,JO=Dn,sb=Pt,ZO=XO,fc=yt("toStringTag"),Ro=function(s,c,f,y){if(s){var w=f?s:s.prototype;sb(w,fc)||QO(w,fc,{configurable:!0,value:c}),y&&!ab&&JO(w,"toString",ZO)}},Mp=Ce,vc=H.WeakMap,ub=Mp(vc)&&/native code/.test(String(vc)),Od=H,lb=Xe,cb=Dn,jp=Pt,Du=as,kd=pd,ga=vs,Di="Object already initialized",ma=Od.TypeError,ek=Od.WeakMap;if(ub||Du.state){var no=Du.state||(Du.state=new ek);no.get=no.get,no.has=no.has,no.set=no.set,ya=function(s,c){if(no.has(s))throw ma(Di);return c.facade=s,no.set(s,c),c},Au=function(s){return no.get(s)||{}},$o=function(s){return no.has(s)}}else{var ba=kd("state");ga[ba]=!0,ya=function(s,c){if(jp(s,ba))throw ma(Di);return c.facade=s,cb(s,ba,c),c},Au=function(s){return jp(s,ba)?s[ba]:{}},$o=function(s){return jp(s,ba)}}var Mo={set:ya,get:Au,has:$o,enforce:function(s){return $o(s)?Au(s):ya(s,{})},getterFor:function(s){return function(c){var f;if(!lb(c)||(f=Au(c)).type!==s)throw ma("Incompatible receiver, "+s+" required");return f}}},tk=si,rk=_t,nk=nr,ik=nn,hb=nd,db=rt([].push),_a=function(s){var c=s==1,f=s==2,y=s==3,w=s==4,x=s==6,C=s==7,D=s==5||x;return function(M,B,Q,Y){for(var ae,xe,Le=nk(M),je=rk(Le),Qe=tk(B,Q),vt=ik(je),et=0,Kt=Y||hb,Nt=c?Kt(M,vt):f||C?Kt(M,0):void 0;vt>et;et++)if((D||et in je)&&(xe=Qe(ae=je[et],et,Le),s))if(c)Nt[et]=xe;else if(xe)switch(s){case 3:return!0;case 5:return ae;case 6:return et;case 2:db(Nt,ae)}else switch(s){case 4:return!1;case 7:db(Nt,ae)}return x?-1:y||w?w:Nt}},ms={forEach:_a(0),map:_a(1),filter:_a(2),some:_a(3),every:_a(4),find:_a(5),findIndex:_a(6),filterReject:_a(7)},xd=pe,Td=H,Fp=U,pc=rt,Nu=ut,Ni=ai,ok=q,Tr=Pt,yc=ir,Sd=ur,$u=fr,Lp=us,ak=Do,Ru=ve,Zt=ro,Bp=ac,Id=Ai,zp=Cp,sk=ys,gc=ft,Cd=sr,uk=ad,fb=K,Hp=No,lk=Pu,Pd=Yn,Up=vs,vb=ss,ck=yt,pb=pa,wa=br,hk=hc,yb=Ro,Vp=Mo,Ad=ms.forEach,Nn=pd("hidden"),mc="Symbol",bc="prototype",gb=Vp.set,Dd=Vp.getterFor(mc),vn=Object[bc],bs=Td.Symbol,Nd=bs&&bs[bc],mb=Td.TypeError,_c=Td.QObject,Wp=gc.f,io=Cd.f,Mu=zp.f,wc=fb.f,bb=pc([].push),oo=Pd("symbols"),on=Pd("op-symbols"),ju=Pd("wks"),Ea=!_c||!_c[bc]||!_c[bc].findChild,_s=Nu&&ok(function(){return Zt(io({},"a",{get:function(){return io(this,"a",{value:7}).a}})).a!=7})?function(s,c,f){var y=Wp(vn,c);y&&delete vn[c],io(s,c,f),y&&s!==vn&&io(vn,c,y)}:io,$d=function(s,c){var f=oo[s]=Zt(Nd);return gb(f,{type:mc,tag:s,description:c}),Nu||(f.description=c),f},ws=function(s,c,f){s===vn&&ws(on,c,f),Sd(s);var y=Lp(c);return Sd(f),Tr(oo,y)?(f.enumerable?(Tr(s,Nn)&&s[Nn][y]&&(s[Nn][y]=!1),f=Zt(f,{enumerable:Ru(0,!1)})):(Tr(s,Nn)||io(s,Nn,Ru(1,{})),s[Nn][y]=!0),_s(s,y,f)):io(s,y,f)},qp=function(s,c){Sd(s);var f=$u(c),y=Bp(f).concat(jo(f));return Ad(y,function(w){Nu&&!Fp(_b,f,w)||ws(s,w,f[w])}),s},_b=function(s){var c=Lp(s),f=Fp(wc,this,c);return!(this===vn&&Tr(oo,c)&&!Tr(on,c))&&(!(f||!Tr(this,c)||!Tr(oo,c)||Tr(this,Nn)&&this[Nn][c])||f)},wb=function(s,c){var f=$u(s),y=Lp(c);if(f!==vn||!Tr(oo,y)||Tr(on,y)){var w=Wp(f,y);return!w||!Tr(oo,y)||Tr(f,Nn)&&f[Nn][y]||(w.enumerable=!0),w}},Oa=function(s){var c=Mu($u(s)),f=[];return Ad(c,function(y){Tr(oo,y)||Tr(Up,y)||bb(f,y)}),f},jo=function(s){var c=s===vn,f=Mu(c?on:$u(s)),y=[];return Ad(f,function(w){!Tr(oo,w)||c&&!Tr(vn,w)||bb(y,oo[w])}),y};Ni||(bs=function(){if(yc(Nd,this))throw mb("Symbol is not a constructor");var s=arguments.length&&arguments[0]!==void 0?ak(arguments[0]):void 0,c=vb(s),f=function(y){this===vn&&Fp(f,on,y),Tr(this,Nn)&&Tr(this[Nn],c)&&(this[Nn][c]=!1),_s(this,c,Ru(1,y))};return Nu&&Ea&&_s(vn,c,{configurable:!0,set:f}),$d(c,s)},Hp(Nd=bs[bc],"toString",function(){return Dd(this).tag}),Hp(bs,"withoutSetter",function(s){return $d(vb(s),s)}),fb.f=_b,Cd.f=ws,uk.f=qp,gc.f=wb,Id.f=zp.f=Oa,sk.f=jo,pb.f=function(s){return $d(ck(s),s)},Nu&&lk(Nd,"description",{configurable:!0,get:function(){return Dd(this).description}})),xd({global:!0,constructor:!0,wrap:!0,forced:!Ni,sham:!Ni},{Symbol:bs}),Ad(Bp(ju),function(s){wa(s)}),xd({target:mc,stat:!0,forced:!Ni},{useSetter:function(){Ea=!0},useSimple:function(){Ea=!1}}),xd({target:"Object",stat:!0,forced:!Ni,sham:!Nu},{create:function(s,c){return c===void 0?Zt(s):qp(Zt(s),c)},defineProperty:ws,defineProperties:qp,getOwnPropertyDescriptor:wb}),xd({target:"Object",stat:!0,forced:!Ni},{getOwnPropertyNames:Oa}),hk(),yb(bs,mc),Up[Nn]=!0;var ka=ai&&!!Symbol.for&&!!Symbol.keyFor,Rd=pe,Gp=Ct,Yp=Pt,Md=Do,Es=Yn,Fu=ka,Kp=Es("string-to-symbol-registry"),Fr=Es("symbol-to-string-registry");Rd({target:"Symbol",stat:!0,forced:!Fu},{for:function(s){var c=Md(s);if(Yp(Kp,c))return Kp[c];var f=Gp("Symbol")(c);return Kp[c]=f,Fr[f]=c,f}});var dk=pe,Xp=Pt,Ec=So,Qp=Ii,fk=ka,jd=Yn("symbol-to-string-registry");dk({target:"Symbol",stat:!0,forced:!fk},{keyFor:function(s){if(!Ec(s))throw TypeError(Qp(s)+" is not a symbol");if(Xp(jd,s))return jd[s]}});var Fo=rt([].slice),Jp=ha,vk=Ce,Zp=gr,Eb=Do,ey=rt([].push),Ob=pe,ty=Ct,Fd=$e,ry=U,Oc=rt,kc=q,kb=Ce,ny=So,Ld=Fo,Os=function(s){if(vk(s))return s;if(Jp(s)){for(var c=s.length,f=[],y=0;y<c;y++){var w=s[y];typeof w=="string"?ey(f,w):typeof w!="number"&&Zp(w)!="Number"&&Zp(w)!="String"||ey(f,Eb(w))}var x=f.length,C=!0;return function(D,M){if(C)return C=!1,M;if(Jp(this))return M;for(var B=0;B<x;B++)if(f[B]===D)return M}}},pk=ai,xb=String,Lo=ty("JSON","stringify"),Bd=Oc(/./.exec),Lu=Oc("".charAt),xc=Oc("".charCodeAt),$n=Oc("".replace),zd=Oc(1 .toString),Tc=/[\uD800-\uDFFF]/g,Tb=/^[\uD800-\uDBFF]$/,iy=/^[\uDC00-\uDFFF]$/,hi=!pk||kc(function(){var s=ty("Symbol")();return Lo([s])!="[null]"||Lo({a:s})!="{}"||Lo(Object(s))!="{}"}),xa=kc(function(){return Lo("\uDF06\uD834")!=='"\\udf06\\ud834"'||Lo("\uDEAD")!=='"\\udead"'}),Bu=function(s,c){var f=Ld(arguments),y=Os(c);if(kb(y)||s!==void 0&&!ny(s))return f[1]=function(w,x){if(kb(y)&&(x=ry(y,this,xb(w),x)),!ny(x))return x},Fd(Lo,null,f)},Sb=function(s,c,f){var y=Lu(f,c-1),w=Lu(f,c+1);return Bd(Tb,s)&&!Bd(iy,w)||Bd(iy,s)&&!Bd(Tb,y)?"\\u"+zd(xc(s,0),16):s};Lo&&Ob({target:"JSON",stat:!0,arity:3,forced:hi||xa},{stringify:function(s,c,f){var y=Ld(arguments),w=Fd(hi?Bu:Lo,null,y);return xa&&typeof w=="string"?$n(w,Tc,Sb):w}});var zu=ys,oy=nr;pe({target:"Object",stat:!0,forced:!ai||q(function(){zu.f(1)})},{getOwnPropertySymbols:function(s){var c=zu.f;return c?c(oy(s)):[]}}),br("asyncIterator"),br("hasInstance"),br("isConcatSpreadable"),br("iterator"),br("match"),br("matchAll"),br("replace"),br("search"),br("species"),br("split");var Bo=hc;br("toPrimitive"),Bo();var ay=Ct,Ib=Ro;br("toStringTag"),Ib(ay("Symbol"),"Symbol"),br("unscopables"),Ro(H.JSON,"JSON",!0);var Rn,Ee,ks,yk=rr.Symbol,Ta={},Hu=ut,Hd=Pt,Sc=Function.prototype,Ud=Hu&&Object.getOwnPropertyDescriptor,Uu=Hd(Sc,"name"),Cb={EXISTS:Uu,PROPER:Uu&&function(){}.name==="something",CONFIGURABLE:Uu&&(!Hu||Hu&&Ud(Sc,"name").configurable)},zo=!q(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}),Pb=Pt,Vd=Ce,Ab=nr,Db=zo,Nb=pd("IE_PROTO"),sy=Object,$b=sy.prototype,Wd=Db?sy.getPrototypeOf:function(s){var c=Ab(s);if(Pb(c,Nb))return c[Nb];var f=c.constructor;return Vd(f)&&c instanceof f?f.prototype:c instanceof sy?$b:null},qd=q,gk=Ce,uy=Xe,mk=ro,Vu=Wd,bk=No,ly=yt("iterator"),Rb=!1;[].keys&&("next"in(ks=[].keys())?(Ee=Vu(Vu(ks)))!==Object.prototype&&(Rn=Ee):Rb=!0);var _k=!uy(Rn)||qd(function(){var s={};return Rn[ly].call(s)!==s});gk((Rn=_k?{}:mk(Rn))[ly])||bk(Rn,ly,function(){return this});var Mb={IteratorPrototype:Rn,BUGGY_SAFARI_ITERATORS:Rb},jb=Mb.IteratorPrototype,Fb=ro,Wu=ve,wk=Ro,Lb=Ta,Ek=function(){return this},cy=rt,Ok=Or,Bb=Ce,Ic=String,kk=TypeError,zb=function(s,c,f){try{return cy(Ok(Object.getOwnPropertyDescriptor(s,c)[f]))}catch{}},Cc=ur,Hb=function(s){if(typeof s=="object"||Bb(s))return s;throw kk("Can't set "+Ic(s)+" as a prototype")},qu=Object.setPrototypeOf||("__proto__"in{}?function(){var s,c=!1,f={};try{(s=zb(Object.prototype,"__proto__","set"))(f,[]),c=f instanceof Array}catch{}return function(y,w){return Cc(y),Hb(w),c?s(y,w):y.__proto__=w,y}}():void 0),Ub=pe,Vb=U,Wb=Cb,hy=function(s,c,f,y){var w=c+" Iterator";return s.prototype=Fb(jb,{next:Wu(+!y,f)}),wk(s,w,!1,!0),Lb[w]=Ek,s},xk=Wd,Tk=Ro,dy=No,Ho=Ta,Pc=Mb,qb=Wb.PROPER,Gu=Pc.BUGGY_SAFARI_ITERATORS,xs=yt("iterator"),Gb="keys",Ac="values",fy="entries",Yb=function(){return this},Gd=function(s,c,f,y,w,x,C){hy(f,c,y);var D,M,B,Q=function(vt){if(vt===w&&je)return je;if(!Gu&&vt in xe)return xe[vt];switch(vt){case Gb:case Ac:case fy:return function(){return new f(this,vt)}}return function(){return new f(this)}},Y=c+" Iterator",ae=!1,xe=s.prototype,Le=xe[xs]||xe["@@iterator"]||w&&xe[w],je=!Gu&&Le||Q(w),Qe=c=="Array"&&xe.entries||Le;if(Qe&&(D=xk(Qe.call(new s)))!==Object.prototype&&D.next&&(Tk(D,Y,!0,!0),Ho[Y]=Yb),qb&&w==Ac&&Le&&Le.name!==Ac&&(ae=!0,je=function(){return Vb(Le,this)}),w)if(M={values:Q(Ac),keys:x?je:Q(Gb),entries:Q(fy)},C)for(B in M)(Gu||ae||!(B in xe))&&dy(xe,B,M[B]);else Ub({target:c,proto:!0,forced:Gu||ae},M);return C&&xe[xs]!==je&&dy(xe,xs,je,{name:w}),Ho[c]=je,M},lr=function(s,c){return{value:s,done:c}},Sk=fr,Kb=Ta,Xb=Mo;sr.f;var Ik=Gd,vy=lr,py="Array Iterator",Ck=Xb.set,Pk=Xb.getterFor(py);Ik(Array,"Array",function(s,c){Ck(this,{type:py,target:Sk(s),index:0,kind:c})},function(){var s=Pk(this),c=s.target,f=s.kind,y=s.index++;return!c||y>=c.length?(s.target=void 0,vy(void 0,!0)):vy(f=="keys"?y:f=="values"?c[y]:[y,c[y]],!1)},"values"),Kb.Arguments=Kb.Array;var Ak={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Dk=H,Qb=Ao,Sa=Dn,ao=Ta,Dc=yt("toStringTag");for(var Yu in Ak){var Yd=Dk[Yu],yy=Yd&&Yd.prototype;yy&&Qb(yy)!==Dc&&Sa(yy,Dc,Yu),ao[Yu]=ao.Array}var Ts=yk;br("dispose");var Ku=Ts;br("asyncDispose");var Nk=pe,Lr=rt,Jb=Ct("Symbol"),gy=Jb.keyFor,Kd=Lr(Jb.prototype.valueOf);Nk({target:"Symbol",stat:!0},{isRegistered:function(s){try{return gy(Kd(s))!==void 0}catch{return!1}}});for(var my=pe,$k=Yn,Xd=Ct,Nc=rt,Ss=So,by=yt,$c=Xd("Symbol"),_y=$c.isWellKnown,wy=Xd("Object","getOwnPropertyNames"),Qd=Nc($c.prototype.valueOf),Zb=$k("wks"),Jd=0,Ey=wy($c),Rk=Ey.length;Jd<Rk;Jd++)try{var Rc=Ey[Jd];Ss($c[Rc])&&by(Rc)}catch{}my({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(s){if(_y&&_y(s))return!0;try{for(var c=Qd(s),f=0,y=wy(Zb),w=y.length;f<w;f++)if(Zb[y[f]]==c)return!0}catch{}return!1}}),br("matcher"),br("metadataKey"),br("observable"),br("metadata"),br("patternMatch"),br("replaceAll");var Zd=Ku,Is=O(Zd),Oy=rt,Mk=hs,jk=Do,e_=Ti,ky=Oy("".charAt),xy=Oy("".charCodeAt),Cs=Oy("".slice),pn=function(s){return function(c,f){var y,w,x=jk(e_(c)),C=Mk(f),D=x.length;return C<0||C>=D?s?"":void 0:(y=xy(x,C))<55296||y>56319||C+1===D||(w=xy(x,C+1))<56320||w>57343?s?ky(x,C):y:s?Cs(x,C,C+2):w-56320+(y-55296<<10)+65536}},ef={codeAt:pn(!1),charAt:pn(!0)}.charAt,Mc=Do,t_=Mo,Ty=Gd,di=lr,Ia="String Iterator",Xu=t_.set,r_=t_.getterFor(Ia);Ty(String,"String",function(s){Xu(this,{type:Ia,string:Mc(s),index:0})},function(){var s,c=r_(this),f=c.string,y=c.index;return y>=f.length?di(void 0,!0):(s=ef(f,y),c.index+=s.length,di(s,!1))});var so=pa.f("iterator"),Qu=so,tf=O(Qu);function pr(s){return pr=typeof Is=="function"&&typeof tf=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Is=="function"&&c.constructor===Is&&c!==Is.prototype?"symbol":typeof c},pr(s)}var Sy=O(pa.f("toPrimitive"));function n_(s){var c=function(f,y){if(pr(f)!=="object"||f===null)return f;var w=f[Sy];if(w!==void 0){var x=w.call(f,y||"default");if(pr(x)!=="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(f)}(s,"string");return pr(c)==="symbol"?c:String(c)}function Iy(s,c){for(var f=0;f<c.length;f++){var y=c[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Qi(s,n_(y.key),y)}}function yn(s,c,f){return c&&Iy(s.prototype,c),f&&Iy(s,f),Qi(s,"prototype",{writable:!1}),s}function At(s,c,f){return(c=n_(c))in s?Qi(s,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):s[c]=f,s}var i_=rt,Cy=Or,o_=Xe,Py=Pt,rf=Fo,nf=le,of=Function,a_=i_([].concat),s_=i_([].join),af={},Ay=nf?of.bind:function(s){var c=Cy(this),f=c.prototype,y=rf(arguments,1),w=function(){var x=a_(y,rf(arguments));return this instanceof w?function(C,D,M){if(!Py(af,D)){for(var B=[],Q=0;Q<D;Q++)B[Q]="a["+Q+"]";af[D]=of("C,a","return new C("+s_(B,",")+")")}return af[D](C,M)}(c,x.length,x):c.apply(s,x)};return o_(f)&&(w.prototype=f),w},Dy=Ay;pe({target:"Function",proto:!0,forced:Function.bind!==Dy},{bind:Dy});var Fk=rr,an=function(s){return Fk[s+"Prototype"]},Lk=an("Function").bind,Bk=ir,Ny=Lk,$y=Function.prototype,sf=function(s){var c=s.bind;return s===$y||Bk($y,s)&&c===$y.bind?Ny:c},Ps=O(sf),u_=Or,zk=nr,l_=_t,c_=nn,Hk=TypeError,Ju=function(s){return function(c,f,y,w){u_(f);var x=zk(c),C=l_(x),D=c_(x),M=s?D-1:0,B=s?-1:1;if(y<2)for(;;){if(M in C){w=C[M],M+=B;break}if(M+=B,s?M<0:D<=M)throw Hk("Reduce of empty array with no initial value")}for(;s?M>=0:D>M;M+=B)M in C&&(w=f(w,C[M],M,x));return w}},uf={left:Ju(!1),right:Ju(!0)},h_=q,Ca=function(s,c){var f=[][s];return!!f&&h_(function(){f.call(null,c||function(){return 1},1)})},Zu=typeof process<"u"&&gr(process)=="process",d_=uf.left;pe({target:"Array",proto:!0,forced:!Zu&&Ki>79&&Ki<83||!Ca("reduce")},{reduce:function(s){var c=arguments.length;return d_(this,s,c,c>1?arguments[1]:void 0)}});var Ry=an("Array").reduce,lf=ir,f_=Ry,cf=Array.prototype,As=O(function(s){var c=s.reduce;return s===cf||lf(cf,s)&&c===cf.reduce?f_:c}),v_=ms.filter;pe({target:"Array",proto:!0,forced:!nc("filter")},{filter:function(s){return v_(this,s,arguments.length>1?arguments[1]:void 0)}});var jc=an("Array").filter,My=ir,p_=jc,jy=Array.prototype,Br=O(function(s){var c=s.filter;return s===jy||My(jy,s)&&c===jy.filter?p_:c}),Uk=ms.map;pe({target:"Array",proto:!0,forced:!nc("map")},{map:function(s){return Uk(this,s,arguments.length>1?arguments[1]:void 0)}});var Pa=an("Array").map,hf=ir,y_=Pa,df=Array.prototype,Xn=O(function(s){var c=s.map;return s===df||hf(df,s)&&c===df.map?y_:c}),g_=ha,Fy=nn,Ly=da,ff=si,By=function(s,c,f,y,w,x,C,D){for(var M,B,Q=w,Y=0,ae=!!C&&ff(C,D);Y<y;)Y in f&&(M=ae?ae(f[Y],Y,c):f[Y],x>0&&g_(M)?(B=Fy(M),Q=By(s,c,M,B,Q,x-1)-1):(Ly(Q+1),s[Q]=M),Q++),Y++;return Q},zy=By,Vk=Or,Wk=nr,m_=nn,qk=nd;pe({target:"Array",proto:!0},{flatMap:function(s){var c,f=Wk(this),y=m_(f);return Vk(s),(c=qk(f,0)).length=zy(c,f,f,y,0,1,s,arguments.length>1?arguments[1]:void 0),c}});var Gk=an("Array").flatMap,Yk=ir,Kk=Gk,Fc=Array.prototype,Xk=O(function(s){var c=s.flatMap;return s===Fc||Yk(Fc,s)&&c===Fc.flatMap?Kk:c}),Qk=function(){function s(c,f,y){var w,x,C;g(this,s),At(this,"_source",void 0),At(this,"_transformers",void 0),At(this,"_target",void 0),At(this,"_listeners",{add:Ps(w=this._add).call(w,this),remove:Ps(x=this._remove).call(x,this),update:Ps(C=this._update).call(C,this)}),this._source=c,this._transformers=f,this._target=y}return yn(s,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(c){var f;return As(f=this._transformers).call(f,function(y,w){return w(y)},c)}},{key:"_add",value:function(c,f){f!=null&&this._target.add(this._transformItems(this._source.get(f.items)))}},{key:"_update",value:function(c,f){f!=null&&this._target.update(this._transformItems(this._source.get(f.items)))}},{key:"_remove",value:function(c,f){f!=null&&this._target.remove(this._transformItems(f.oldData))}}]),s}(),b_=function(){function s(c){g(this,s),At(this,"_source",void 0),At(this,"_transformers",[]),this._source=c}return yn(s,[{key:"filter",value:function(c){return this._transformers.push(function(f){return Br(f).call(f,c)}),this}},{key:"map",value:function(c){return this._transformers.push(function(f){return Xn(f).call(f,c)}),this}},{key:"flatMap",value:function(c){return this._transformers.push(function(f){return Xk(f).call(f,c)}),this}},{key:"to",value:function(c){return new Qk(this._source,this._transformers,c)}}]),s}(),__=U,Hy=ur,Jk=Io,vf=function(s,c,f){var y,w;Hy(s);try{if(!(y=Jk(s,"return"))){if(c==="throw")throw f;return f}y=__(y,s)}catch(x){w=!0,y=x}if(c==="throw")throw f;if(w)throw y;return Hy(y),f},Zk=ur,pf=vf,Uy=Ta,w_=yt("iterator"),E_=Array.prototype,Vy=function(s){return s!==void 0&&(Uy.Array===s||E_[w_]===s)},Wy=Ao,qy=Io,yf=Gt,Gy=Ta,O_=yt("iterator"),gf=function(s){if(!yf(s))return qy(s,O_)||qy(s,"@@iterator")||Gy[Wy(s)]},k_=U,Yy=Or,x_=ur,ex=Ii,T_=gf,S_=TypeError,Aa=function(s,c){var f=arguments.length<2?T_(s):c;if(Yy(f))return x_(k_(f,s));throw S_(ex(s)+" is not iterable")},Ky=si,Lt=U,Xy=nr,I_=function(s,c,f,y){try{return y?c(Zk(f)[0],f[1]):c(f)}catch(w){pf(s,"throw",w)}},C_=Vy,Ae=rd,P_=nn,mf=ds,tx=Aa,A_=gf,D_=Array,N_=yt("iterator"),Qy=!1;try{var $_=0,R_={next:function(){return{done:!!$_++}},return:function(){Qy=!0}};R_[N_]=function(){return this},Array.from(R_,function(){throw 2})}catch{}var Jy=function(s,c){if(!c&&!Qy)return!1;var f=!1;try{var y={};y[N_]=function(){return{next:function(){return{done:f=!0}}}},s(y)}catch{}return f},M_=function(s){var c=Xy(s),f=Ae(this),y=arguments.length,w=y>1?arguments[1]:void 0,x=w!==void 0;x&&(w=Ky(w,y>2?arguments[2]:void 0));var C,D,M,B,Q,Y,ae=A_(c),xe=0;if(!ae||this===D_&&C_(ae))for(C=P_(c),D=f?new this(C):D_(C);C>xe;xe++)Y=x?w(c[xe],xe):c[xe],mf(D,xe,Y);else for(Q=(B=tx(c,ae)).next,D=f?new this:[];!(M=Lt(Q,B)).done;xe++)Y=x?I_(B,w,[M.value,xe],!0):M.value,mf(D,xe,Y);return D.length=xe,D};pe({target:"Array",stat:!0,forced:!Jy(function(s){Array.from(s)})},{from:M_});var j_=rr.Array.from,bf=O(j_),el=O(gf),_f=O(rr.Object.getOwnPropertySymbols),F_={exports:{}},L_=pe,rx=q,B_=fr,z_=ft.f,H_=ut;L_({target:"Object",stat:!0,forced:!H_||rx(function(){z_(1)}),sham:!H_},{getOwnPropertyDescriptor:function(s,c){return z_(B_(s),c)}});var Zy=rr.Object,U_=F_.exports=function(s,c){return Zy.getOwnPropertyDescriptor(s,c)};Zy.getOwnPropertyDescriptor.sham&&(U_.sham=!0);var V_=O(F_.exports),Yr=Ct,nx=Ai,ix=ys,ox=ur,ax=rt([].concat),Lc=Yr("Reflect","ownKeys")||function(s){var c=nx.f(ox(s)),f=ix.f;return f?ax(c,f(s)):c},sx=Lc,ux=fr,lx=ft,cx=ds;pe({target:"Object",stat:!0,sham:!ut},{getOwnPropertyDescriptors:function(s){for(var c,f,y=ux(s),w=lx.f,x=sx(y),C={},D=0;x.length>D;)(f=w(y,c=x[D++]))!==void 0&&cx(C,c,f);return C}});var wf=O(rr.Object.getOwnPropertyDescriptors),W_={exports:{}},q_=pe,G_=ut,Ef=ad.f;q_({target:"Object",stat:!0,forced:Object.defineProperties!==Ef,sham:!G_},{defineProperties:Ef});var uo=rr.Object,jt=W_.exports=function(s,c){return uo.defineProperties(s,c)};uo.defineProperties.sham&&(jt.sham=!0);var yr=O(W_.exports),$i=O(N0);pe({target:"Array",stat:!0},{isArray:ha});var Uo=rr.Array.isArray,Y_=O(Uo),K_=pe,X_=ha,Of=rd,hx=Xe,kf=ud,Ar=nn,dx=fr,Q_=ds,fx=yt,J_=Fo,vx=nc("slice"),gn=fx("species"),Wt=Array,px=Math.max;K_({target:"Array",proto:!0,forced:!vx},{slice:function(s,c){var f,y,w,x=dx(this),C=Ar(x),D=kf(s,C),M=kf(c===void 0?C:c,C);if(X_(x)&&(f=x.constructor,(Of(f)&&(f===Wt||X_(f.prototype))||hx(f)&&(f=f[gn])===null)&&(f=void 0),f===Wt||f===void 0))return J_(x,D,M);for(y=new(f===void 0?Wt:f)(px(M-D,0)),w=0;D<M;D++,w++)D in x&&Q_(y,w,x[D]);return y.length=w,y}});var yx=an("Array").slice,gx=ir,eg=yx,Bc=Array.prototype,Z_=function(s){var c=s.slice;return s===Bc||gx(Bc,s)&&c===Bc.slice?eg:c},Da=Z_,mx=O(Da),Vo=O(j_);function dr(s,c){(c==null||c>s.length)&&(c=s.length);for(var f=0,y=new Array(c);f<c;f++)y[f]=s[f];return y}function ew(s,c){var f;if(s){if(typeof s=="string")return dr(s,c);var y=mx(f=Object.prototype.toString.call(s)).call(f,8,-1);return y==="Object"&&s.constructor&&(y=s.constructor.name),y==="Map"||y==="Set"?Vo(s):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?dr(s,c):void 0}}function mn(s,c){return function(f){if(Y_(f))return f}(s)||function(f,y){var w=f==null?null:Is!==void 0&&el(f)||f["@@iterator"];if(w!=null){var x,C,D,M,B=[],Q=!0,Y=!1;try{if(D=(w=w.call(f)).next,y===0){if(Object(w)!==w)return;Q=!1}else for(;!(Q=(x=D.call(w)).done)&&(B.push(x.value),B.length!==y);Q=!0);}catch(ae){Y=!0,C=ae}finally{try{if(!Q&&w.return!=null&&(M=w.return(),Object(M)!==M))return}finally{if(Y)throw C}}return B}}(s,c)||ew(s,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bn(s){return function(c){if(Y_(c))return dr(c)}(s)||function(c){if(Is!==void 0&&el(c)!=null||c["@@iterator"]!=null)return Vo(c)}(s)||ew(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Na=O(Ts),tw=an("Array").concat,tl=ir,bx=tw,Ds=Array.prototype,xf=O(function(s){var c=s.concat;return s===Ds||tl(Ds,s)&&c===Ds.concat?bx:c}),Wo=O(Z_);pe({target:"Reflect",stat:!0},{ownKeys:Lc});var rw=O(rr.Reflect.ownKeys),_n=O(Uo),_x=nr,zc=ac;pe({target:"Object",stat:!0,forced:q(function(){zc(1)})},{keys:function(s){return zc(_x(s))}});var tg=O(rr.Object.keys),wx=ms.forEach,er=Ca("forEach")?[].forEach:function(s){return wx(this,s,arguments.length>1?arguments[1]:void 0)};pe({target:"Array",proto:!0,forced:[].forEach!=er},{forEach:er});var Ex=an("Array").forEach,Ox=Ao,kx=Pt,nw=ir,rg=Ex,ng=Array.prototype,xx={DOMTokenList:!0,NodeList:!0},Tf=function(s){var c=s.forEach;return s===ng||nw(ng,s)&&c===ng.forEach||kx(xx,Ox(s))?rg:c},$a=O(Tf),Ra=pe,iw=ha,Tx=rt([].reverse),ig=[1,2];Ra({target:"Array",proto:!0,forced:String(ig)===String(ig.reverse())},{reverse:function(){return iw(this)&&(this.length=this.length),Tx(this)}});var Sx=an("Array").reverse,Ix=ir,Cx=Sx,og=Array.prototype,ow=function(s){var c=s.reverse;return s===og||Ix(og,s)&&c===og.reverse?Cx:c},ag=O(ow),Px=ut,Ax=ha,Dx=TypeError,sg=Object.getOwnPropertyDescriptor,zr=Px&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}(),aw=Ii,Nx=TypeError,sw=function(s,c){if(!delete s[c])throw Nx("Cannot delete property "+aw(c)+" of "+aw(s))},$x=pe,Rx=nr,ug=ud,Mx=hs,qo=nn,lg=zr?function(s,c){if(Ax(s)&&!sg(s,"length").writable)throw Dx("Cannot set read only .length");return s.length=c}:function(s,c){return s.length=c},jx=da,Fx=nd,Lx=ds,cg=sw,Qn=nc("splice"),Bx=Math.max,zx=Math.min;$x({target:"Array",proto:!0,forced:!Qn},{splice:function(s,c){var f,y,w,x,C,D,M=Rx(this),B=qo(M),Q=ug(s,B),Y=arguments.length;for(Y===0?f=y=0:Y===1?(f=0,y=B-Q):(f=Y-2,y=zx(Bx(Mx(c),0),B-Q)),jx(B+f-y),w=Fx(M,y),x=0;x<y;x++)(C=Q+x)in M&&Lx(w,x,M[C]);if(w.length=y,f<y){for(x=Q;x<B-y;x++)D=x+f,(C=x+y)in M?M[D]=M[C]:cg(M,D);for(x=B;x>B-y+f;x--)cg(M,x-1)}else if(f>y)for(x=B-y;x>Q;x--)D=x+f-1,(C=x+y-1)in M?M[D]=M[C]:cg(M,D);for(x=0;x<f;x++)M[x+Q]=arguments[x+2];return lg(M,B-y+f),w}});var Hx=an("Array").splice,Ux=ir,uw=Hx,Sf=Array.prototype,lw=O(function(s){var c=s.splice;return s===Sf||Ux(Sf,s)&&c===Sf.splice?uw:c}),cw=ut,Vx=rt,hw=U,Wx=q,hg=ac,dg=ys,fg=K,qx=nr,lo=_t,Ma=Object.assign,vg=Object.defineProperty,Gx=Vx([].concat),dw=!Ma||Wx(function(){if(cw&&Ma({b:1},Ma(vg({},"a",{enumerable:!0,get:function(){vg(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},c={},f=Symbol(),y="abcdefghijklmnopqrst";return s[f]=7,y.split("").forEach(function(w){c[w]=w}),Ma({},s)[f]!=7||hg(Ma({},c)).join("")!=y})?function(s,c){for(var f=qx(s),y=arguments.length,w=1,x=dg.f,C=fg.f;y>w;)for(var D,M=lo(arguments[w++]),B=x?Gx(hg(M),x(M)):hg(M),Q=B.length,Y=0;Q>Y;)D=B[Y++],cw&&!hw(C,M,D)||(f[D]=M[D]);return f}:Ma,pg=dw;pe({target:"Object",stat:!0,arity:2,forced:Object.assign!==pg},{assign:pg});var fw=O(rr.Object.assign),Yx=nr,vw=Wd,Kx=zo;pe({target:"Object",stat:!0,forced:q(function(){vw(1)}),sham:!Kx},{getPrototypeOf:function(s){return vw(Yx(s))}});var yg=rr.Object.getPrototypeOf;pe({target:"Object",stat:!0,sham:!ut},{create:ro});var pw=rr.Object,wn=function(s,c){return pw.create(s,c)},If=O(wn),gg=rr,Xx=$e;gg.JSON||(gg.JSON={stringify:JSON.stringify});var mg=function(s,c,f){return Xx(gg.JSON.stringify,null,arguments)},yw=O(mg),Qx=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",Jx=TypeError,Cf=function(s,c){if(s<c)throw Jx("Not enough arguments");return s},Pf=H,gw=$e,mw=Ce,Zx=Qx,eT=To,tT=Fo,bw=Cf,ja=Pf.Function,_w=/MSIE .\./.test(eT)||Zx&&function(){var s=Pf.Bun.version.split(".");return s.length<3||s[0]==0&&(s[1]<3||s[1]==3&&s[2]==0)}(),bg=function(s,c){var f=c?2:1;return _w?function(y,w){var x=bw(arguments.length,1)>f,C=mw(y)?y:ja(y),D=x?tT(arguments,f):[],M=x?function(){gw(C,this,D)}:C;return c?s(M,w):s(M)}:s},ww=pe,Ew=H,_g=bg(Ew.setInterval,!0);ww({global:!0,bind:!0,forced:Ew.setInterval!==_g},{setInterval:_g});var Ri=pe,Af=H,Ow=bg(Af.setTimeout,!0);Ri({global:!0,bind:!0,forced:Af.setTimeout!==Ow},{setTimeout:Ow});var rT=O(rr.setTimeout),Df={exports:{}};(function(s){function c(f){if(f)return function(y){for(var w in c.prototype)y[w]=c.prototype[w];return y}(f)}s.exports=c,c.prototype.on=c.prototype.addEventListener=function(f,y){return this._callbacks=this._callbacks||{},(this._callbacks["$"+f]=this._callbacks["$"+f]||[]).push(y),this},c.prototype.once=function(f,y){function w(){this.off(f,w),y.apply(this,arguments)}return w.fn=y,this.on(f,w),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(f,y){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var w,x=this._callbacks["$"+f];if(!x)return this;if(arguments.length==1)return delete this._callbacks["$"+f],this;for(var C=0;C<x.length;C++)if((w=x[C])===y||w.fn===y){x.splice(C,1);break}return x.length===0&&delete this._callbacks["$"+f],this},c.prototype.emit=function(f){this._callbacks=this._callbacks||{};for(var y=new Array(arguments.length-1),w=this._callbacks["$"+f],x=1;x<arguments.length;x++)y[x-1]=arguments[x];if(w){x=0;for(var C=(w=w.slice(0)).length;x<C;++x)w[x].apply(this,y)}return this},c.prototype.listeners=function(f){return this._callbacks=this._callbacks||{},this._callbacks["$"+f]||[]},c.prototype.hasListeners=function(f){return!!this.listeners(f).length}})(Df);var wg,nT=O(Df.exports);function Mi(){return Mi=Object.assign||function(s){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(s[y]=f[y])}return s},Mi.apply(this,arguments)}function fi(s,c){s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.__proto__=c}function Ns(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}wg=typeof Object.assign!="function"?function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(s),f=1;f<arguments.length;f++){var y=arguments[f];if(y!=null)for(var w in y)y.hasOwnProperty(w)&&(c[w]=y[w])}return c}:Object.assign;var Fa,Ot=wg,Eg=["","webkit","Moz","MS","ms","o"],kw=typeof document>"u"?{style:{}}:document.createElement("div"),vi=Math.round,co=Math.abs,Nf=Date.now;function $f(s,c){for(var f,y,w=c[0].toUpperCase()+c.slice(1),x=0;x<Eg.length;){if((y=(f=Eg[x])?f+w:c)in s)return y;x++}}Fa=typeof window>"u"?{}:window;var $s=$f(kw.style,"touchAction"),Og=$s!==void 0,xw="compute",kg="auto",xg="manipulation",Rs="none",Hc="pan-x",Uc="pan-y",Rf=function(){if(!Og)return!1;var s={},c=Fa.CSS&&Fa.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(f){return s[f]=!c||Fa.CSS.supports("touch-action",f)}),s}(),Tg="ontouchstart"in Fa,iT=$f(Fa,"PointerEvent")!==void 0,Mf=Tg&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),rl="touch",Sg="mouse",Tw=25,sn=1,Sr=4,En=8,Vc=1,Mn=2,Wc=4,nl=8,ji=16,ho=Mn|Wc,La=nl|ji,Sw=ho|La,Iw=["x","y"],jf=["clientX","clientY"];function pi(s,c,f){var y;if(s)if(s.forEach)s.forEach(c,f);else if(s.length!==void 0)for(y=0;y<s.length;)c.call(f,s[y],y,s),y++;else for(y in s)s.hasOwnProperty(y)&&c.call(f,s[y],y,s)}function qc(s,c){return typeof s=="function"?s.apply(c&&c[0]||void 0,c):s}function Fi(s,c){return s.indexOf(c)>-1}var yi=function(){function s(f,y){this.manager=f,this.set(y)}var c=s.prototype;return c.set=function(f){f===xw&&(f=this.compute()),Og&&this.manager.element.style&&Rf[f]&&(this.manager.element.style[$s]=f),this.actions=f.toLowerCase().trim()},c.update=function(){this.set(this.manager.options.touchAction)},c.compute=function(){var f=[];return pi(this.manager.recognizers,function(y){qc(y.options.enable,[y])&&(f=f.concat(y.getTouchAction()))}),function(y){if(Fi(y,Rs))return Rs;var w=Fi(y,Hc),x=Fi(y,Uc);return w&&x?Rs:w||x?w?Hc:Uc:Fi(y,xg)?xg:kg}(f.join(" "))},c.preventDefaults=function(f){var y=f.srcEvent,w=f.offsetDirection;if(this.manager.session.prevented)y.preventDefault();else{var x=this.actions,C=Fi(x,Rs)&&!Rf[Rs],D=Fi(x,Uc)&&!Rf[Uc],M=Fi(x,Hc)&&!Rf[Hc];if(C){var B=f.pointers.length===1,Q=f.distance<2,Y=f.deltaTime<250;if(B&&Q&&Y)return}if(!M||!D)return C||D&&w&ho||M&&w&La?this.preventSrc(y):void 0}},c.preventSrc=function(f){this.manager.session.prevented=!0,f.preventDefault()},s}();function jn(s,c){for(;s;){if(s===c)return!0;s=s.parentNode}return!1}function il(s){var c=s.length;if(c===1)return{x:vi(s[0].clientX),y:vi(s[0].clientY)};for(var f=0,y=0,w=0;w<c;)f+=s[w].clientX,y+=s[w].clientY,w++;return{x:vi(f/c),y:vi(y/c)}}function fo(s){for(var c=[],f=0;f<s.pointers.length;)c[f]={clientX:vi(s.pointers[f].clientX),clientY:vi(s.pointers[f].clientY)},f++;return{timeStamp:Nf(),pointers:c,center:il(c),deltaX:s.deltaX,deltaY:s.deltaY}}function vo(s,c,f){f||(f=Iw);var y=c[f[0]]-s[f[0]],w=c[f[1]]-s[f[1]];return Math.sqrt(y*y+w*w)}function Ff(s,c,f){f||(f=Iw);var y=c[f[0]]-s[f[0]],w=c[f[1]]-s[f[1]];return 180*Math.atan2(w,y)/Math.PI}function Ig(s,c){return s===c?Vc:co(s)>=co(c)?s<0?Mn:Wc:c<0?nl:ji}function Ms(s,c,f){return{x:c/s||0,y:f/s||0}}function js(s,c){var f=s.session,y=c.pointers,w=y.length;f.firstInput||(f.firstInput=fo(c)),w>1&&!f.firstMultiple?f.firstMultiple=fo(c):w===1&&(f.firstMultiple=!1);var x=f.firstInput,C=f.firstMultiple,D=C?C.center:x.center,M=c.center=il(y);c.timeStamp=Nf(),c.deltaTime=c.timeStamp-x.timeStamp,c.angle=Ff(D,M),c.distance=vo(D,M),function(je,Qe){var vt=Qe.center,et=je.offsetDelta||{},Kt=je.prevDelta||{},Nt=je.prevInput||{};Qe.eventType!==sn&&Nt.eventType!==Sr||(Kt=je.prevDelta={x:Nt.deltaX||0,y:Nt.deltaY||0},et=je.offsetDelta={x:vt.x,y:vt.y}),Qe.deltaX=Kt.x+(vt.x-et.x),Qe.deltaY=Kt.y+(vt.y-et.y)}(f,c),c.offsetDirection=Ig(c.deltaX,c.deltaY);var B,Q,Y=Ms(c.deltaTime,c.deltaX,c.deltaY);c.overallVelocityX=Y.x,c.overallVelocityY=Y.y,c.overallVelocity=co(Y.x)>co(Y.y)?Y.x:Y.y,c.scale=C?(B=C.pointers,vo((Q=y)[0],Q[1],jf)/vo(B[0],B[1],jf)):1,c.rotation=C?function(je,Qe){return Ff(Qe[1],Qe[0],jf)+Ff(je[1],je[0],jf)}(C.pointers,y):0,c.maxPointers=f.prevInput?c.pointers.length>f.prevInput.maxPointers?c.pointers.length:f.prevInput.maxPointers:c.pointers.length,function(je,Qe){var vt,et,Kt,Nt,cr=je.lastInterval||Qe,Vn=Qe.timeStamp-cr.timeStamp;if(Qe.eventType!==En&&(Vn>Tw||cr.velocity===void 0)){var Vr=Qe.deltaX-cr.deltaX,Jr=Qe.deltaY-cr.deltaY,ln=Ms(Vn,Vr,Jr);et=ln.x,Kt=ln.y,vt=co(ln.x)>co(ln.y)?ln.x:ln.y,Nt=Ig(Vr,Jr),je.lastInterval=Qe}else vt=cr.velocity,et=cr.velocityX,Kt=cr.velocityY,Nt=cr.direction;Qe.velocity=vt,Qe.velocityX=et,Qe.velocityY=Kt,Qe.direction=Nt}(f,c);var ae,xe=s.element,Le=c.srcEvent;jn(ae=Le.composedPath?Le.composedPath()[0]:Le.path?Le.path[0]:Le.target,xe)&&(xe=ae),c.target=xe}function Cg(s,c,f){var y=f.pointers.length,w=f.changedPointers.length,x=c&sn&&y-w==0,C=c&(Sr|En)&&y-w==0;f.isFirst=!!x,f.isFinal=!!C,x&&(s.session={}),f.eventType=c,js(s,f),s.emit("hammer.input",f),s.recognize(f),s.session.prevInput=f}function Ba(s){return s.trim().split(/\s+/g)}function ol(s,c,f){pi(Ba(c),function(y){s.addEventListener(y,f,!1)})}function Fs(s,c,f){pi(Ba(c),function(y){s.removeEventListener(y,f,!1)})}function Pg(s){var c=s.ownerDocument||s;return c.defaultView||c.parentWindow||window}var Ls=function(){function s(f,y){var w=this;this.manager=f,this.callback=y,this.element=f.element,this.target=f.options.inputTarget,this.domHandler=function(x){qc(f.options.enable,[f])&&w.handler(x)},this.init()}var c=s.prototype;return c.handler=function(){},c.init=function(){this.evEl&&ol(this.element,this.evEl,this.domHandler),this.evTarget&&ol(this.target,this.evTarget,this.domHandler),this.evWin&&ol(Pg(this.element),this.evWin,this.domHandler)},c.destroy=function(){this.evEl&&Fs(this.element,this.evEl,this.domHandler),this.evTarget&&Fs(this.target,this.evTarget,this.domHandler),this.evWin&&Fs(Pg(this.element),this.evWin,this.domHandler)},s}();function Go(s,c,f){if(s.indexOf&&!f)return s.indexOf(c);for(var y=0;y<s.length;){if(f&&s[y][f]==c||!f&&s[y]===c)return y;y++}return-1}var Bs={pointerdown:sn,pointermove:2,pointerup:Sr,pointercancel:En,pointerout:En},Gc={2:rl,3:"pen",4:Sg,5:"kinect"},al="pointerdown",zs="pointermove pointerup pointercancel";Fa.MSPointerEvent&&!Fa.PointerEvent&&(al="MSPointerDown",zs="MSPointerMove MSPointerUp MSPointerCancel");var Ag=function(s){function c(){var f,y=c.prototype;return y.evEl=al,y.evWin=zs,(f=s.apply(this,arguments)||this).store=f.manager.session.pointerEvents=[],f}return fi(c,s),c.prototype.handler=function(f){var y=this.store,w=!1,x=f.type.toLowerCase().replace("ms",""),C=Bs[x],D=Gc[f.pointerType]||f.pointerType,M=D===rl,B=Go(y,f.pointerId,"pointerId");C&sn&&(f.button===0||M)?B<0&&(y.push(f),B=y.length-1):C&(Sr|En)&&(w=!0),B<0||(y[B]=f,this.callback(this.manager,C,{pointers:y,changedPointers:[f],pointerType:D,srcEvent:f}),w&&y.splice(B,1))},c}(Ls);function Yc(s){return Array.prototype.slice.call(s,0)}function Dg(s,c,f){for(var y=[],w=[],x=0;x<s.length;){var C=c?s[x][c]:s[x];Go(w,C)<0&&y.push(s[x]),w[x]=C,x++}return f&&(y=c?y.sort(function(D,M){return D[c]>M[c]}):y.sort()),y}var Kc={touchstart:sn,touchmove:2,touchend:Sr,touchcancel:En},Xc=function(s){function c(){var f;return c.prototype.evTarget="touchstart touchmove touchend touchcancel",(f=s.apply(this,arguments)||this).targetIds={},f}return fi(c,s),c.prototype.handler=function(f){var y=Kc[f.type],w=oT.call(this,f,y);w&&this.callback(this.manager,y,{pointers:w[0],changedPointers:w[1],pointerType:rl,srcEvent:f})},c}(Ls);function oT(s,c){var f,y,w=Yc(s.touches),x=this.targetIds;if(c&(2|sn)&&w.length===1)return x[w[0].identifier]=!0,[w,w];var C=Yc(s.changedTouches),D=[],M=this.target;if(y=w.filter(function(B){return jn(B.target,M)}),c===sn)for(f=0;f<y.length;)x[y[f].identifier]=!0,f++;for(f=0;f<C.length;)x[C[f].identifier]&&D.push(C[f]),c&(Sr|En)&&delete x[C[f].identifier],f++;return D.length?[Dg(y.concat(D),"identifier",!0),D]:void 0}var On={mousedown:sn,mousemove:2,mouseup:Sr},_r=function(s){function c(){var f,y=c.prototype;return y.evEl="mousedown",y.evWin="mousemove mouseup",(f=s.apply(this,arguments)||this).pressed=!1,f}return fi(c,s),c.prototype.handler=function(f){var y=On[f.type];y&sn&&f.button===0&&(this.pressed=!0),2&y&&f.which!==1&&(y=Sr),this.pressed&&(y&Sr&&(this.pressed=!1),this.callback(this.manager,y,{pointers:[f],changedPointers:[f],pointerType:Sg,srcEvent:f}))},c}(Ls),Fn=2500;function Qc(s){var c=s.changedPointers[0];if(c.identifier===this.primaryTouch){var f={x:c.clientX,y:c.clientY},y=this.lastTouches;this.lastTouches.push(f),setTimeout(function(){var w=y.indexOf(f);w>-1&&y.splice(w,1)},Fn)}}function Jc(s,c){s&sn?(this.primaryTouch=c.changedPointers[0].identifier,Qc.call(this,c)):s&(Sr|En)&&Qc.call(this,c)}function sl(s){for(var c=s.srcEvent.clientX,f=s.srcEvent.clientY,y=0;y<this.lastTouches.length;y++){var w=this.lastTouches[y],x=Math.abs(c-w.x),C=Math.abs(f-w.y);if(x<=25&&C<=25)return!0}return!1}var Hs=function(){return function(s){function c(f,y){var w;return(w=s.call(this,f,y)||this).handler=function(x,C,D){var M=D.pointerType===rl,B=D.pointerType===Sg;if(!(B&&D.sourceCapabilities&&D.sourceCapabilities.firesTouchEvents)){if(M)Jc.call(Ns(Ns(w)),C,D);else if(B&&sl.call(Ns(Ns(w)),D))return;w.callback(x,C,D)}},w.touch=new Xc(w.manager,w.handler),w.mouse=new _r(w.manager,w.handler),w.primaryTouch=null,w.lastTouches=[],w}return fi(c,s),c.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},c}(Ls)}();function Li(s,c,f){return!!Array.isArray(s)&&(pi(s,f[c],f),!0)}var Kr=32,za=1;function Zc(s,c){var f=c.manager;return f?f.get(s):s}function Lf(s){return 16&s?"cancel":8&s?"end":4&s?"move":2&s?"start":""}var Ha=function(){function s(f){f===void 0&&(f={}),this.options=Mi({enable:!0},f),this.id=za++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var c=s.prototype;return c.set=function(f){return Ot(this.options,f),this.manager&&this.manager.touchAction.update(),this},c.recognizeWith=function(f){if(Li(f,"recognizeWith",this))return this;var y=this.simultaneous;return y[(f=Zc(f,this)).id]||(y[f.id]=f,f.recognizeWith(this)),this},c.dropRecognizeWith=function(f){return Li(f,"dropRecognizeWith",this)||(f=Zc(f,this),delete this.simultaneous[f.id]),this},c.requireFailure=function(f){if(Li(f,"requireFailure",this))return this;var y=this.requireFail;return Go(y,f=Zc(f,this))===-1&&(y.push(f),f.requireFailure(this)),this},c.dropRequireFailure=function(f){if(Li(f,"dropRequireFailure",this))return this;f=Zc(f,this);var y=Go(this.requireFail,f);return y>-1&&this.requireFail.splice(y,1),this},c.hasRequireFailures=function(){return this.requireFail.length>0},c.canRecognizeWith=function(f){return!!this.simultaneous[f.id]},c.emit=function(f){var y=this,w=this.state;function x(C){y.manager.emit(C,f)}w<8&&x(y.options.event+Lf(w)),x(y.options.event),f.additionalEvent&&x(f.additionalEvent),w>=8&&x(y.options.event+Lf(w))},c.tryEmit=function(f){if(this.canEmit())return this.emit(f);this.state=Kr},c.canEmit=function(){for(var f=0;f<this.requireFail.length;){if(!(33&this.requireFail[f].state))return!1;f++}return!0},c.recognize=function(f){var y=Ot({},f);if(!qc(this.options.enable,[this,y]))return this.reset(),void(this.state=Kr);56&this.state&&(this.state=1),this.state=this.process(y),30&this.state&&this.tryEmit(y)},c.process=function(f){},c.getTouchAction=function(){},c.reset=function(){},s}(),Bi=function(s){function c(y){var w;return y===void 0&&(y={}),(w=s.call(this,Mi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},y))||this).pTime=!1,w.pCenter=!1,w._timer=null,w._input=null,w.count=0,w}fi(c,s);var f=c.prototype;return f.getTouchAction=function(){return[xg]},f.process=function(y){var w=this,x=this.options,C=y.pointers.length===x.pointers,D=y.distance<x.threshold,M=y.deltaTime<x.time;if(this.reset(),y.eventType&sn&&this.count===0)return this.failTimeout();if(D&&M&&C){if(y.eventType!==Sr)return this.failTimeout();var B=!this.pTime||y.timeStamp-this.pTime<x.interval,Q=!this.pCenter||vo(this.pCenter,y.center)<x.posThreshold;if(this.pTime=y.timeStamp,this.pCenter=y.center,Q&&B?this.count+=1:this.count=1,this._input=y,this.count%x.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){w.state=8,w.tryEmit()},x.interval),2):8}return Kr},f.failTimeout=function(){var y=this;return this._timer=setTimeout(function(){y.state=Kr},this.options.interval),Kr},f.reset=function(){clearTimeout(this._timer)},f.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},c}(Ha),Yo=function(s){function c(y){return y===void 0&&(y={}),s.call(this,Mi({pointers:1},y))||this}fi(c,s);var f=c.prototype;return f.attrTest=function(y){var w=this.options.pointers;return w===0||y.pointers.length===w},f.process=function(y){var w=this.state,x=y.eventType,C=6&w,D=this.attrTest(y);return C&&(x&En||!D)?16|w:C||D?x&Sr?8|w:2&w?4|w:2:Kr},c}(Ha);function Ua(s){return s===ji?"down":s===nl?"up":s===Mn?"left":s===Wc?"right":""}var Bf=function(s){function c(y){var w;return y===void 0&&(y={}),(w=s.call(this,Mi({event:"pan",threshold:10,pointers:1,direction:Sw},y))||this).pX=null,w.pY=null,w}fi(c,s);var f=c.prototype;return f.getTouchAction=function(){var y=this.options.direction,w=[];return y&ho&&w.push(Uc),y&La&&w.push(Hc),w},f.directionTest=function(y){var w=this.options,x=!0,C=y.distance,D=y.direction,M=y.deltaX,B=y.deltaY;return D&w.direction||(w.direction&ho?(D=M===0?Vc:M<0?Mn:Wc,x=M!==this.pX,C=Math.abs(y.deltaX)):(D=B===0?Vc:B<0?nl:ji,x=B!==this.pY,C=Math.abs(y.deltaY))),y.direction=D,x&&C>w.threshold&&D&w.direction},f.attrTest=function(y){return Yo.prototype.attrTest.call(this,y)&&(2&this.state||!(2&this.state)&&this.directionTest(y))},f.emit=function(y){this.pX=y.deltaX,this.pY=y.deltaY;var w=Ua(y.direction);w&&(y.additionalEvent=this.options.event+w),s.prototype.emit.call(this,y)},c}(Yo),zf=function(s){function c(y){return y===void 0&&(y={}),s.call(this,Mi({event:"swipe",threshold:10,velocity:.3,direction:ho|La,pointers:1},y))||this}fi(c,s);var f=c.prototype;return f.getTouchAction=function(){return Bf.prototype.getTouchAction.call(this)},f.attrTest=function(y){var w,x=this.options.direction;return x&(ho|La)?w=y.overallVelocity:x&ho?w=y.overallVelocityX:x&La&&(w=y.overallVelocityY),s.prototype.attrTest.call(this,y)&&x&y.offsetDirection&&y.distance>this.options.threshold&&y.maxPointers===this.options.pointers&&co(w)>this.options.velocity&&y.eventType&Sr},f.emit=function(y){var w=Ua(y.offsetDirection);w&&this.manager.emit(this.options.event+w,y),this.manager.emit(this.options.event,y)},c}(Yo),Ng=function(s){function c(y){return y===void 0&&(y={}),s.call(this,Mi({event:"pinch",threshold:0,pointers:2},y))||this}fi(c,s);var f=c.prototype;return f.getTouchAction=function(){return[Rs]},f.attrTest=function(y){return s.prototype.attrTest.call(this,y)&&(Math.abs(y.scale-1)>this.options.threshold||2&this.state)},f.emit=function(y){if(y.scale!==1){var w=y.scale<1?"in":"out";y.additionalEvent=this.options.event+w}s.prototype.emit.call(this,y)},c}(Yo),Hf=function(s){function c(y){return y===void 0&&(y={}),s.call(this,Mi({event:"rotate",threshold:0,pointers:2},y))||this}fi(c,s);var f=c.prototype;return f.getTouchAction=function(){return[Rs]},f.attrTest=function(y){return s.prototype.attrTest.call(this,y)&&(Math.abs(y.rotation)>this.options.threshold||2&this.state)},c}(Yo),eh=function(s){function c(y){var w;return y===void 0&&(y={}),(w=s.call(this,Mi({event:"press",pointers:1,time:251,threshold:9},y))||this)._timer=null,w._input=null,w}fi(c,s);var f=c.prototype;return f.getTouchAction=function(){return[kg]},f.process=function(y){var w=this,x=this.options,C=y.pointers.length===x.pointers,D=y.distance<x.threshold,M=y.deltaTime>x.time;if(this._input=y,!D||!C||y.eventType&(Sr|En)&&!M)this.reset();else if(y.eventType&sn)this.reset(),this._timer=setTimeout(function(){w.state=8,w.tryEmit()},x.time);else if(y.eventType&Sr)return 8;return Kr},f.reset=function(){clearTimeout(this._timer)},f.emit=function(y){this.state===8&&(y&&y.eventType&Sr?this.manager.emit(this.options.event+"up",y):(this._input.timeStamp=Nf(),this.manager.emit(this.options.event,this._input)))},c}(Ha),Uf={domEvents:!1,touchAction:xw,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},$g=[[Hf,{enable:!1}],[Ng,{enable:!1},["rotate"]],[zf,{direction:ho}],[Bf,{direction:ho},["swipe"]],[Bi],[Bi,{event:"doubletap",taps:2},["tap"]],[eh]];function Rg(s,c){var f,y=s.element;y.style&&(pi(s.options.cssProps,function(w,x){f=$f(y.style,x),c?(s.oldCssProps[f]=y.style[f],y.style[f]=w):y.style[f]=s.oldCssProps[f]||""}),c||(s.oldCssProps={}))}var Cw=function(){function s(f,y){var w,x=this;this.options=Ot({},Uf,y||{}),this.options.inputTarget=this.options.inputTarget||f,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=f,this.input=new((w=this).options.inputClass||(iT?Ag:Mf?Xc:Tg?Hs:_r))(w,Cg),this.touchAction=new yi(this,this.options.touchAction),Rg(this,!0),pi(this.options.recognizers,function(C){var D=x.add(new C[0](C[1]));C[2]&&D.recognizeWith(C[2]),C[3]&&D.requireFailure(C[3])},this)}var c=s.prototype;return c.set=function(f){return Ot(this.options,f),f.touchAction&&this.touchAction.update(),f.inputTarget&&(this.input.destroy(),this.input.target=f.inputTarget,this.input.init()),this},c.stop=function(f){this.session.stopped=f?2:1},c.recognize=function(f){var y=this.session;if(!y.stopped){var w;this.touchAction.preventDefaults(f);var x=this.recognizers,C=y.curRecognizer;(!C||C&&8&C.state)&&(y.curRecognizer=null,C=null);for(var D=0;D<x.length;)w=x[D],y.stopped===2||C&&w!==C&&!w.canRecognizeWith(C)?w.reset():w.recognize(f),!C&&14&w.state&&(y.curRecognizer=w,C=w),D++}},c.get=function(f){if(f instanceof Ha)return f;for(var y=this.recognizers,w=0;w<y.length;w++)if(y[w].options.event===f)return y[w];return null},c.add=function(f){if(Li(f,"add",this))return this;var y=this.get(f.options.event);return y&&this.remove(y),this.recognizers.push(f),f.manager=this,this.touchAction.update(),f},c.remove=function(f){if(Li(f,"remove",this))return this;var y=this.get(f);if(f){var w=this.recognizers,x=Go(w,y);x!==-1&&(w.splice(x,1),this.touchAction.update())}return this},c.on=function(f,y){if(f===void 0||y===void 0)return this;var w=this.handlers;return pi(Ba(f),function(x){w[x]=w[x]||[],w[x].push(y)}),this},c.off=function(f,y){if(f===void 0)return this;var w=this.handlers;return pi(Ba(f),function(x){y?w[x]&&w[x].splice(Go(w[x],y),1):delete w[x]}),this},c.emit=function(f,y){this.options.domEvents&&function(C,D){var M=document.createEvent("Event");M.initEvent(C,!0,!0),M.gesture=D,D.target.dispatchEvent(M)}(f,y);var w=this.handlers[f]&&this.handlers[f].slice();if(w&&w.length){y.type=f,y.preventDefault=function(){y.srcEvent.preventDefault()};for(var x=0;x<w.length;)w[x](y),x++}},c.destroy=function(){this.element&&Rg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},s}(),Pw={touchstart:sn,touchmove:2,touchend:Sr,touchcancel:En},th=function(s){function c(){var f,y=c.prototype;return y.evTarget="touchstart",y.evWin="touchstart touchmove touchend touchcancel",(f=s.apply(this,arguments)||this).started=!1,f}return fi(c,s),c.prototype.handler=function(f){var y=Pw[f.type];if(y===sn&&(this.started=!0),this.started){var w=rh.call(this,f,y);y&(Sr|En)&&w[0].length-w[1].length==0&&(this.started=!1),this.callback(this.manager,y,{pointers:w[0],changedPointers:w[1],pointerType:rl,srcEvent:f})}},c}(Ls);function rh(s,c){var f=Yc(s.touches),y=Yc(s.changedTouches);return c&(Sr|En)&&(f=Dg(f.concat(y),"identifier",!0)),[f,y]}function ul(s,c,f){var y="DEPRECATED METHOD: "+c+`
`+f+` AT 
`;return function(){var w=new Error("get-stack-trace"),x=w&&w.stack?w.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",C=window.console&&(window.console.warn||window.console.log);return C&&C.call(window.console,y,x),s.apply(this,arguments)}}var Mg=ul(function(s,c,f){for(var y=Object.keys(c),w=0;w<y.length;)(!f||f&&s[y[w]]===void 0)&&(s[y[w]]=c[y[w]]),w++;return s},"extend","Use `assign`."),ll=ul(function(s,c){return Mg(s,c,!0)},"merge","Use `assign`.");function Us(s,c,f){var y,w=c.prototype;(y=s.prototype=Object.create(w)).constructor=s,y._super=w,f&&Ot(y,f)}function jg(s,c){return function(){return s.apply(c,arguments)}}var aT=function(){var s=function(c,f){return f===void 0&&(f={}),new Cw(c,Mi({recognizers:$g.concat()},f))};return s.VERSION="2.0.17-rc",s.DIRECTION_ALL=Sw,s.DIRECTION_DOWN=ji,s.DIRECTION_LEFT=Mn,s.DIRECTION_RIGHT=Wc,s.DIRECTION_UP=nl,s.DIRECTION_HORIZONTAL=ho,s.DIRECTION_VERTICAL=La,s.DIRECTION_NONE=Vc,s.DIRECTION_DOWN=ji,s.INPUT_START=sn,s.INPUT_MOVE=2,s.INPUT_END=Sr,s.INPUT_CANCEL=En,s.STATE_POSSIBLE=1,s.STATE_BEGAN=2,s.STATE_CHANGED=4,s.STATE_ENDED=8,s.STATE_RECOGNIZED=8,s.STATE_CANCELLED=16,s.STATE_FAILED=Kr,s.Manager=Cw,s.Input=Ls,s.TouchAction=yi,s.TouchInput=Xc,s.MouseInput=_r,s.PointerEventInput=Ag,s.TouchMouseInput=Hs,s.SingleTouchInput=th,s.Recognizer=Ha,s.AttrRecognizer=Yo,s.Tap=Bi,s.Pan=Bf,s.Swipe=zf,s.Pinch=Ng,s.Rotate=Hf,s.Press=eh,s.on=ol,s.off=Fs,s.each=pi,s.merge=ll,s.extend=Mg,s.bindFn=jg,s.assign=Ot,s.inherit=Us,s.bindFn=jg,s.prefixed=$f,s.toArray=Yc,s.inArray=Go,s.uniqueArray=Dg,s.splitStr=Ba,s.boolOrFn=qc,s.hasParent=jn,s.addEventListeners=ol,s.removeEventListeners=Fs,s.defaults=Ot({},Uf,{preset:$g}),s}();function Fg(s,c){var f=Na!==void 0&&el(s)||s["@@iterator"];if(!f){if(_n(s)||(f=function(M,B){var Q;if(M){if(typeof M=="string")return Lg(M,B);var Y=Wo(Q=Object.prototype.toString.call(M)).call(Q,8,-1);if(Y==="Object"&&M.constructor&&(Y=M.constructor.name),Y==="Map"||Y==="Set")return bf(M);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return Lg(M,B)}}(s))||c&&s&&typeof s.length=="number"){f&&(s=f);var y=0,w=function(){};return{s:w,n:function(){return y>=s.length?{done:!0}:{done:!1,value:s[y++]}},e:function(M){throw M},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,C=!0,D=!1;return{s:function(){f=f.call(s)},n:function(){var M=f.next();return C=M.done,M},e:function(M){D=!0,x=M},f:function(){try{C||f.return==null||f.return()}finally{if(D)throw x}}}}function Lg(s,c){(c==null||c>s.length)&&(c=s.length);for(var f=0,y=new Array(c);f<c;f++)y[f]=s[f];return y}var nh=Na("DELETE");function cl(){var s=hl.apply(void 0,arguments);return Vf(s),s}function hl(){for(var s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];if(c.length<2)return c[0];var y;if(c.length>2)return hl.apply(void 0,xf(y=[cl(c[0],c[1])]).call(y,bn(Wo(c).call(c,2))));var w,x=c[0],C=c[1],D=Fg(rw(C));try{for(D.s();!(w=D.n()).done;){var M=w.value;Object.prototype.propertyIsEnumerable.call(C,M)&&(C[M]===nh?delete x[M]:x[M]===null||C[M]===null||pr(x[M])!=="object"||pr(C[M])!=="object"||_n(x[M])||_n(C[M])?x[M]=Bg(C[M]):x[M]=hl(x[M],C[M]))}}catch(B){D.e(B)}finally{D.f()}return x}function Bg(s){return _n(s)?Xn(s).call(s,function(c){return Bg(c)}):pr(s)==="object"&&s!==null?hl({},s):s}function Vf(s){for(var c=0,f=tg(s);c<f.length;c++){var y=f[c];s[y]===nh?delete s[y]:pr(s[y])==="object"&&s[y]!==null&&Vf(s[y])}}var sT=typeof window<"u"?window.Hammer||aT:function(){return function(){var s=function(){};return{on:s,off:s,destroy:s,emit:s,get:function(){return{set:s}}}}()};function Ko(s){var c,f=this;this._cleanupQueue=[],this.active=!1,this._dom={container:s,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){f._dom.overlay.parentNode.removeChild(f._dom.overlay)});var y=sT(this._dom.overlay);y.on("tap",Ps(c=this._onTapOverlay).call(c,this)),this._cleanupQueue.push(function(){y.destroy()});var w=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];$a(w).call(w,function(x){y.on(x,function(C){C.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(x){(function(C,D){for(;C;){if(C===D)return!0;C=C.parentNode}return!1})(x.target,s)||f.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",f._onClick)})),this._escListener=function(x){("key"in x?x.key==="Escape":x.keyCode===27)&&f.deactivate()}}nT(Ko.prototype),Ko.current=null,Ko.prototype.destroy=function(){var s,c;this.deactivate();var f,y=Fg(ag(s=lw(c=this._cleanupQueue).call(c,0)).call(s));try{for(y.s();!(f=y.n()).done;)(0,f.value)()}catch(w){y.e(w)}finally{y.f()}},Ko.prototype.activate=function(){Ko.current&&Ko.current.deactivate(),Ko.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Ko.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Ko.prototype._onTapOverlay=function(s){this.activate(),s.srcEvent.stopPropagation()};var zg=rd,uT=Ii,Aw=TypeError,Dw=function(s){if(zg(s))return s;throw Aw(uT(s)+" is not a constructor")},lT=pe,dl=$e,fl=Ay,Xo=Dw,cT=ur,ih=Xe,Nw=ro,Va=q,oh=Ct("Reflect","construct"),vl=Object.prototype,Hg=[].push,Wf=Va(function(){function s(){}return!(oh(function(){},[],s)instanceof s)}),Ug=!Va(function(){oh(function(){})}),Vg=Wf||Ug;lT({target:"Reflect",stat:!0,forced:Vg,sham:Vg},{construct:function(s,c){Xo(s),cT(c);var f=arguments.length<3?s:Xo(arguments[2]);if(Ug&&!Wf)return oh(s,c,f);if(s==f){switch(c.length){case 0:return new s;case 1:return new s(c[0]);case 2:return new s(c[0],c[1]);case 3:return new s(c[0],c[1],c[2]);case 4:return new s(c[0],c[1],c[2],c[3])}var y=[null];return dl(Hg,y,c),new(dl(fl,s,y))}var w=f.prototype,x=Nw(ih(w)?w:vl),C=dl(s,x,c);return ih(C)?C:x}});var Qo=O(rr.Reflect.construct);function Ln(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var qf=wn,$w=O(qf);pe({target:"Object",stat:!0},{setPrototypeOf:qu});var Wg=rr.Object.setPrototypeOf,Gf=O(Wg),Rw=O(sf);function qg(s,c){var f;return qg=Gf?Rw(f=Gf).call(f):function(y,w){return y.__proto__=w,y},qg(s,c)}function Mw(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=$w(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Qi(s,"prototype",{writable:!1}),c&&qg(s,c)}function Gg(s,c){if(c&&(pr(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(s)}var Yf=yg,Kf=O(Yf);function Vs(s){var c;return Vs=Gf?Rw(c=Kf).call(c):function(f){return f.__proto__||Kf(f)},Vs(s)}var Yg={exports:{}},un={exports:{}};(function(s){var c=Zd,f=Qu;function y(w){return s.exports=y=typeof c=="function"&&typeof f=="symbol"?function(x){return typeof x}:function(x){return x&&typeof c=="function"&&x.constructor===c&&x!==c.prototype?"symbol":typeof x},s.exports.__esModule=!0,s.exports.default=s.exports,y(w)}s.exports=y,s.exports.__esModule=!0,s.exports.default=s.exports})(un);var hT=un.exports,jw=Tf,Kg=Pt,Hr=Lc,Xg=ft,Bn=sr,dT=Xe,fT=Dn,Fw=Error,vT=rt("".replace),po=String(Fw("zxcasd").stack),Jo=/\n\s*at [^:]*:[^\n]*/,Lw=Jo.test(po),Ws=ve,Bw=!q(function(){var s=Error("a");return!("stack"in s)||(Object.defineProperty(s,"stack",Ws(1,7)),s.stack!==7)}),Zo=Dn,Xf=function(s,c){if(Lw&&typeof s=="string"&&!Fw.prepareStackTrace)for(;c--;)s=vT(s,Jo,"");return s},Yt=Bw,ah=Error.captureStackTrace,pT=si,kt=U,Qg=ur,gi=Ii,zw=Vy,Jg=nn,qs=ir,Qf=Aa,Xr=gf,Zg=vf,Hw=TypeError,mi=function(s,c){this.stopped=s,this.result=c},Jn=mi.prototype,Gs=function(s,c,f){var y,w,x,C,D,M,B,Q=f&&f.that,Y=!(!f||!f.AS_ENTRIES),ae=!(!f||!f.IS_RECORD),xe=!(!f||!f.IS_ITERATOR),Le=!(!f||!f.INTERRUPTED),je=pT(c,Q),Qe=function(et){return y&&Zg(y,"normal",et),new mi(!0,et)},vt=function(et){return Y?(Qg(et),Le?je(et[0],et[1],Qe):je(et[0],et[1])):Le?je(et,Qe):je(et)};if(ae)y=s.iterator;else if(xe)y=s;else{if(!(w=Xr(s)))throw Hw(gi(s)+" is not iterable");if(zw(w)){for(x=0,C=Jg(s);C>x;x++)if((D=vt(s[x]))&&qs(Jn,D))return D;return new mi(!1)}y=Qf(s,w)}for(M=ae?s.next:y.next;!(B=kt(M,y)).done;){try{D=vt(B.value)}catch(et){Zg(y,"throw",et)}if(typeof D=="object"&&D&&qs(Jn,D))return D}return new mi(!1)},Wa=Do,yT=pe,gT=ir,em=Wd,sh=qu,tm=function(s,c,f){for(var y=Hr(c),w=Bn.f,x=Xg.f,C=0;C<y.length;C++){var D=y[C];Kg(s,D)||f&&Kg(f,D)||w(s,D,x(c,D))}},Uw=ro,Ys=Dn,uh=ve,mT=function(s,c){dT(c)&&"cause"in c&&fT(s,"cause",c.cause)},bT=function(s,c,f,y){Yt&&(ah?ah(s,c):Zo(s,"stack",Xf(f,y)))},Vw=Gs,pl=function(s,c){return s===void 0?arguments.length<2?"":c:Wa(s)},_T=yt("toStringTag"),lh=Error,wT=[].push,Ks=function(s,c){var f,y=gT(Jf,this);sh?f=sh(lh(),y?em(this):Jf):(f=y?this:Uw(Jf),Ys(f,_T,"Error")),c!==void 0&&Ys(f,"message",pl(c)),bT(f,Ks,f.stack,1),arguments.length>2&&mT(f,arguments[2]);var w=[];return Vw(s,wT,{that:w}),Ys(f,"errors",w),f};sh?sh(Ks,lh):tm(Ks,lh,{name:!0});var Jf=Ks.prototype=Uw(lh.prototype,{constructor:uh(1,Ks),message:uh(1,""),name:uh(1,"AggregateError")});yT({global:!0,constructor:!0,arity:2},{AggregateError:Ks});var Xs,Ir,ch,yo,Qs=Ct,wt=Pu,Ke=ut,kn=yt("species"),Dr=function(s){var c=Qs(s);Ke&&c&&!c[kn]&&wt(c,kn,{configurable:!0,get:function(){return this}})},yl=ir,Ww=TypeError,zi=function(s,c){if(yl(c,s))return s;throw Ww("Incorrect invocation")},qw=ur,Gw=Dw,ET=Gt,Yw=yt("species"),Xt=function(s,c){var f,y=qw(s).constructor;return y===void 0||ET(f=qw(y)[Yw])?c:Gw(f)},rm=/(?:ipad|iphone|ipod).*applewebkit/i.test(To),Zn=H,nm=$e,Kw=si,gl=Ce,xn=Pt,im=q,om=J0,Xw=Fo,Zf=Eu,OT=Cf,ev=rm,kT=Zu,tv=Zn.setImmediate,am=Zn.clearImmediate,Qw=Zn.process,rv=Zn.Dispatch,xT=Zn.Function,Jw=Zn.MessageChannel,TT=Zn.String,sm=0,ml={},hh="onreadystatechange";im(function(){Xs=Zn.location});var dh=function(s){if(xn(ml,s)){var c=ml[s];delete ml[s],c()}},nv=function(s){return function(){dh(s)}},Zw=function(s){dh(s.data)},e1=function(s){Zn.postMessage(TT(s),Xs.protocol+"//"+Xs.host)};tv&&am||(tv=function(s){OT(arguments.length,1);var c=gl(s)?s:xT(s),f=Xw(arguments,1);return ml[++sm]=function(){nm(c,void 0,f)},Ir(sm),sm},am=function(s){delete ml[s]},kT?Ir=function(s){Qw.nextTick(nv(s))}:rv&&rv.now?Ir=function(s){rv.now(nv(s))}:Jw&&!ev?(yo=(ch=new Jw).port2,ch.port1.onmessage=Zw,Ir=Kw(yo.postMessage,yo)):Zn.addEventListener&&gl(Zn.postMessage)&&!Zn.importScripts&&Xs&&Xs.protocol!=="file:"&&!im(e1)?(Ir=e1,Zn.addEventListener("message",Zw,!1)):Ir=hh in Zf("script")?function(s){om.appendChild(Zf("script"))[hh]=function(){om.removeChild(this),dh(s)}}:function(s){setTimeout(nv(s),0)});var t1={set:tv,clear:am},r1=function(){this.head=null,this.tail=null};r1.prototype={add:function(s){var c={item:s,next:null},f=this.tail;f?f.next=c:this.head=c,this.tail=c},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}};var qa,um,iv,fh,ov,n1=r1,i1=/ipad|iphone|ipod/i.test(To)&&typeof Pebble<"u",ea=/web0s(?!.*chrome)/i.test(To),Ga=H,vh=si,ST=ft.f,bl=t1.set,IT=n1,lm=rm,CT=i1,PT=ea,cm=Zu,o1=Ga.MutationObserver||Ga.WebKitMutationObserver,Ya=Ga.document,hm=Ga.process,av=Ga.Promise,dm=ST(Ga,"queueMicrotask"),fm=dm&&dm.value;if(!fm){var Ka=new IT,ph=function(){var s,c;for(cm&&(s=hm.domain)&&s.exit();c=Ka.get();)try{c()}catch(f){throw Ka.head&&qa(),f}s&&s.enter()};lm||cm||PT||!o1||!Ya?!CT&&av&&av.resolve?((fh=av.resolve(void 0)).constructor=av,ov=vh(fh.then,fh),qa=function(){ov(ph)}):cm?qa=function(){hm.nextTick(ph)}:(bl=vh(bl,Ga),qa=function(){bl(ph)}):(um=!0,iv=Ya.createTextNode(""),new o1(ph).observe(iv,{characterData:!0}),qa=function(){iv.data=um=!um}),fm=function(s){Ka.head||qa(),Ka.add(s)}}var vm=fm,_l=function(s){try{return{error:!1,value:s()}}catch(c){return{error:!0,value:c}}},Js=H.Promise,sv=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",a1=!sv&&!Zu&&typeof window=="object"&&typeof document=="object",AT=H,yh=Js,DT=Ce,s1=I0,NT=R0,$T=yt,RT=a1,MT=sv,pm=Ki,u1=yh&&yh.prototype,jT=$T("species"),l1=!1,c1=DT(AT.PromiseRejectionEvent),FT=s1("Promise",function(){var s=NT(yh),c=s!==String(yh);if(!c&&pm===66||!u1.catch||!u1.finally)return!0;if(!pm||pm<51||!/native code/.test(s)){var f=new yh(function(w){w(1)}),y=function(w){w(function(){},function(){})};if((f.constructor={})[jT]=y,!(l1=f.then(function(){})instanceof y))return!0}return!c&&(RT||MT)&&!c1}),gh={CONSTRUCTOR:FT,REJECTION_EVENT:c1,SUBCLASSING:l1},Hi={},h1=Or,uv=TypeError,LT=function(s){var c,f;this.promise=new s(function(y,w){if(c!==void 0||f!==void 0)throw uv("Bad Promise constructor");c=y,f=w}),this.resolve=h1(c),this.reject=h1(f)};Hi.f=function(s){return new LT(s)};var ym,lv,d1=pe,cv=Zu,Xa=H,wl=U,BT=No,zT=Ro,HT=Dr,UT=Or,hv=Ce,gm=Xe,VT=zi,mh=Xt,mm=t1.set,dv=vm,bm=function(s,c){try{arguments.length==1?console.error(s):console.error(s,c)}catch{}},f1=_l,v1=n1,p1=Mo,El=Js,y1=gh,_m=Hi,go="Promise",wm=y1.CONSTRUCTOR,WT=y1.REJECTION_EVENT,fv=p1.getterFor(go),qT=p1.set,vv=El&&El.prototype,bh=El,Em=vv,ta=Xa.TypeError,pv=Xa.document,yv=Xa.process,Om=_m.f,GT=Om,bi=!!(pv&&pv.createEvent&&Xa.dispatchEvent),zn="unhandledrejection",Ol=function(s){var c;return!(!gm(s)||!hv(c=s.then))&&c},gv=function(s,c){var f,y,w,x=c.value,C=c.state==1,D=C?s.ok:s.fail,M=s.resolve,B=s.reject,Q=s.domain;try{D?(C||(c.rejection===2&&kl(c),c.rejection=1),D===!0?f=x:(Q&&Q.enter(),f=D(x),Q&&(Q.exit(),w=!0)),f===s.promise?B(ta("Promise-chain cycle")):(y=Ol(f))?wl(y,f,M,B):M(f)):B(x)}catch(Y){Q&&!w&&Q.exit(),B(Y)}},ra=function(s,c){s.notified||(s.notified=!0,dv(function(){for(var f,y=s.reactions;f=y.get();)gv(f,s);s.notified=!1,c&&!s.rejection&&YT(s)}))},mo=function(s,c,f){var y,w;bi?((y=pv.createEvent("Event")).promise=c,y.reason=f,y.initEvent(s,!1,!0),Xa.dispatchEvent(y)):y={promise:c,reason:f},!WT&&(w=Xa["on"+s])?w(y):s===zn&&bm("Unhandled promise rejection",f)},YT=function(s){wl(mm,Xa,function(){var c,f=s.facade,y=s.value;if(g1(s)&&(c=f1(function(){cv?yv.emit("unhandledRejection",y,f):mo(zn,f,y)}),s.rejection=cv||g1(s)?2:1,c.error))throw c.value})},g1=function(s){return s.rejection!==1&&!s.parent},kl=function(s){wl(mm,Xa,function(){var c=s.facade;cv?yv.emit("rejectionHandled",c):mo("rejectionhandled",c,s.value)})},_i=function(s,c,f){return function(y){s(c,y,f)}},Tn=function(s,c,f){s.done||(s.done=!0,f&&(s=f),s.value=c,s.state=2,ra(s,!0))},Zs=function(s,c,f){if(!s.done){s.done=!0,f&&(s=f);try{if(s.facade===c)throw ta("Promise can't be resolved itself");var y=Ol(c);y?dv(function(){var w={done:!1};try{wl(y,c,_i(Zs,w,s),_i(Tn,w,s))}catch(x){Tn(w,x,s)}}):(s.value=c,s.state=1,ra(s,!1))}catch(w){Tn({done:!1},w,s)}}};wm&&(Em=(bh=function(s){VT(this,Em),UT(s),wl(ym,this);var c=fv(this);try{s(_i(Zs,c),_i(Tn,c))}catch(f){Tn(c,f)}}).prototype,(ym=function(s){qT(this,{type:go,done:!1,notified:!1,parent:!1,reactions:new v1,rejection:!1,state:0,value:void 0})}).prototype=BT(Em,"then",function(s,c){var f=fv(this),y=Om(mh(this,bh));return f.parent=!0,y.ok=!hv(s)||s,y.fail=hv(c)&&c,y.domain=cv?yv.domain:void 0,f.state==0?f.reactions.add(y):dv(function(){gv(y,f)}),y.promise}),lv=function(){var s=new ym,c=fv(s);this.promise=s,this.resolve=_i(Zs,c),this.reject=_i(Tn,c)},_m.f=Om=function(s){return s===bh||s===void 0?new lv(s):GT(s)}),d1({global:!0,constructor:!0,wrap:!0,forced:wm},{Promise:bh}),zT(bh,go,!1,!0),HT(go);var na=Js,_h=gh.CONSTRUCTOR||!Jy(function(s){na.all(s).then(void 0,function(){})}),km=U,m1=Or,b1=Hi,wh=_l,xl=Gs;pe({target:"Promise",stat:!0,forced:_h},{all:function(s){var c=this,f=b1.f(c),y=f.resolve,w=f.reject,x=wh(function(){var C=m1(c.resolve),D=[],M=0,B=1;xl(s,function(Q){var Y=M++,ae=!1;B++,km(C,c,Q).then(function(xe){ae||(ae=!0,D[Y]=xe,--B||y(D))},w)}),--B||y(D)});return x.error&&w(x.value),f.promise}});var bo=pe,Tl=gh.CONSTRUCTOR;Js&&Js.prototype,bo({target:"Promise",proto:!0,forced:Tl,real:!0},{catch:function(s){return this.then(void 0,s)}});var Eh=U,mv=Or,KT=Hi,_1=_l,XT=Gs;pe({target:"Promise",stat:!0,forced:_h},{race:function(s){var c=this,f=KT.f(c),y=f.reject,w=_1(function(){var x=mv(c.resolve);XT(s,function(C){Eh(x,c,C).then(f.resolve,y)})});return w.error&&y(w.value),f.promise}});var bv=U,Sl=Hi;pe({target:"Promise",stat:!0,forced:gh.CONSTRUCTOR},{reject:function(s){var c=Sl.f(this);return bv(c.reject,void 0,s),c.promise}});var w1=ur,_v=Xe,E1=Hi,O1=function(s,c){if(w1(s),_v(c)&&c.constructor===s)return c;var f=E1.f(s);return(0,f.resolve)(c),f.promise},Sn=pe,eu=Js,Cr=gh.CONSTRUCTOR,Hn=O1,wv=Ct("Promise"),tu=!Cr;Sn({target:"Promise",stat:!0,forced:!0},{resolve:function(s){return Hn(tu&&this===wv?eu:this,s)}});var ru=U,Qa=Or,nu=Hi,_o=_l,iu=Gs;pe({target:"Promise",stat:!0,forced:_h},{allSettled:function(s){var c=this,f=nu.f(c),y=f.resolve,w=f.reject,x=_o(function(){var C=Qa(c.resolve),D=[],M=0,B=1;iu(s,function(Q){var Y=M++,ae=!1;B++,ru(C,c,Q).then(function(xe){ae||(ae=!0,D[Y]={status:"fulfilled",value:xe},--B||y(D))},function(xe){ae||(ae=!0,D[Y]={status:"rejected",reason:xe},--B||y(D))})}),--B||y(D)});return x.error&&w(x.value),f.promise}});var k1=U,x1=Or,Ev=Ct,Ui=Hi,Ov=_l,ou=Gs,xm="No one promise resolved";pe({target:"Promise",stat:!0,forced:_h},{any:function(s){var c=this,f=Ev("AggregateError"),y=Ui.f(c),w=y.resolve,x=y.reject,C=Ov(function(){var D=x1(c.resolve),M=[],B=0,Q=1,Y=!1;ou(s,function(ae){var xe=B++,Le=!1;Q++,k1(D,c,ae).then(function(je){Le||Y||(Y=!0,w(je))},function(je){Le||Y||(Le=!0,M[xe]=je,--Q||x(new f(M,xm)))})}),--Q||x(new f(M,xm))});return C.error&&x(C.value),y.promise}});var T1=pe,Oh=Js,Tm=q,S1=Ct,Ja=Ce,kv=Xt,Sm=O1,QT=Oh&&Oh.prototype;T1({target:"Promise",proto:!0,real:!0,forced:!!Oh&&Tm(function(){QT.finally.call({then:function(){}},function(){})})},{finally:function(s){var c=kv(this,S1("Promise")),f=Ja(s);return this.then(f?function(y){return Sm(c,s()).then(function(){return y})}:s,f?function(y){return Sm(c,s()).then(function(){throw y})}:s)}});var I1=rr.Promise,JT=Hi,Im=_l;pe({target:"Promise",stat:!0,forced:!0},{try:function(s){var c=JT.f(this),f=Im(s);return(f.error?c.reject:c.resolve)(f.value),c.promise}});var ZT=I1,C1=ow;(function(s){var c=hT.default,f=Xh,y=Zd,w=qf,x=Yf,C=jw,D=Wg,M=ZT,B=C1,Q=Da;function Y(){s.exports=Y=function(){return ae},s.exports.__esModule=!0,s.exports.default=s.exports;var ae={},xe=Object.prototype,Le=xe.hasOwnProperty,je=f||function(be,fe,Te){be[fe]=Te.value},Qe=typeof y=="function"?y:{},vt=Qe.iterator||"@@iterator",et=Qe.asyncIterator||"@@asyncIterator",Kt=Qe.toStringTag||"@@toStringTag";function Nt(be,fe,Te){return f(be,fe,{value:Te,enumerable:!0,configurable:!0,writable:!0}),be[fe]}try{Nt({},"")}catch{Nt=function(fe,Te,st){return fe[Te]=st}}function cr(be,fe,Te,st){var Je=fe&&fe.prototype instanceof Jr?fe:Jr,zt=w(Je.prototype),dt=new Oo(st||[]);return je(zt,"_invoke",{value:n0(be,Te,dt)}),zt}function Vn(be,fe,Te){try{return{type:"normal",arg:be.call(fe,Te)}}catch(st){return{type:"throw",arg:st}}}ae.wrap=cr;var Vr={};function Jr(){}function ln(){}function Wn(){}var $l={};Nt($l,vt,function(){return this});var Rl=x&&x(x(Ml([])));Rl&&Rl!==xe&&Le.call(Rl,vt)&&($l=Rl);var Wi=Wn.prototype=Jr.prototype=w($l);function r0(be){var fe;C(fe=["next","throw","return"]).call(fe,function(Te){Nt(be,Te,function(st){return this._invoke(Te,st)})})}function Vv(be,fe){function Te(Je,zt,dt,Zr){var Cn=Vn(be[Je],be,zt);if(Cn.type!=="throw"){var fu=Cn.arg,jl=fu.value;return jl&&c(jl)=="object"&&Le.call(jl,"__await")?fe.resolve(jl.__await).then(function(ns){Te("next",ns,dt,Zr)},function(ns){Te("throw",ns,dt,Zr)}):fe.resolve(jl).then(function(ns){fu.value=ns,dt(fu)},function(ns){return Te("throw",ns,dt,Zr)})}Zr(Cn.arg)}var st;je(this,"_invoke",{value:function(Je,zt){function dt(){return new fe(function(Zr,Cn){Te(Je,zt,Zr,Cn)})}return st=st?st.then(dt,dt):dt()}})}function n0(be,fe,Te){var st="suspendedStart";return function(Je,zt){if(st==="executing")throw new Error("Generator is already running");if(st==="completed"){if(Je==="throw")throw zt;return o0()}for(Te.method=Je,Te.arg=zt;;){var dt=Te.delegate;if(dt){var Zr=i0(dt,Te);if(Zr){if(Zr===Vr)continue;return Zr}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(st==="suspendedStart")throw st="completed",Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);st="executing";var Cn=Vn(be,fe,Te);if(Cn.type==="normal"){if(st=Te.done?"completed":"suspendedYield",Cn.arg===Vr)continue;return{value:Cn.arg,done:Te.done}}Cn.type==="throw"&&(st="completed",Te.method="throw",Te.arg=Cn.arg)}}}function i0(be,fe){var Te=fe.method,st=be.iterator[Te];if(st===void 0)return fe.delegate=null,Te==="throw"&&be.iterator.return&&(fe.method="return",fe.arg=void 0,i0(be,fe),fe.method==="throw")||Te!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Vr;var Je=Vn(st,be.iterator,fe.arg);if(Je.type==="throw")return fe.method="throw",fe.arg=Je.arg,fe.delegate=null,Vr;var zt=Je.arg;return zt?zt.done?(fe[be.resultName]=zt.value,fe.next=be.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=void 0),fe.delegate=null,Vr):zt:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,Vr)}function aa(be){var fe={tryLoc:be[0]};1 in be&&(fe.catchLoc=be[1]),2 in be&&(fe.finallyLoc=be[2],fe.afterLoc=be[3]),this.tryEntries.push(fe)}function du(be){var fe=be.completion||{};fe.type="normal",delete fe.arg,be.completion=fe}function Oo(be){this.tryEntries=[{tryLoc:"root"}],C(be).call(be,aa,this),this.reset(!0)}function Ml(be){if(be){var fe=be[vt];if(fe)return fe.call(be);if(typeof be.next=="function")return be;if(!isNaN(be.length)){var Te=-1,st=function Je(){for(;++Te<be.length;)if(Le.call(be,Te))return Je.value=be[Te],Je.done=!1,Je;return Je.value=void 0,Je.done=!0,Je};return st.next=st}}return{next:o0}}function o0(){return{value:void 0,done:!0}}return ln.prototype=Wn,je(Wi,"constructor",{value:Wn,configurable:!0}),je(Wn,"constructor",{value:ln,configurable:!0}),ln.displayName=Nt(Wn,Kt,"GeneratorFunction"),ae.isGeneratorFunction=function(be){var fe=typeof be=="function"&&be.constructor;return!!fe&&(fe===ln||(fe.displayName||fe.name)==="GeneratorFunction")},ae.mark=function(be){return D?D(be,Wn):(be.__proto__=Wn,Nt(be,Kt,"GeneratorFunction")),be.prototype=w(Wi),be},ae.awrap=function(be){return{__await:be}},r0(Vv.prototype),Nt(Vv.prototype,et,function(){return this}),ae.AsyncIterator=Vv,ae.async=function(be,fe,Te,st,Je){Je===void 0&&(Je=M);var zt=new Vv(cr(be,fe,Te,st),Je);return ae.isGeneratorFunction(fe)?zt:zt.next().then(function(dt){return dt.done?dt.value:zt.next()})},r0(Wi),Nt(Wi,Kt,"Generator"),Nt(Wi,vt,function(){return this}),Nt(Wi,"toString",function(){return"[object Generator]"}),ae.keys=function(be){var fe=Object(be),Te=[];for(var st in fe)Te.push(st);return B(Te).call(Te),function Je(){for(;Te.length;){var zt=Te.pop();if(zt in fe)return Je.value=zt,Je.done=!1,Je}return Je.done=!0,Je}},ae.values=Ml,Oo.prototype={constructor:Oo,reset:function(be){var fe;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,C(fe=this.tryEntries).call(fe,du),!be)for(var Te in this)Te.charAt(0)==="t"&&Le.call(this,Te)&&!isNaN(+Q(Te).call(Te,1))&&(this[Te]=void 0)},stop:function(){this.done=!0;var be=this.tryEntries[0].completion;if(be.type==="throw")throw be.arg;return this.rval},dispatchException:function(be){if(this.done)throw be;var fe=this;function Te(Cn,fu){return zt.type="throw",zt.arg=be,fe.next=Cn,fu&&(fe.method="next",fe.arg=void 0),!!fu}for(var st=this.tryEntries.length-1;st>=0;--st){var Je=this.tryEntries[st],zt=Je.completion;if(Je.tryLoc==="root")return Te("end");if(Je.tryLoc<=this.prev){var dt=Le.call(Je,"catchLoc"),Zr=Le.call(Je,"finallyLoc");if(dt&&Zr){if(this.prev<Je.catchLoc)return Te(Je.catchLoc,!0);if(this.prev<Je.finallyLoc)return Te(Je.finallyLoc)}else if(dt){if(this.prev<Je.catchLoc)return Te(Je.catchLoc,!0)}else{if(!Zr)throw new Error("try statement without catch or finally");if(this.prev<Je.finallyLoc)return Te(Je.finallyLoc)}}}},abrupt:function(be,fe){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var st=this.tryEntries[Te];if(st.tryLoc<=this.prev&&Le.call(st,"finallyLoc")&&this.prev<st.finallyLoc){var Je=st;break}}Je&&(be==="break"||be==="continue")&&Je.tryLoc<=fe&&fe<=Je.finallyLoc&&(Je=null);var zt=Je?Je.completion:{};return zt.type=be,zt.arg=fe,Je?(this.method="next",this.next=Je.finallyLoc,Vr):this.complete(zt)},complete:function(be,fe){if(be.type==="throw")throw be.arg;return be.type==="break"||be.type==="continue"?this.next=be.arg:be.type==="return"?(this.rval=this.arg=be.arg,this.method="return",this.next="end"):be.type==="normal"&&fe&&(this.next=fe),Vr},finish:function(be){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Te=this.tryEntries[fe];if(Te.finallyLoc===be)return this.complete(Te.completion,Te.afterLoc),du(Te),Vr}},catch:function(be){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Te=this.tryEntries[fe];if(Te.tryLoc===be){var st=Te.completion;if(st.type==="throw"){var Je=st.arg;du(Te)}return Je}}throw new Error("illegal catch attempt")},delegateYield:function(be,fe,Te){return this.delegate={iterator:Ml(be),resultName:fe,nextLoc:Te},this.method==="next"&&(this.arg=void 0),Vr}},ae}s.exports=Y,s.exports.__esModule=!0,s.exports.default=s.exports})(Yg);var xv=(0,Yg.exports)(),Il=xv;try{regeneratorRuntime=xv}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=xv:Function("r","regeneratorRuntime = r")(xv)}var Ur=O(Il),au={exports:{}},Tv=q(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}}),Cl=q,su=Xe,P1=gr,Cm=Tv,Pl=Object.isExtensible,ue=Cl(function(){Pl(1)})||Cm?function(s){return!!su(s)&&(!Cm||P1(s)!="ArrayBuffer")&&(!Pl||Pl(s))}:Pl,A1=!q(function(){return Object.isExtensible(Object.preventExtensions({}))}),uu=pe,kh=rt,Pm=vs,qt=Xe,Bt=Pt,D1=sr.f,Ue=Ai,lu=Cp,Am=ue,Dm=A1,N1=!1,wi=ss("meta"),$1=0,Nm=function(s){D1(s,wi,{value:{objectID:"O"+$1++,weakData:{}}})},eS=au.exports={enable:function(){eS.enable=function(){},N1=!0;var s=Ue.f,c=kh([].splice),f={};f[wi]=1,s(f).length&&(Ue.f=function(y){for(var w=s(y),x=0,C=w.length;x<C;x++)if(w[x]===wi){c(w,x,1);break}return w},uu({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:lu.f}))},fastKey:function(s,c){if(!qt(s))return typeof s=="symbol"?s:(typeof s=="string"?"S":"P")+s;if(!Bt(s,wi)){if(!Am(s))return"F";if(!c)return"E";Nm(s)}return s[wi].objectID},getWeakData:function(s,c){if(!Bt(s,wi)){if(!Am(s))return!0;if(!c)return!1;Nm(s)}return s[wi].weakData},onFreeze:function(s){return Dm&&N1&&Am(s)&&!Bt(s,wi)&&Nm(s),s}};Pm[wi]=!0;var $m=au.exports,tS=pe,ei=H,xh=$m,Ei=q,Al=Dn,Za=Gs,ia=zi,Th=Ce,wo=Xe,rS=Ro,nS=sr.f,Sv=ms.forEach,R1=ut,Sh=Mo.set,Rm=Mo.getterFor,cu=function(s,c,f){var y,w=s.indexOf("Map")!==-1,x=s.indexOf("Weak")!==-1,C=w?"set":"add",D=ei[s],M=D&&D.prototype,B={};if(R1&&Th(D)&&(x||M.forEach&&!Ei(function(){new D().entries().next()}))){var Q=(y=c(function(ae,xe){Sh(ia(ae,Q),{type:s,collection:new D}),xe!=null&&Za(xe,ae[C],{that:ae,AS_ENTRIES:w})})).prototype,Y=Rm(s);Sv(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(ae){var xe=ae=="add"||ae=="set";!(ae in M)||x&&ae=="clear"||Al(Q,ae,function(Le,je){var Qe=Y(this).collection;if(!xe&&x&&!wo(Le))return ae=="get"&&void 0;var vt=Qe[ae](Le===0?0:Le,je);return xe?this:vt})}),x||nS(Q,"size",{configurable:!0,get:function(){return Y(this).collection.size}})}else y=f.getConstructor(c,s,w,C),xh.enable();return rS(y,s,!1,!0),B[s]=y,tS({global:!0,forced:!0},B),x||f.setStrong(y,s,w),y},M1=No,Mm=ro,j1=Pu,jm=function(s,c,f){for(var y in c)f&&f.unsafe&&s[y]?s[y]=c[y]:M1(s,y,c[y],f);return s},F1=si,L1=zi,B1=Gt,z1=Gs,iS=Gd,Fm=lr,H1=Dr,Ih=ut,Lm=$m.fastKey,U1=Mo.set,Iv=Mo.getterFor,Bm={getConstructor:function(s,c,f,y){var w=s(function(B,Q){L1(B,x),U1(B,{type:c,index:Mm(null),first:void 0,last:void 0,size:0}),Ih||(B.size=0),B1(Q)||z1(Q,B[y],{that:B,AS_ENTRIES:f})}),x=w.prototype,C=Iv(c),D=function(B,Q,Y){var ae,xe,Le=C(B),je=M(B,Q);return je?je.value=Y:(Le.last=je={index:xe=Lm(Q,!0),key:Q,value:Y,previous:ae=Le.last,next:void 0,removed:!1},Le.first||(Le.first=je),ae&&(ae.next=je),Ih?Le.size++:B.size++,xe!=="F"&&(Le.index[xe]=je)),B},M=function(B,Q){var Y,ae=C(B),xe=Lm(Q);if(xe!=="F")return ae.index[xe];for(Y=ae.first;Y;Y=Y.next)if(Y.key==Q)return Y};return jm(x,{clear:function(){for(var B=C(this),Q=B.index,Y=B.first;Y;)Y.removed=!0,Y.previous&&(Y.previous=Y.previous.next=void 0),delete Q[Y.index],Y=Y.next;B.first=B.last=void 0,Ih?B.size=0:this.size=0},delete:function(B){var Q=this,Y=C(Q),ae=M(Q,B);if(ae){var xe=ae.next,Le=ae.previous;delete Y.index[ae.index],ae.removed=!0,Le&&(Le.next=xe),xe&&(xe.previous=Le),Y.first==ae&&(Y.first=xe),Y.last==ae&&(Y.last=Le),Ih?Y.size--:Q.size--}return!!ae},forEach:function(B){for(var Q,Y=C(this),ae=F1(B,arguments.length>1?arguments[1]:void 0);Q=Q?Q.next:Y.first;)for(ae(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(B){return!!M(this,B)}}),jm(x,f?{get:function(B){var Q=M(this,B);return Q&&Q.value},set:function(B,Q){return D(this,B===0?0:B,Q)}}:{add:function(B){return D(this,B=B===0?0:B,B)}}),Ih&&j1(x,"size",{configurable:!0,get:function(){return C(this).size}}),w},setStrong:function(s,c,f){var y=c+" Iterator",w=Iv(c),x=Iv(y);iS(s,c,function(C,D){U1(this,{type:y,target:C,state:w(C),kind:D,last:void 0})},function(){for(var C=x(this),D=C.kind,M=C.last;M&&M.removed;)M=M.previous;return C.target&&(C.last=M=M?M.next:C.state.first)?Fm(D=="keys"?M.key:D=="values"?M.value:[M.key,M.value],!1):(C.target=void 0,Fm(void 0,!0))},f?"entries":"values",!f,!0),H1(c)}};cu("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},Bm);var Un=O(rr.Map),oS=ms.some;pe({target:"Array",proto:!0,forced:!Ca("some")},{some:function(s){return oS(this,s,arguments.length>1?arguments[1]:void 0)}});var zm=an("Array").some,V1=ir,W1=zm,Hm=Array.prototype,q1=O(function(s){var c=s.some;return s===Hm||V1(Hm,s)&&c===Hm.some?W1:c}),aS=an("Array").keys,sS=Ao,G1=Pt,uS=ir,Um=aS,Ch=Array.prototype,Cv={DOMTokenList:!0,NodeList:!0},es=O(function(s){var c=s.keys;return s===Ch||uS(Ch,s)&&c===Ch.keys||G1(Cv,sS(s))?Um:c}),Dl=Pp,Y1=Math.floor,Pv=function(s,c){var f=s.length,y=Y1(f/2);return f<8?lS(s,c):K1(s,Pv(Dl(s,0,y),c),Pv(Dl(s,y),c),c)},lS=function(s,c){for(var f,y,w=s.length,x=1;x<w;){for(y=x,f=s[x];y&&c(s[y-1],f)>0;)s[y]=s[--y];y!==x++&&(s[y]=f)}return s},K1=function(s,c,f,y){for(var w=c.length,x=f.length,C=0,D=0;C<w||D<x;)s[C+D]=C<w&&D<x?y(c[C],f[D])<=0?c[C++]:f[D++]:C<w?c[C++]:f[D++];return s},Qt=Pv,X1=To.match(/firefox\/(\d+)/i),cS=!!X1&&+X1[1],hS=/MSIE|Trident/.test(To),Q1=To.match(/AppleWebKit\/(\d+)\./),J1=!!Q1&&+Q1[1],dS=pe,Z1=rt,Vm=Or,fS=nr,Wm=nn,vS=sw,qm=Do,Av=q,Gm=Qt,Dv=Ca,Ym=cS,eE=hS,Nv=Ki,Km=J1,Vi=[],tE=Z1(Vi.sort),rE=Z1(Vi.push),pS=Av(function(){Vi.sort(void 0)}),nE=Av(function(){Vi.sort(null)}),yS=Dv("sort"),oa=!Av(function(){if(Nv)return Nv<70;if(!(Ym&&Ym>3)){if(eE)return!0;if(Km)return Km<603;var s,c,f,y,w="";for(s=65;s<76;s++){switch(c=String.fromCharCode(s),s){case 66:case 69:case 70:case 72:f=3;break;case 68:case 71:f=4;break;default:f=2}for(y=0;y<47;y++)Vi.push({k:c+y,v:f})}for(Vi.sort(function(x,C){return C.v-x.v}),y=0;y<Vi.length;y++)c=Vi[y].k.charAt(0),w.charAt(w.length-1)!==c&&(w+=c);return w!=="DGBEFHACIJK"}});dS({target:"Array",proto:!0,forced:pS||!nE||!yS||!oa},{sort:function(s){s!==void 0&&Vm(s);var c=fS(this);if(oa)return s===void 0?tE(c):tE(c,s);var f,y,w=[],x=Wm(c);for(y=0;y<x;y++)y in c&&rE(w,c[y]);for(Gm(w,function(C){return function(D,M){return M===void 0?-1:D===void 0?1:C!==void 0?+C(D,M)||0:qm(D)>qm(M)?1:-1}}(s)),f=Wm(w),y=0;y<f;)c[y]=w[y++];for(;y<x;)vS(c,y++);return c}});var ti=an("Array").sort,iE=ir,gS=ti,$v=Array.prototype,ts=O(function(s){var c=s.sort;return s===$v||iE($v,s)&&c===$v.sort?gS:c}),mS=an("Array").values,Xm=Ao,bS=Pt,_S=ir,Qm=mS,Jm=Array.prototype,Rv={DOMTokenList:!0,NodeList:!0},oE=O(function(s){var c=s.values;return s===Jm||_S(Jm,s)&&c===Jm.values||bS(Rv,Xm(s))?Qm:c}),hu=O(so),wS=an("Array").entries,ES=Ao,OS=Pt,Mv=ir,kS=wS,jv=Array.prototype,Nr={DOMTokenList:!0,NodeList:!0},aE=O(function(s){var c=s.entries;return s===jv||Mv(jv,s)&&c===jv.entries||OS(Nr,ES(s))?kS:c});let rs,In=new Uint8Array(16);function xS(){if(!rs&&(rs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rs(In)}let Qr=[];for(let s=0;s<256;++s)Qr.push((s+256).toString(16).slice(1));var sE={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function uE(s,c,f){if(sE.randomUUID&&!c&&!s)return sE.randomUUID();let y=(s=s||{}).random||(s.rng||xS)();if(y[6]=15&y[6]|64,y[8]=63&y[8]|128,c){f=f||0;for(let w=0;w<16;++w)c[f+w]=y[w];return c}return function(w,x=0){return Qr[w[x+0]]+Qr[w[x+1]]+Qr[w[x+2]]+Qr[w[x+3]]+"-"+Qr[w[x+4]]+Qr[w[x+5]]+"-"+Qr[w[x+6]]+Qr[w[x+7]]+"-"+Qr[w[x+8]]+Qr[w[x+9]]+"-"+Qr[w[x+10]]+Qr[w[x+11]]+Qr[w[x+12]]+Qr[w[x+13]]+Qr[w[x+14]]+Qr[w[x+15]]}(y)}function Ph(s){return typeof s=="string"||typeof s=="number"}var Nl=function(){function s(c){g(this,s),At(this,"delay",void 0),At(this,"max",void 0),At(this,"_queue",[]),At(this,"_timeout",null),At(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(c)}return yn(s,[{key:"setOptions",value:function(c){c&&c.delay!==void 0&&(this.delay=c.delay),c&&c.max!==void 0&&(this.max=c.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var c=this._extended.object,f=this._extended.methods,y=0;y<f.length;y++){var w=f[y];w.original?c[w.name]=w.original:delete c[w.name]}this._extended=null}}},{key:"replace",value:function(c,f){var y=this,w=c[f];if(!w)throw new Error("Method "+f+" undefined");c[f]=function(){for(var x=arguments.length,C=new Array(x),D=0;D<x;D++)C[D]=arguments[D];y.queue({args:C,fn:w,context:this})}}},{key:"queue",value:function(c){typeof c=="function"?this._queue.push({fn:c}):this._queue.push(c),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var c=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=rT(function(){c.flush()},this.delay))}},{key:"flush",value:function(){var c,f;$a(c=lw(f=this._queue).call(f,0)).call(c,function(y){y.fn.apply(y.context||y.fn,y.args||[])})}}],[{key:"extend",value:function(c,f){var y=new s(f);if(c.flush!==void 0)throw new Error("Target object already has a property flush");c.flush=function(){y.flush()};var w=[{name:"flush",original:void 0}];if(f&&f.replace)for(var x=0;x<f.replace.length;x++){var C=f.replace[x];w.push({name:C,original:c[C]}),y.replace(c,C)}return y._extended={object:c,methods:w},y}}]),s}(),Fv=function(){function s(){g(this,s),At(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),At(this,"subscribe",s.prototype.on),At(this,"unsubscribe",s.prototype.off)}return yn(s,[{key:"_trigger",value:function(c,f,y){var w,x;if(c==="*")throw new Error("Cannot trigger event *");$a(w=xf(x=[]).call(x,bn(this._subscribers[c]),bn(this._subscribers["*"]))).call(w,function(C){C(c,f,y??null)})}},{key:"on",value:function(c,f){typeof f=="function"&&this._subscribers[c].push(f)}},{key:"off",value:function(c,f){var y;this._subscribers[c]=Br(y=this._subscribers[c]).call(y,function(w){return w!==f})}}]),s}();cu("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},Bm);var lE,Lv=O(rr.Set),Bv=O(Aa);function Eo(s,c){var f=Na!==void 0&&el(s)||s["@@iterator"];if(!f){if(_n(s)||(f=function(M,B){var Q;if(M){if(typeof M=="string")return cE(M,B);var Y=Wo(Q=Object.prototype.toString.call(M)).call(Q,8,-1);if(Y==="Object"&&M.constructor&&(Y=M.constructor.name),Y==="Map"||Y==="Set")return bf(M);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return cE(M,B)}}(s))||c&&s&&typeof s.length=="number"){f&&(s=f);var y=0,w=function(){};return{s:w,n:function(){return y>=s.length?{done:!0}:{done:!1,value:s[y++]}},e:function(M){throw M},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,C=!0,D=!1;return{s:function(){f=f.call(s)},n:function(){var M=f.next();return C=M.done,M},e:function(M){D=!0,x=M},f:function(){try{C||f.return==null||f.return()}finally{if(D)throw x}}}}function cE(s,c){(c==null||c>s.length)&&(c=s.length);for(var f=0,y=new Array(c);f<c;f++)y[f]=s[f];return y}lE=hu;var Ah=function(){function s(c){g(this,s),At(this,"_pairs",void 0),this._pairs=c}return yn(s,[{key:lE,value:Ur.mark(function c(){var f,y,w,x,C;return Ur.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:f=Eo(this._pairs),D.prev=1,f.s();case 3:if((y=f.n()).done){D.next=9;break}return w=mn(y.value,2),x=w[0],C=w[1],D.next=7,[x,C];case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),f.e(D.t0);case 14:return D.prev=14,f.f(),D.finish(14);case 17:case"end":return D.stop()}},c,this,[[1,11,14,17]])})},{key:"entries",value:Ur.mark(function c(){var f,y,w,x,C;return Ur.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:f=Eo(this._pairs),D.prev=1,f.s();case 3:if((y=f.n()).done){D.next=9;break}return w=mn(y.value,2),x=w[0],C=w[1],D.next=7,[x,C];case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),f.e(D.t0);case 14:return D.prev=14,f.f(),D.finish(14);case 17:case"end":return D.stop()}},c,this,[[1,11,14,17]])})},{key:"keys",value:Ur.mark(function c(){var f,y,w,x;return Ur.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:f=Eo(this._pairs),C.prev=1,f.s();case 3:if((y=f.n()).done){C.next=9;break}return w=mn(y.value,1),x=w[0],C.next=7,x;case 7:C.next=3;break;case 9:C.next=14;break;case 11:C.prev=11,C.t0=C.catch(1),f.e(C.t0);case 14:return C.prev=14,f.f(),C.finish(14);case 17:case"end":return C.stop()}},c,this,[[1,11,14,17]])})},{key:"values",value:Ur.mark(function c(){var f,y,w,x;return Ur.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:f=Eo(this._pairs),C.prev=1,f.s();case 3:if((y=f.n()).done){C.next=9;break}return w=mn(y.value,2),x=w[1],C.next=7,x;case 7:C.next=3;break;case 9:C.next=14;break;case 11:C.prev=11,C.t0=C.catch(1),f.e(C.t0);case 14:return C.prev=14,f.f(),C.finish(14);case 17:case"end":return C.stop()}},c,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var c;return Xn(c=bn(this._pairs)).call(c,function(f){return f[0]})}},{key:"toItemArray",value:function(){var c;return Xn(c=bn(this._pairs)).call(c,function(f){return f[1]})}},{key:"toEntryArray",value:function(){return bn(this._pairs)}},{key:"toObjectMap",value:function(){var c,f=If(null),y=Eo(this._pairs);try{for(y.s();!(c=y.n()).done;){var w=mn(c.value,2),x=w[0],C=w[1];f[x]=C}}catch(D){y.e(D)}finally{y.f()}return f}},{key:"toMap",value:function(){return new Un(this._pairs)}},{key:"toIdSet",value:function(){return new Lv(this.toIdArray())}},{key:"toItemSet",value:function(){return new Lv(this.toItemArray())}},{key:"cache",value:function(){return new s(bn(this._pairs))}},{key:"distinct",value:function(c){var f,y=new Lv,w=Eo(this._pairs);try{for(w.s();!(f=w.n()).done;){var x=mn(f.value,2),C=x[0],D=x[1];y.add(c(D,C))}}catch(M){w.e(M)}finally{w.f()}return y}},{key:"filter",value:function(c){var f=this._pairs;return new s(At({},hu,Ur.mark(function y(){var w,x,C,D,M;return Ur.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:w=Eo(f),B.prev=1,w.s();case 3:if((x=w.n()).done){B.next=10;break}if(C=mn(x.value,2),D=C[0],M=C[1],!c(M,D)){B.next=8;break}return B.next=8,[D,M];case 8:B.next=3;break;case 10:B.next=15;break;case 12:B.prev=12,B.t0=B.catch(1),w.e(B.t0);case 15:return B.prev=15,w.f(),B.finish(15);case 18:case"end":return B.stop()}},y,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(c){var f,y=Eo(this._pairs);try{for(y.s();!(f=y.n()).done;){var w=mn(f.value,2),x=w[0];c(w[1],x)}}catch(C){y.e(C)}finally{y.f()}}},{key:"map",value:function(c){var f=this._pairs;return new s(At({},hu,Ur.mark(function y(){var w,x,C,D,M;return Ur.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:w=Eo(f),B.prev=1,w.s();case 3:if((x=w.n()).done){B.next=9;break}return C=mn(x.value,2),D=C[0],M=C[1],B.next=7,[D,c(M,D)];case 7:B.next=3;break;case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(1),w.e(B.t0);case 14:return B.prev=14,w.f(),B.finish(14);case 17:case"end":return B.stop()}},y,null,[[1,11,14,17]])})))}},{key:"max",value:function(c){var f=Bv(this._pairs),y=f.next();if(y.done)return null;for(var w=y.value[1],x=c(y.value[1],y.value[0]);!(y=f.next()).done;){var C=mn(y.value,2),D=C[0],M=C[1],B=c(M,D);B>x&&(x=B,w=M)}return w}},{key:"min",value:function(c){var f=Bv(this._pairs),y=f.next();if(y.done)return null;for(var w=y.value[1],x=c(y.value[1],y.value[0]);!(y=f.next()).done;){var C=mn(y.value,2),D=C[0],M=C[1],B=c(M,D);B<x&&(x=B,w=M)}return w}},{key:"reduce",value:function(c,f){var y,w=Eo(this._pairs);try{for(w.s();!(y=w.n()).done;){var x=mn(y.value,2),C=x[0];f=c(f,x[1],C)}}catch(D){w.e(D)}finally{w.f()}return f}},{key:"sort",value:function(c){var f=this;return new s(At({},hu,function(){var y;return Bv(ts(y=bn(f._pairs)).call(y,function(w,x){var C=mn(w,2),D=C[0],M=C[1],B=mn(x,2),Q=B[0],Y=B[1];return c(M,Y,D,Q)}))}))}}]),s}();function Zm(s,c){var f=tg(s);if(_f){var y=_f(s);c&&(y=Br(y).call(y,function(w){return V_(s,w).enumerable})),f.push.apply(f,y)}return f}function ri(s){for(var c=1;c<arguments.length;c++){var f,y,w=arguments[c]!=null?arguments[c]:{};c%2?$a(f=Zm(Object(w),!0)).call(f,function(x){At(s,x,w[x])}):wf?yr(s,wf(w)):$a(y=Zm(Object(w))).call(y,function(x){$i(s,x,V_(w,x))})}return s}function zv(s,c){var f=Na!==void 0&&el(s)||s["@@iterator"];if(!f){if(_n(s)||(f=function(M,B){var Q;if(M){if(typeof M=="string")return Hv(M,B);var Y=Wo(Q=Object.prototype.toString.call(M)).call(Q,8,-1);if(Y==="Object"&&M.constructor&&(Y=M.constructor.name),Y==="Map"||Y==="Set")return bf(M);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return Hv(M,B)}}(s))||c&&s&&typeof s.length=="number"){f&&(s=f);var y=0,w=function(){};return{s:w,n:function(){return y>=s.length?{done:!0}:{done:!1,value:s[y++]}},e:function(M){throw M},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,C=!0,D=!1;return{s:function(){f=f.call(s)},n:function(){var M=f.next();return C=M.done,M},e:function(M){D=!0,x=M},f:function(){try{C||f.return==null||f.return()}finally{if(D)throw x}}}}function Hv(s,c){(c==null||c>s.length)&&(c=s.length);for(var f=0,y=new Array(c);f<c;f++)y[f]=s[f];return y}function Uv(s){var c=function(){if(typeof Reflect>"u"||!Qo||Qo.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Qo(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var f,y=Vs(s);if(c){var w=Vs(this).constructor;f=Qo(y,arguments,w)}else f=y.apply(this,arguments);return Gg(this,f)}}var hE=function(s){Mw(f,s);var c=Uv(f);function f(y,w){var x;return g(this,f),At(Ln(x=c.call(this)),"flush",void 0),At(Ln(x),"length",void 0),At(Ln(x),"_options",void 0),At(Ln(x),"_data",void 0),At(Ln(x),"_idProp",void 0),At(Ln(x),"_queue",null),y&&!_n(y)&&(w=y,y=[]),x._options=w||{},x._data=new Un,x.length=0,x._idProp=x._options.fieldId||"id",y&&y.length&&x.add(y),x.setOptions(w),x}return yn(f,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(y){y&&y.queue!==void 0&&(y.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Nl.extend(this,{replace:["add","update","remove"]})),y.queue&&pr(y.queue)==="object"&&this._queue.setOptions(y.queue)))}},{key:"add",value:function(y,w){var x,C=this,D=[];if(_n(y)){var M=Xn(y).call(y,function(Y){return Y[C._idProp]});if(q1(M).call(M,function(Y){return C._data.has(Y)}))throw new Error("A duplicate id was found in the parameter array.");for(var B=0,Q=y.length;B<Q;B++)x=this._addItem(y[B]),D.push(x)}else{if(!y||pr(y)!=="object")throw new Error("Unknown dataType");x=this._addItem(y),D.push(x)}return D.length&&this._trigger("add",{items:D},w),D}},{key:"update",value:function(y,w){var x=this,C=[],D=[],M=[],B=[],Q=this._idProp,Y=function(je){var Qe=je[Q];if(Qe!=null&&x._data.has(Qe)){var vt=je,et=fw({},x._data.get(Qe)),Kt=x._updateItem(vt);D.push(Kt),B.push(vt),M.push(et)}else{var Nt=x._addItem(je);C.push(Nt)}};if(_n(y))for(var ae=0,xe=y.length;ae<xe;ae++)y[ae]&&pr(y[ae])==="object"?Y(y[ae]):console.warn("Ignoring input item, which is not an object at index "+ae);else{if(!y||pr(y)!=="object")throw new Error("Unknown dataType");Y(y)}if(C.length&&this._trigger("add",{items:C},w),D.length){var Le={items:D,oldData:M,data:B};this._trigger("update",Le,w)}return xf(C).call(C,D)}},{key:"updateOnly",value:function(y,w){var x,C=this;_n(y)||(y=[y]);var D=Xn(x=Xn(y).call(y,function(B){var Q=C._data.get(B[C._idProp]);if(Q==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:Q,update:B}})).call(x,function(B){var Q=B.oldData,Y=B.update,ae=Q[C._idProp],xe=function(Le){for(var je,Qe=arguments.length,vt=new Array(Qe>1?Qe-1:0),et=1;et<Qe;et++)vt[et-1]=arguments[et];return cl.apply(void 0,xf(je=[{},Le]).call(je,vt))}(Q,Y);return C._data.set(ae,xe),{id:ae,oldData:Q,updatedData:xe}});if(D.length){var M={items:Xn(D).call(D,function(B){return B.id}),oldData:Xn(D).call(D,function(B){return B.oldData}),data:Xn(D).call(D,function(B){return B.updatedData})};return this._trigger("update",M,w),M.items}return[]}},{key:"get",value:function(y,w){var x=void 0,C=void 0,D=void 0;Ph(y)?(x=y,D=w):_n(y)?(C=y,D=w):D=y;var M,B=D&&D.returnType==="Object"?"Object":"Array",Q=D&&Br(D),Y=[],ae=void 0,xe=void 0,Le=void 0;if(x!=null)(ae=this._data.get(x))&&Q&&!Q(ae)&&(ae=void 0);else if(C!=null)for(var je=0,Qe=C.length;je<Qe;je++)(ae=this._data.get(C[je]))==null||Q&&!Q(ae)||Y.push(ae);else for(var vt,et=0,Kt=(xe=bn(es(vt=this._data).call(vt))).length;et<Kt;et++)Le=xe[et],(ae=this._data.get(Le))==null||Q&&!Q(ae)||Y.push(ae);if(D&&D.order&&x==null&&this._sort(Y,D.order),D&&D.fields){var Nt=D.fields;if(x!=null&&ae!=null)ae=this._filterFields(ae,Nt);else for(var cr=0,Vn=Y.length;cr<Vn;cr++)Y[cr]=this._filterFields(Y[cr],Nt)}if(B=="Object"){for(var Vr={},Jr=0,ln=Y.length;Jr<ln;Jr++){var Wn=Y[Jr];Vr[Wn[this._idProp]]=Wn}return Vr}return x!=null?(M=ae)!==null&&M!==void 0?M:null:Y}},{key:"getIds",value:function(y){var w=this._data,x=y&&Br(y),C=y&&y.order,D=bn(es(w).call(w)),M=[];if(x)if(C){for(var B=[],Q=0,Y=D.length;Q<Y;Q++){var ae=D[Q],xe=this._data.get(ae);xe!=null&&x(xe)&&B.push(xe)}this._sort(B,C);for(var Le=0,je=B.length;Le<je;Le++)M.push(B[Le][this._idProp])}else for(var Qe=0,vt=D.length;Qe<vt;Qe++){var et=D[Qe],Kt=this._data.get(et);Kt!=null&&x(Kt)&&M.push(Kt[this._idProp])}else if(C){for(var Nt=[],cr=0,Vn=D.length;cr<Vn;cr++){var Vr=D[cr];Nt.push(w.get(Vr))}this._sort(Nt,C);for(var Jr=0,ln=Nt.length;Jr<ln;Jr++)M.push(Nt[Jr][this._idProp])}else for(var Wn=0,$l=D.length;Wn<$l;Wn++){var Rl=D[Wn],Wi=w.get(Rl);Wi!=null&&M.push(Wi[this._idProp])}return M}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(y,w){var x=w&&Br(w),C=this._data,D=bn(es(C).call(C));if(w&&w.order)for(var M=this.get(w),B=0,Q=M.length;B<Q;B++){var Y=M[B];y(Y,Y[this._idProp])}else for(var ae=0,xe=D.length;ae<xe;ae++){var Le=D[ae],je=this._data.get(Le);je==null||x&&!x(je)||y(je,Le)}}},{key:"map",value:function(y,w){for(var x=w&&Br(w),C=[],D=this._data,M=bn(es(D).call(D)),B=0,Q=M.length;B<Q;B++){var Y=M[B],ae=this._data.get(Y);ae==null||x&&!x(ae)||C.push(y(ae,Y))}return w&&w.order&&this._sort(C,w.order),C}},{key:"_filterFields",value:function(y,w){var x;return y&&As(x=_n(w)?w:tg(w)).call(x,function(C,D){return C[D]=y[D],C},{})}},{key:"_sort",value:function(y,w){if(typeof w=="string"){var x=w;ts(y).call(y,function(C,D){var M=C[x],B=D[x];return M>B?1:M<B?-1:0})}else{if(typeof w!="function")throw new TypeError("Order must be a function or a string");ts(y).call(y,w)}}},{key:"remove",value:function(y,w){for(var x=[],C=[],D=_n(y)?y:[y],M=0,B=D.length;M<B;M++){var Q=this._remove(D[M]);if(Q){var Y=Q[this._idProp];Y!=null&&(x.push(Y),C.push(Q))}}return x.length&&this._trigger("remove",{items:x,oldData:C},w),x}},{key:"_remove",value:function(y){var w;if(Ph(y)?w=y:y&&pr(y)==="object"&&(w=y[this._idProp]),w!=null&&this._data.has(w)){var x=this._data.get(w)||null;return this._data.delete(w),--this.length,x}return null}},{key:"clear",value:function(y){for(var w,x=bn(es(w=this._data).call(w)),C=[],D=0,M=x.length;D<M;D++)C.push(this._data.get(x[D]));return this._data.clear(),this.length=0,this._trigger("remove",{items:x,oldData:C},y),x}},{key:"max",value:function(y){var w,x,C=null,D=null,M=zv(oE(w=this._data).call(w));try{for(M.s();!(x=M.n()).done;){var B=x.value,Q=B[y];typeof Q=="number"&&(D==null||Q>D)&&(C=B,D=Q)}}catch(Y){M.e(Y)}finally{M.f()}return C||null}},{key:"min",value:function(y){var w,x,C=null,D=null,M=zv(oE(w=this._data).call(w));try{for(M.s();!(x=M.n()).done;){var B=x.value,Q=B[y];typeof Q=="number"&&(D==null||Q<D)&&(C=B,D=Q)}}catch(Y){M.e(Y)}finally{M.f()}return C||null}},{key:"distinct",value:function(y){for(var w=this._data,x=bn(es(w).call(w)),C=[],D=0,M=0,B=x.length;M<B;M++){for(var Q=x[M],Y=w.get(Q)[y],ae=!1,xe=0;xe<D;xe++)if(C[xe]==Y){ae=!0;break}ae||Y===void 0||(C[D]=Y,D++)}return C}},{key:"_addItem",value:function(y){var w=function(C,D){return C[D]==null&&(C[D]=uE()),C}(y,this._idProp),x=w[this._idProp];if(this._data.has(x))throw new Error("Cannot add item: item with id "+x+" already exists");return this._data.set(x,w),++this.length,x}},{key:"_updateItem",value:function(y){var w=y[this._idProp];if(w==null)throw new Error("Cannot update item: item has no id (item: "+yw(y)+")");var x=this._data.get(w);if(!x)throw new Error("Cannot update item: no item with id "+w+" found");return this._data.set(w,ri(ri({},x),y)),w}},{key:"stream",value:function(y){if(y){var w=this._data;return new Ah(At({},hu,Ur.mark(function C(){var D,M,B,Q;return Ur.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:D=zv(y),Y.prev=1,D.s();case 3:if((M=D.n()).done){Y.next=11;break}if(B=M.value,(Q=w.get(B))==null){Y.next=9;break}return Y.next=9,[B,Q];case 9:Y.next=3;break;case 11:Y.next=16;break;case 13:Y.prev=13,Y.t0=Y.catch(1),D.e(Y.t0);case 16:return Y.prev=16,D.f(),Y.finish(16);case 19:case"end":return Y.stop()}},C,null,[[1,13,16,19]])})))}var x;return new Ah(At({},hu,Ps(x=aE(this._data)).call(x,this._data)))}}]),f}(Fv);function TS(s,c){var f=Na!==void 0&&el(s)||s["@@iterator"];if(!f){if(_n(s)||(f=function(M,B){var Q;if(M){if(typeof M=="string")return dE(M,B);var Y=Wo(Q=Object.prototype.toString.call(M)).call(Q,8,-1);if(Y==="Object"&&M.constructor&&(Y=M.constructor.name),Y==="Map"||Y==="Set")return bf(M);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return dE(M,B)}}(s))||c&&s&&typeof s.length=="number"){f&&(s=f);var y=0,w=function(){};return{s:w,n:function(){return y>=s.length?{done:!0}:{done:!1,value:s[y++]}},e:function(M){throw M},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,C=!0,D=!1;return{s:function(){f=f.call(s)},n:function(){var M=f.next();return C=M.done,M},e:function(M){D=!0,x=M},f:function(){try{C||f.return==null||f.return()}finally{if(D)throw x}}}}function dE(s,c){(c==null||c>s.length)&&(c=s.length);for(var f=0,y=new Array(c);f<c;f++)y[f]=s[f];return y}function e0(s){var c=function(){if(typeof Reflect>"u"||!Qo||Qo.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Qo(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var f,y=Vs(s);if(c){var w=Vs(this).constructor;f=Qo(y,arguments,w)}else f=y.apply(this,arguments);return Gg(this,f)}}var SS=function(s){Mw(f,s);var c=e0(f);function f(y,w){var x,C;return g(this,f),At(Ln(C=c.call(this)),"length",0),At(Ln(C),"_listener",void 0),At(Ln(C),"_data",void 0),At(Ln(C),"_ids",new Lv),At(Ln(C),"_options",void 0),C._options=w||{},C._listener=Ps(x=C._onEvent).call(x,Ln(C)),C.setData(y),C}return yn(f,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(y){if(this._data){this._data.off&&this._data.off("*",this._listener);var w=this._data.getIds({filter:Br(this._options)}),x=this._data.get(w);this._ids.clear(),this.length=0,this._trigger("remove",{items:w,oldData:x})}if(y!=null){this._data=y;for(var C=this._data.getIds({filter:Br(this._options)}),D=0,M=C.length;D<M;D++){var B=C[D];this._ids.add(B)}this.length=C.length,this._trigger("add",{items:C})}else this._data=new hE;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var y=this._data.getIds({filter:Br(this._options)}),w=bn(this._ids),x={},C=[],D=[],M=[],B=0,Q=y.length;B<Q;B++){var Y=y[B];x[Y]=!0,this._ids.has(Y)||(C.push(Y),this._ids.add(Y))}for(var ae=0,xe=w.length;ae<xe;ae++){var Le=w[ae],je=this._data.get(Le);je==null?console.error("If you see this, report it please."):x[Le]||(D.push(Le),M.push(je),this._ids.delete(Le))}this.length+=C.length-D.length,C.length&&this._trigger("add",{items:C}),D.length&&this._trigger("remove",{items:D,oldData:M})}},{key:"get",value:function(y,w){if(this._data==null)return null;var x,C=null;Ph(y)||_n(y)?(C=y,x=w):x=y;var D=fw({},this._options,x),M=Br(this._options),B=x&&Br(x);return M&&B&&(D.filter=function(Q){return M(Q)&&B(Q)}),C==null?this._data.get(D):this._data.get(C,D)}},{key:"getIds",value:function(y){if(this._data.length){var w,x=Br(this._options),C=y!=null?Br(y):null;return w=C?x?function(D){return x(D)&&C(D)}:C:x,this._data.getIds({filter:w,order:y&&y.order})}return[]}},{key:"forEach",value:function(y,w){if(this._data){var x,C,D=Br(this._options),M=w&&Br(w);C=M?D?function(B){return D(B)&&M(B)}:M:D,$a(x=this._data).call(x,y,{filter:C,order:w&&w.order})}}},{key:"map",value:function(y,w){if(this._data){var x,C,D=Br(this._options),M=w&&Br(w);return C=M?D?function(B){return D(B)&&M(B)}:M:D,Xn(x=this._data).call(x,y,{filter:C,order:w&&w.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(y){var w;return this._data.stream(y||At({},hu,Ps(w=es(this._ids)).call(w,this._ids)))}},{key:"dispose",value:function(){var y;(y=this._data)!==null&&y!==void 0&&y.off&&this._data.off("*",this._listener);var w,x="This data view has already been disposed of.",C={get:function(){throw new Error(x)},set:function(){throw new Error(x)},configurable:!1},D=TS(rw(f.prototype));try{for(D.s();!(w=D.n()).done;){var M=w.value;$i(this,M,C)}}catch(B){D.e(B)}finally{D.f()}}},{key:"_onEvent",value:function(y,w,x){if(w&&w.items&&this._data){var C=w.items,D=[],M=[],B=[],Q=[],Y=[],ae=[];switch(y){case"add":for(var xe=0,Le=C.length;xe<Le;xe++){var je=C[xe];this.get(je)&&(this._ids.add(je),D.push(je))}break;case"update":for(var Qe=0,vt=C.length;Qe<vt;Qe++){var et=C[Qe];this.get(et)?this._ids.has(et)?(M.push(et),Y.push(w.data[Qe]),Q.push(w.oldData[Qe])):(this._ids.add(et),D.push(et)):this._ids.has(et)&&(this._ids.delete(et),B.push(et),ae.push(w.oldData[Qe]))}break;case"remove":for(var Kt=0,Nt=C.length;Kt<Nt;Kt++){var cr=C[Kt];this._ids.has(cr)&&(this._ids.delete(cr),B.push(cr),ae.push(w.oldData[Kt]))}}this.length+=D.length-B.length,D.length&&this._trigger("add",{items:D},x),M.length&&this._trigger("update",{items:M,oldData:Q,data:Y},x),B.length&&this._trigger("remove",{items:B,oldData:ae},x)}}}]),f}(Fv);function t0(s,c){return pr(c)==="object"&&c!==null&&s===c.idProp&&typeof c.add=="function"&&typeof c.clear=="function"&&typeof c.distinct=="function"&&typeof $a(c)=="function"&&typeof c.get=="function"&&typeof c.getDataSet=="function"&&typeof c.getIds=="function"&&typeof c.length=="number"&&typeof Xn(c)=="function"&&typeof c.max=="function"&&typeof c.min=="function"&&typeof c.off=="function"&&typeof c.on=="function"&&typeof c.remove=="function"&&typeof c.setOptions=="function"&&typeof c.stream=="function"&&typeof c.update=="function"&&typeof c.updateOnly=="function"}h.DELETE=nh,h.DataSet=hE,h.DataStream=Ah,h.DataView=SS,h.Queue=Nl,h.createNewDataPipeFrom=function(s){return new b_(s)},h.isDataSetLike=t0,h.isDataViewLike=function(s,c){return pr(c)==="object"&&c!==null&&s===c.idProp&&typeof $a(c)=="function"&&typeof c.get=="function"&&typeof c.getDataSet=="function"&&typeof c.getIds=="function"&&typeof c.length=="number"&&typeof Xn(c)=="function"&&typeof c.off=="function"&&typeof c.on=="function"&&typeof c.stream=="function"&&t0(s,c.getDataSet())}})});var CD=JS(hP(),1);var VI=JSON;var GA=h=>h.toUpperCase(),YA=h=>{let g={};return h.forEach((_,O)=>{g[O]=_}),g};var KA=(h,g,_)=>h.document?h:{document:h,variables:g,requestHeaders:_,signal:void 0},XA=(h,g,_)=>h.query?h:{query:h,variables:g,requestHeaders:_,signal:void 0},QA=(h,g)=>h.documents?h:{documents:h,requestHeaders:g,signal:void 0},JA=(h,g,..._)=>{let[O,P]=_;return h.document?h:{url:h,document:g,variables:O,requestHeaders:P,signal:void 0}};function OE(h,g){if(!!!h)throw new Error(g)}function ZA(h){return typeof h=="object"&&h!==null}function eD(h,g){if(!!!h)throw new Error(g??"Unexpected invariant triggered.")}var dj=/\r\n|[\n\r]/g;function kE(h,g){let _=0,O=1;for(let P of h.body.matchAll(dj)){if(typeof P.index=="number"||eD(!1),P.index>=g)break;_=P.index+P[0].length,O+=1}return{line:O,column:g+1-_}}function dP(h){return WI(h.source,kE(h.source,h.start))}function WI(h,g){let _=h.locationOffset.column-1,O="".padStart(_)+h.body,P=g.line-1,R=h.locationOffset.line-1,H=g.line+R,q=g.line===1?_:0,le=g.column+q,ge=`${h.name}:${H}:${le}
`,ce=O.split(/\r\n|[\n\r]/g),X=ce[P];if(X.length>120){let Re=Math.floor(le/80),$e=le%80,we=[];for(let ze=0;ze<X.length;ze+=80)we.push(X.slice(ze,ze+80));return ge+tD([[`${H} |`,we[0]],...we.slice(1,Re+1).map(ze=>["|",ze]),["|","^".padStart($e)],["|",we[Re+1]]])}return ge+tD([[`${H-1} |`,ce[P-1]],[`${H} |`,X],["|","^".padStart(le)],[`${H+1} |`,ce[P+1]]])}function tD(h){let g=h.filter(([O,P])=>P!==void 0),_=Math.max(...g.map(([O])=>O.length));return g.map(([O,P])=>O.padStart(_)+(P?" "+P:"")).join(`
`)}function fj(h){let g=h[0];return g==null||"kind"in g||"length"in g?{nodes:g,source:h[1],positions:h[2],path:h[3],originalError:h[4],extensions:h[5]}:g}var qI=class h extends Error{constructor(g,..._){var O,P,R;let{nodes:H,source:q,positions:le,path:ge,originalError:ce,extensions:X}=fj(_);super(g),this.name="GraphQLError",this.path=ge??void 0,this.originalError=ce??void 0,this.nodes=rD(Array.isArray(H)?H:H?[H]:void 0);let Re=rD((O=this.nodes)===null||O===void 0?void 0:O.map(we=>we.loc).filter(we=>we!=null));this.source=q??(Re==null||(P=Re[0])===null||P===void 0?void 0:P.source),this.positions=le??Re?.map(we=>we.start),this.locations=le&&q?le.map(we=>kE(q,we)):Re?.map(we=>kE(we.source,we.start));let $e=ZA(ce?.extensions)?ce?.extensions:void 0;this.extensions=(R=X??$e)!==null&&R!==void 0?R:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),ce!=null&&ce.stack?Object.defineProperty(this,"stack",{value:ce.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,h):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let g=this.message;if(this.nodes)for(let _ of this.nodes)_.loc&&(g+=`

`+dP(_.loc));else if(this.source&&this.locations)for(let _ of this.locations)g+=`

`+WI(this.source,_);return g}toJSON(){let g={message:this.message};return this.locations!=null&&(g.locations=this.locations),this.path!=null&&(g.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(g.extensions=this.extensions),g}};function rD(h){return h===void 0||h.length===0?void 0:h}function cn(h,g,_){return new qI(`Syntax Error: ${_}`,{source:h,positions:[g]})}var ZS=class{constructor(g,_,O){this.start=g.start,this.end=_.end,this.startToken=g,this.endToken=_,this.source=O}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},xE=class{constructor(g,_,O,P,R,H){this.kind=g,this.start=_,this.end=O,this.line=P,this.column=R,this.value=H,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},fP={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},vj=new Set(Object.keys(fP));function vP(h){let g=h?.kind;return typeof g=="string"&&vj.has(g)}var Gv;(function(h){h.QUERY="query",h.MUTATION="mutation",h.SUBSCRIPTION="subscription"})(Gv||(Gv={}));var eI;(function(h){h.QUERY="QUERY",h.MUTATION="MUTATION",h.SUBSCRIPTION="SUBSCRIPTION",h.FIELD="FIELD",h.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",h.FRAGMENT_SPREAD="FRAGMENT_SPREAD",h.INLINE_FRAGMENT="INLINE_FRAGMENT",h.VARIABLE_DEFINITION="VARIABLE_DEFINITION",h.SCHEMA="SCHEMA",h.SCALAR="SCALAR",h.OBJECT="OBJECT",h.FIELD_DEFINITION="FIELD_DEFINITION",h.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",h.INTERFACE="INTERFACE",h.UNION="UNION",h.ENUM="ENUM",h.ENUM_VALUE="ENUM_VALUE",h.INPUT_OBJECT="INPUT_OBJECT",h.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(eI||(eI={}));var ct;(function(h){h.NAME="Name",h.DOCUMENT="Document",h.OPERATION_DEFINITION="OperationDefinition",h.VARIABLE_DEFINITION="VariableDefinition",h.SELECTION_SET="SelectionSet",h.FIELD="Field",h.ARGUMENT="Argument",h.FRAGMENT_SPREAD="FragmentSpread",h.INLINE_FRAGMENT="InlineFragment",h.FRAGMENT_DEFINITION="FragmentDefinition",h.VARIABLE="Variable",h.INT="IntValue",h.FLOAT="FloatValue",h.STRING="StringValue",h.BOOLEAN="BooleanValue",h.NULL="NullValue",h.ENUM="EnumValue",h.LIST="ListValue",h.OBJECT="ObjectValue",h.OBJECT_FIELD="ObjectField",h.DIRECTIVE="Directive",h.NAMED_TYPE="NamedType",h.LIST_TYPE="ListType",h.NON_NULL_TYPE="NonNullType",h.SCHEMA_DEFINITION="SchemaDefinition",h.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",h.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",h.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",h.FIELD_DEFINITION="FieldDefinition",h.INPUT_VALUE_DEFINITION="InputValueDefinition",h.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",h.UNION_TYPE_DEFINITION="UnionTypeDefinition",h.ENUM_TYPE_DEFINITION="EnumTypeDefinition",h.ENUM_VALUE_DEFINITION="EnumValueDefinition",h.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",h.DIRECTIVE_DEFINITION="DirectiveDefinition",h.SCHEMA_EXTENSION="SchemaExtension",h.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",h.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",h.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",h.UNION_TYPE_EXTENSION="UnionTypeExtension",h.ENUM_TYPE_EXTENSION="EnumTypeExtension",h.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(ct||(ct={}));function GI(h){return h===9||h===32}function TE(h){return h>=48&&h<=57}function nD(h){return h>=97&&h<=122||h>=65&&h<=90}function pP(h){return nD(h)||h===95}function iD(h){return nD(h)||TE(h)||h===95}function oD(h){var g;let _=Number.MAX_SAFE_INTEGER,O=null,P=-1;for(let H=0;H<h.length;++H){var R;let q=h[H],le=pj(q);le!==q.length&&(O=(R=O)!==null&&R!==void 0?R:H,P=H,H!==0&&le<_&&(_=le))}return h.map((H,q)=>q===0?H:H.slice(_)).slice((g=O)!==null&&g!==void 0?g:0,P+1)}function pj(h){let g=0;for(;g<h.length&&GI(h.charCodeAt(g));)++g;return g}function aD(h,g){let _=h.replace(/"""/g,'\\"""'),O=_.split(/\r\n|[\n\r]/g),P=O.length===1,R=O.length>1&&O.slice(1).every($e=>$e.length===0||GI($e.charCodeAt(0))),H=_.endsWith('\\"""'),q=h.endsWith('"')&&!H,le=h.endsWith("\\"),ge=q||le,ce=!(g!=null&&g.minimize)&&(!P||h.length>70||ge||R||H),X="",Re=P&&GI(h.charCodeAt(0));return(ce&&!Re||R)&&(X+=`
`),X+=_,(ce||ge)&&(X+=`
`),'"""'+X+'"""'}var he;(function(h){h.SOF="<SOF>",h.EOF="<EOF>",h.BANG="!",h.DOLLAR="$",h.AMP="&",h.PAREN_L="(",h.PAREN_R=")",h.SPREAD="...",h.COLON=":",h.EQUALS="=",h.AT="@",h.BRACKET_L="[",h.BRACKET_R="]",h.BRACE_L="{",h.PIPE="|",h.BRACE_R="}",h.NAME="Name",h.INT="Int",h.FLOAT="Float",h.STRING="String",h.BLOCK_STRING="BlockString",h.COMMENT="Comment"})(he||(he={}));var rI=class{constructor(g){let _=new xE(he.SOF,0,0,0,0);this.source=g,this.lastToken=_,this.token=_,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let g=this.token;if(g.kind!==he.EOF)do if(g.next)g=g.next;else{let _=yj(this,g.end);g.next=_,_.prev=g,g=_}while(g.kind===he.COMMENT);return g}};function uD(h){return h===he.BANG||h===he.DOLLAR||h===he.AMP||h===he.PAREN_L||h===he.PAREN_R||h===he.SPREAD||h===he.COLON||h===he.EQUALS||h===he.AT||h===he.BRACKET_L||h===he.BRACKET_R||h===he.BRACE_L||h===he.PIPE||h===he.BRACE_R}function SE(h){return h>=0&&h<=55295||h>=57344&&h<=1114111}function YI(h,g){return lD(h.charCodeAt(g))&&cD(h.charCodeAt(g+1))}function lD(h){return h>=55296&&h<=56319}function cD(h){return h>=56320&&h<=57343}function v0(h,g){let _=h.source.body.codePointAt(g);if(_===void 0)return he.EOF;if(_>=32&&_<=126){let O=String.fromCodePoint(_);return O==='"'?`'"'`:`"${O}"`}return"U+"+_.toString(16).toUpperCase().padStart(4,"0")}function hn(h,g,_,O,P){let R=h.line,H=1+_-h.lineStart;return new xE(g,_,O,R,H,P)}function yj(h,g){let _=h.source.body,O=_.length,P=g;for(;P<O;){let R=_.charCodeAt(P);switch(R){case 65279:case 9:case 32:case 44:++P;continue;case 10:++P,++h.line,h.lineStart=P;continue;case 13:_.charCodeAt(P+1)===10?P+=2:++P,++h.line,h.lineStart=P;continue;case 35:return gj(h,P);case 33:return hn(h,he.BANG,P,P+1);case 36:return hn(h,he.DOLLAR,P,P+1);case 38:return hn(h,he.AMP,P,P+1);case 40:return hn(h,he.PAREN_L,P,P+1);case 41:return hn(h,he.PAREN_R,P,P+1);case 46:if(_.charCodeAt(P+1)===46&&_.charCodeAt(P+2)===46)return hn(h,he.SPREAD,P,P+3);break;case 58:return hn(h,he.COLON,P,P+1);case 61:return hn(h,he.EQUALS,P,P+1);case 64:return hn(h,he.AT,P,P+1);case 91:return hn(h,he.BRACKET_L,P,P+1);case 93:return hn(h,he.BRACKET_R,P,P+1);case 123:return hn(h,he.BRACE_L,P,P+1);case 124:return hn(h,he.PIPE,P,P+1);case 125:return hn(h,he.BRACE_R,P,P+1);case 34:return _.charCodeAt(P+1)===34&&_.charCodeAt(P+2)===34?Oj(h,P):bj(h,P)}if(TE(R)||R===45)return mj(h,P,R);if(pP(R))return kj(h,P);throw cn(h.source,P,R===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:SE(R)||YI(_,P)?`Unexpected character: ${v0(h,P)}.`:`Invalid character: ${v0(h,P)}.`)}return hn(h,he.EOF,O,O)}function gj(h,g){let _=h.source.body,O=_.length,P=g+1;for(;P<O;){let R=_.charCodeAt(P);if(R===10||R===13)break;if(SE(R))++P;else if(YI(_,P))P+=2;else break}return hn(h,he.COMMENT,g,P,_.slice(g+1,P))}function mj(h,g,_){let O=h.source.body,P=g,R=_,H=!1;if(R===45&&(R=O.charCodeAt(++P)),R===48){if(R=O.charCodeAt(++P),TE(R))throw cn(h.source,P,`Invalid number, unexpected digit after 0: ${v0(h,P)}.`)}else P=yP(h,P,R),R=O.charCodeAt(P);if(R===46&&(H=!0,R=O.charCodeAt(++P),P=yP(h,P,R),R=O.charCodeAt(P)),(R===69||R===101)&&(H=!0,R=O.charCodeAt(++P),(R===43||R===45)&&(R=O.charCodeAt(++P)),P=yP(h,P,R),R=O.charCodeAt(P)),R===46||pP(R))throw cn(h.source,P,`Invalid number, expected digit but got: ${v0(h,P)}.`);return hn(h,H?he.FLOAT:he.INT,g,P,O.slice(g,P))}function yP(h,g,_){if(!TE(_))throw cn(h.source,g,`Invalid number, expected digit but got: ${v0(h,g)}.`);let O=h.source.body,P=g+1;for(;TE(O.charCodeAt(P));)++P;return P}function bj(h,g){let _=h.source.body,O=_.length,P=g+1,R=P,H="";for(;P<O;){let q=_.charCodeAt(P);if(q===34)return H+=_.slice(R,P),hn(h,he.STRING,g,P+1,H);if(q===92){H+=_.slice(R,P);let le=_.charCodeAt(P+1)===117?_.charCodeAt(P+2)===123?_j(h,P):wj(h,P):Ej(h,P);H+=le.value,P+=le.size,R=P;continue}if(q===10||q===13)break;if(SE(q))++P;else if(YI(_,P))P+=2;else throw cn(h.source,P,`Invalid character within String: ${v0(h,P)}.`)}throw cn(h.source,P,"Unterminated string.")}function _j(h,g){let _=h.source.body,O=0,P=3;for(;P<12;){let R=_.charCodeAt(g+P++);if(R===125){if(P<5||!SE(O))break;return{value:String.fromCodePoint(O),size:P}}if(O=O<<4|tI(R),O<0)break}throw cn(h.source,g,`Invalid Unicode escape sequence: "${_.slice(g,g+P)}".`)}function wj(h,g){let _=h.source.body,O=sD(_,g+2);if(SE(O))return{value:String.fromCodePoint(O),size:6};if(lD(O)&&_.charCodeAt(g+6)===92&&_.charCodeAt(g+7)===117){let P=sD(_,g+8);if(cD(P))return{value:String.fromCodePoint(O,P),size:12}}throw cn(h.source,g,`Invalid Unicode escape sequence: "${_.slice(g,g+6)}".`)}function sD(h,g){return tI(h.charCodeAt(g))<<12|tI(h.charCodeAt(g+1))<<8|tI(h.charCodeAt(g+2))<<4|tI(h.charCodeAt(g+3))}function tI(h){return h>=48&&h<=57?h-48:h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:-1}function Ej(h,g){let _=h.source.body;switch(_.charCodeAt(g+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw cn(h.source,g,`Invalid character escape sequence: "${_.slice(g,g+2)}".`)}function Oj(h,g){let _=h.source.body,O=_.length,P=h.lineStart,R=g+3,H=R,q="",le=[];for(;R<O;){let ge=_.charCodeAt(R);if(ge===34&&_.charCodeAt(R+1)===34&&_.charCodeAt(R+2)===34){q+=_.slice(H,R),le.push(q);let ce=hn(h,he.BLOCK_STRING,g,R+3,oD(le).join(`
`));return h.line+=le.length-1,h.lineStart=P,ce}if(ge===92&&_.charCodeAt(R+1)===34&&_.charCodeAt(R+2)===34&&_.charCodeAt(R+3)===34){q+=_.slice(H,R),H=R+1,R+=4;continue}if(ge===10||ge===13){q+=_.slice(H,R),le.push(q),ge===13&&_.charCodeAt(R+1)===10?R+=2:++R,q="",H=R,P=R;continue}if(SE(ge))++R;else if(YI(_,R))R+=2;else throw cn(h.source,R,`Invalid character within String: ${v0(h,R)}.`)}throw cn(h.source,R,"Unterminated string.")}function kj(h,g){let _=h.source.body,O=_.length,P=g+1;for(;P<O;){let R=_.charCodeAt(P);if(iD(R))++P;else break}return hn(h,he.NAME,g,P,_.slice(g,P))}function IE(h){return KI(h,[])}function KI(h,g){switch(typeof h){case"string":return JSON.stringify(h);case"function":return h.name?`[function ${h.name}]`:"[function]";case"object":return xj(h,g);default:return String(h)}}function xj(h,g){if(h===null)return"null";if(g.includes(h))return"[Circular]";let _=[...g,h];if(Tj(h)){let O=h.toJSON();if(O!==h)return typeof O=="string"?O:KI(O,_)}else if(Array.isArray(h))return Ij(h,_);return Sj(h,_)}function Tj(h){return typeof h.toJSON=="function"}function Sj(h,g){let _=Object.entries(h);return _.length===0?"{}":g.length>2?"["+Cj(h)+"]":"{ "+_.map(([P,R])=>P+": "+KI(R,g)).join(", ")+" }"}function Ij(h,g){if(h.length===0)return"[]";if(g.length>2)return"[Array]";let _=Math.min(10,h.length),O=h.length-_,P=[];for(let R=0;R<_;++R)P.push(KI(h[R],g));return O===1?P.push("... 1 more item"):O>1&&P.push(`... ${O} more items`),"["+P.join(", ")+"]"}function Cj(h){let g=Object.prototype.toString.call(h).replace(/^\[object /,"").replace(/]$/,"");if(g==="Object"&&typeof h.constructor=="function"){let _=h.constructor.name;if(typeof _=="string"&&_!=="")return _}return g}var hD=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(g,_){return g instanceof _}:function(g,_){if(g instanceof _)return!0;if(typeof g=="object"&&g!==null){var O;let P=_.prototype[Symbol.toStringTag],R=Symbol.toStringTag in g?g[Symbol.toStringTag]:(O=g.constructor)===null||O===void 0?void 0:O.name;if(P===R){let H=IE(g);throw new Error(`Cannot use ${P} "${H}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};var CE=class{constructor(g,_="GraphQL request",O={line:1,column:1}){typeof g=="string"||OE(!1,`Body must be a string. Received: ${IE(g)}.`),this.body=g,this.name=_,this.locationOffset=O,this.locationOffset.line>0||OE(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||OE(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function dD(h){return hD(h,CE)}function QI(h,g){return new gP(h,g).parseDocument()}var gP=class{constructor(g,_={}){let O=dD(g)?g:new CE(g);this._lexer=new rI(O),this._options=_,this._tokenCounter=0}parseName(){let g=this.expectToken(he.NAME);return this.node(g,{kind:ct.NAME,value:g.value})}parseDocument(){return this.node(this._lexer.token,{kind:ct.DOCUMENT,definitions:this.many(he.SOF,this.parseDefinition,he.EOF)})}parseDefinition(){if(this.peek(he.BRACE_L))return this.parseOperationDefinition();let g=this.peekDescription(),_=g?this._lexer.lookahead():this._lexer.token;if(_.kind===he.NAME){switch(_.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(g)throw cn(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(_.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(_)}parseOperationDefinition(){let g=this._lexer.token;if(this.peek(he.BRACE_L))return this.node(g,{kind:ct.OPERATION_DEFINITION,operation:Gv.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let _=this.parseOperationType(),O;return this.peek(he.NAME)&&(O=this.parseName()),this.node(g,{kind:ct.OPERATION_DEFINITION,operation:_,name:O,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let g=this.expectToken(he.NAME);switch(g.value){case"query":return Gv.QUERY;case"mutation":return Gv.MUTATION;case"subscription":return Gv.SUBSCRIPTION}throw this.unexpected(g)}parseVariableDefinitions(){return this.optionalMany(he.PAREN_L,this.parseVariableDefinition,he.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ct.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(he.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(he.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let g=this._lexer.token;return this.expectToken(he.DOLLAR),this.node(g,{kind:ct.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ct.SELECTION_SET,selections:this.many(he.BRACE_L,this.parseSelection,he.BRACE_R)})}parseSelection(){return this.peek(he.SPREAD)?this.parseFragment():this.parseField()}parseField(){let g=this._lexer.token,_=this.parseName(),O,P;return this.expectOptionalToken(he.COLON)?(O=_,P=this.parseName()):P=_,this.node(g,{kind:ct.FIELD,alias:O,name:P,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(he.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(g){let _=g?this.parseConstArgument:this.parseArgument;return this.optionalMany(he.PAREN_L,_,he.PAREN_R)}parseArgument(g=!1){let _=this._lexer.token,O=this.parseName();return this.expectToken(he.COLON),this.node(_,{kind:ct.ARGUMENT,name:O,value:this.parseValueLiteral(g)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let g=this._lexer.token;this.expectToken(he.SPREAD);let _=this.expectOptionalKeyword("on");return!_&&this.peek(he.NAME)?this.node(g,{kind:ct.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(g,{kind:ct.INLINE_FRAGMENT,typeCondition:_?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let g=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(g,{kind:ct.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(g,{kind:ct.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(g){let _=this._lexer.token;switch(_.kind){case he.BRACKET_L:return this.parseList(g);case he.BRACE_L:return this.parseObject(g);case he.INT:return this.advanceLexer(),this.node(_,{kind:ct.INT,value:_.value});case he.FLOAT:return this.advanceLexer(),this.node(_,{kind:ct.FLOAT,value:_.value});case he.STRING:case he.BLOCK_STRING:return this.parseStringLiteral();case he.NAME:switch(this.advanceLexer(),_.value){case"true":return this.node(_,{kind:ct.BOOLEAN,value:!0});case"false":return this.node(_,{kind:ct.BOOLEAN,value:!1});case"null":return this.node(_,{kind:ct.NULL});default:return this.node(_,{kind:ct.ENUM,value:_.value})}case he.DOLLAR:if(g)if(this.expectToken(he.DOLLAR),this._lexer.token.kind===he.NAME){let O=this._lexer.token.value;throw cn(this._lexer.source,_.start,`Unexpected variable "$${O}" in constant value.`)}else throw this.unexpected(_);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let g=this._lexer.token;return this.advanceLexer(),this.node(g,{kind:ct.STRING,value:g.value,block:g.kind===he.BLOCK_STRING})}parseList(g){let _=()=>this.parseValueLiteral(g);return this.node(this._lexer.token,{kind:ct.LIST,values:this.any(he.BRACKET_L,_,he.BRACKET_R)})}parseObject(g){let _=()=>this.parseObjectField(g);return this.node(this._lexer.token,{kind:ct.OBJECT,fields:this.any(he.BRACE_L,_,he.BRACE_R)})}parseObjectField(g){let _=this._lexer.token,O=this.parseName();return this.expectToken(he.COLON),this.node(_,{kind:ct.OBJECT_FIELD,name:O,value:this.parseValueLiteral(g)})}parseDirectives(g){let _=[];for(;this.peek(he.AT);)_.push(this.parseDirective(g));return _}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(g){let _=this._lexer.token;return this.expectToken(he.AT),this.node(_,{kind:ct.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(g)})}parseTypeReference(){let g=this._lexer.token,_;if(this.expectOptionalToken(he.BRACKET_L)){let O=this.parseTypeReference();this.expectToken(he.BRACKET_R),_=this.node(g,{kind:ct.LIST_TYPE,type:O})}else _=this.parseNamedType();return this.expectOptionalToken(he.BANG)?this.node(g,{kind:ct.NON_NULL_TYPE,type:_}):_}parseNamedType(){return this.node(this._lexer.token,{kind:ct.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(he.STRING)||this.peek(he.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("schema");let O=this.parseConstDirectives(),P=this.many(he.BRACE_L,this.parseOperationTypeDefinition,he.BRACE_R);return this.node(g,{kind:ct.SCHEMA_DEFINITION,description:_,directives:O,operationTypes:P})}parseOperationTypeDefinition(){let g=this._lexer.token,_=this.parseOperationType();this.expectToken(he.COLON);let O=this.parseNamedType();return this.node(g,{kind:ct.OPERATION_TYPE_DEFINITION,operation:_,type:O})}parseScalarTypeDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("scalar");let O=this.parseName(),P=this.parseConstDirectives();return this.node(g,{kind:ct.SCALAR_TYPE_DEFINITION,description:_,name:O,directives:P})}parseObjectTypeDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("type");let O=this.parseName(),P=this.parseImplementsInterfaces(),R=this.parseConstDirectives(),H=this.parseFieldsDefinition();return this.node(g,{kind:ct.OBJECT_TYPE_DEFINITION,description:_,name:O,interfaces:P,directives:R,fields:H})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(he.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(he.BRACE_L,this.parseFieldDefinition,he.BRACE_R)}parseFieldDefinition(){let g=this._lexer.token,_=this.parseDescription(),O=this.parseName(),P=this.parseArgumentDefs();this.expectToken(he.COLON);let R=this.parseTypeReference(),H=this.parseConstDirectives();return this.node(g,{kind:ct.FIELD_DEFINITION,description:_,name:O,arguments:P,type:R,directives:H})}parseArgumentDefs(){return this.optionalMany(he.PAREN_L,this.parseInputValueDef,he.PAREN_R)}parseInputValueDef(){let g=this._lexer.token,_=this.parseDescription(),O=this.parseName();this.expectToken(he.COLON);let P=this.parseTypeReference(),R;this.expectOptionalToken(he.EQUALS)&&(R=this.parseConstValueLiteral());let H=this.parseConstDirectives();return this.node(g,{kind:ct.INPUT_VALUE_DEFINITION,description:_,name:O,type:P,defaultValue:R,directives:H})}parseInterfaceTypeDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("interface");let O=this.parseName(),P=this.parseImplementsInterfaces(),R=this.parseConstDirectives(),H=this.parseFieldsDefinition();return this.node(g,{kind:ct.INTERFACE_TYPE_DEFINITION,description:_,name:O,interfaces:P,directives:R,fields:H})}parseUnionTypeDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("union");let O=this.parseName(),P=this.parseConstDirectives(),R=this.parseUnionMemberTypes();return this.node(g,{kind:ct.UNION_TYPE_DEFINITION,description:_,name:O,directives:P,types:R})}parseUnionMemberTypes(){return this.expectOptionalToken(he.EQUALS)?this.delimitedMany(he.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("enum");let O=this.parseName(),P=this.parseConstDirectives(),R=this.parseEnumValuesDefinition();return this.node(g,{kind:ct.ENUM_TYPE_DEFINITION,description:_,name:O,directives:P,values:R})}parseEnumValuesDefinition(){return this.optionalMany(he.BRACE_L,this.parseEnumValueDefinition,he.BRACE_R)}parseEnumValueDefinition(){let g=this._lexer.token,_=this.parseDescription(),O=this.parseEnumValueName(),P=this.parseConstDirectives();return this.node(g,{kind:ct.ENUM_VALUE_DEFINITION,description:_,name:O,directives:P})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw cn(this._lexer.source,this._lexer.token.start,`${XI(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("input");let O=this.parseName(),P=this.parseConstDirectives(),R=this.parseInputFieldsDefinition();return this.node(g,{kind:ct.INPUT_OBJECT_TYPE_DEFINITION,description:_,name:O,directives:P,fields:R})}parseInputFieldsDefinition(){return this.optionalMany(he.BRACE_L,this.parseInputValueDef,he.BRACE_R)}parseTypeSystemExtension(){let g=this._lexer.lookahead();if(g.kind===he.NAME)switch(g.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(g)}parseSchemaExtension(){let g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let _=this.parseConstDirectives(),O=this.optionalMany(he.BRACE_L,this.parseOperationTypeDefinition,he.BRACE_R);if(_.length===0&&O.length===0)throw this.unexpected();return this.node(g,{kind:ct.SCHEMA_EXTENSION,directives:_,operationTypes:O})}parseScalarTypeExtension(){let g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let _=this.parseName(),O=this.parseConstDirectives();if(O.length===0)throw this.unexpected();return this.node(g,{kind:ct.SCALAR_TYPE_EXTENSION,name:_,directives:O})}parseObjectTypeExtension(){let g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let _=this.parseName(),O=this.parseImplementsInterfaces(),P=this.parseConstDirectives(),R=this.parseFieldsDefinition();if(O.length===0&&P.length===0&&R.length===0)throw this.unexpected();return this.node(g,{kind:ct.OBJECT_TYPE_EXTENSION,name:_,interfaces:O,directives:P,fields:R})}parseInterfaceTypeExtension(){let g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let _=this.parseName(),O=this.parseImplementsInterfaces(),P=this.parseConstDirectives(),R=this.parseFieldsDefinition();if(O.length===0&&P.length===0&&R.length===0)throw this.unexpected();return this.node(g,{kind:ct.INTERFACE_TYPE_EXTENSION,name:_,interfaces:O,directives:P,fields:R})}parseUnionTypeExtension(){let g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let _=this.parseName(),O=this.parseConstDirectives(),P=this.parseUnionMemberTypes();if(O.length===0&&P.length===0)throw this.unexpected();return this.node(g,{kind:ct.UNION_TYPE_EXTENSION,name:_,directives:O,types:P})}parseEnumTypeExtension(){let g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let _=this.parseName(),O=this.parseConstDirectives(),P=this.parseEnumValuesDefinition();if(O.length===0&&P.length===0)throw this.unexpected();return this.node(g,{kind:ct.ENUM_TYPE_EXTENSION,name:_,directives:O,values:P})}parseInputObjectTypeExtension(){let g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let _=this.parseName(),O=this.parseConstDirectives(),P=this.parseInputFieldsDefinition();if(O.length===0&&P.length===0)throw this.unexpected();return this.node(g,{kind:ct.INPUT_OBJECT_TYPE_EXTENSION,name:_,directives:O,fields:P})}parseDirectiveDefinition(){let g=this._lexer.token,_=this.parseDescription();this.expectKeyword("directive"),this.expectToken(he.AT);let O=this.parseName(),P=this.parseArgumentDefs(),R=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let H=this.parseDirectiveLocations();return this.node(g,{kind:ct.DIRECTIVE_DEFINITION,description:_,name:O,arguments:P,repeatable:R,locations:H})}parseDirectiveLocations(){return this.delimitedMany(he.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let g=this._lexer.token,_=this.parseName();if(Object.prototype.hasOwnProperty.call(eI,_.value))return _;throw this.unexpected(g)}node(g,_){return this._options.noLocation!==!0&&(_.loc=new ZS(g,this._lexer.lastToken,this._lexer.source)),_}peek(g){return this._lexer.token.kind===g}expectToken(g){let _=this._lexer.token;if(_.kind===g)return this.advanceLexer(),_;throw cn(this._lexer.source,_.start,`Expected ${fD(g)}, found ${XI(_)}.`)}expectOptionalToken(g){return this._lexer.token.kind===g?(this.advanceLexer(),!0):!1}expectKeyword(g){let _=this._lexer.token;if(_.kind===he.NAME&&_.value===g)this.advanceLexer();else throw cn(this._lexer.source,_.start,`Expected "${g}", found ${XI(_)}.`)}expectOptionalKeyword(g){let _=this._lexer.token;return _.kind===he.NAME&&_.value===g?(this.advanceLexer(),!0):!1}unexpected(g){let _=g??this._lexer.token;return cn(this._lexer.source,_.start,`Unexpected ${XI(_)}.`)}any(g,_,O){this.expectToken(g);let P=[];for(;!this.expectOptionalToken(O);)P.push(_.call(this));return P}optionalMany(g,_,O){if(this.expectOptionalToken(g)){let P=[];do P.push(_.call(this));while(!this.expectOptionalToken(O));return P}return[]}many(g,_,O){this.expectToken(g);let P=[];do P.push(_.call(this));while(!this.expectOptionalToken(O));return P}delimitedMany(g,_){this.expectOptionalToken(g);let O=[];do O.push(_.call(this));while(this.expectOptionalToken(g));return O}advanceLexer(){let{maxTokens:g}=this._options,_=this._lexer.advance();if(g!==void 0&&_.kind!==he.EOF&&(++this._tokenCounter,this._tokenCounter>g))throw cn(this._lexer.source,_.start,`Document contains more that ${g} tokens. Parsing aborted.`)}};function XI(h){let g=h.value;return fD(h.kind)+(g!=null?` "${g}"`:"")}function fD(h){return uD(h)?`"${h}"`:h}function vD(h){return`"${h.replace(Pj,Aj)}"`}var Pj=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Aj(h){return Dj[h.charCodeAt(0)]}var Dj=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var pD=Object.freeze({});function mP(h,g,_=fP){let O=new Map;for(let Me of Object.values(ct))O.set(Me,yD(g,Me));let P,R=Array.isArray(h),H=[h],q=-1,le=[],ge=h,ce,X,Re=[],$e=[];do{q++;let Me=q===H.length,rt=Me&&le.length!==0;if(Me){if(ce=$e.length===0?void 0:Re[Re.length-1],ge=X,X=$e.pop(),rt)if(R){ge=ge.slice();let Rt=0;for(let[It,gr]of le){let it=It-Rt;gr===null?(ge.splice(it,1),Rt++):ge[it]=gr}}else{ge=Object.defineProperties({},Object.getOwnPropertyDescriptors(ge));for(let[Rt,It]of le)ge[Rt]=It}q=P.index,H=P.keys,le=P.edits,R=P.inArray,P=P.prev}else if(X){if(ce=R?q:H[q],ge=X[ce],ge==null)continue;Re.push(ce)}let nt;if(!Array.isArray(ge)){var we,ze;vP(ge)||OE(!1,`Invalid AST Node: ${IE(ge)}.`);let Rt=Me?(we=O.get(ge.kind))===null||we===void 0?void 0:we.leave:(ze=O.get(ge.kind))===null||ze===void 0?void 0:ze.enter;if(nt=Rt?.call(g,ge,ce,X,Re,$e),nt===pD)break;if(nt===!1){if(!Me){Re.pop();continue}}else if(nt!==void 0&&(le.push([ce,nt]),!Me))if(vP(nt))ge=nt;else{Re.pop();continue}}if(nt===void 0&&rt&&le.push([ce,ge]),Me)Re.pop();else{var Vt;P={inArray:R,index:q,keys:H,edits:le,prev:P},R=Array.isArray(ge),H=R?ge:(Vt=_[ge.kind])!==null&&Vt!==void 0?Vt:[],q=-1,le=[],X&&$e.push(X),X=ge}}while(P!==void 0);return le.length!==0?le[le.length-1][1]:h}function yD(h,g){let _=h[g];return typeof _=="object"?_:typeof _=="function"?{enter:_,leave:void 0}:{enter:h.enter,leave:h.leave}}function ZI(h){return mP(h,$j)}var Nj=80,$j={Name:{leave:h=>h.value},Variable:{leave:h=>"$"+h.name},Document:{leave:h=>Ye(h.definitions,`

`)},OperationDefinition:{leave(h){let g=Ut("(",Ye(h.variableDefinitions,", "),")"),_=Ye([h.operation,Ye([h.name,g]),Ye(h.directives," ")]," ");return(_==="query"?"":_+" ")+h.selectionSet}},VariableDefinition:{leave:({variable:h,type:g,defaultValue:_,directives:O})=>h+": "+g+Ut(" = ",_)+Ut(" ",Ye(O," "))},SelectionSet:{leave:({selections:h})=>pu(h)},Field:{leave({alias:h,name:g,arguments:_,directives:O,selectionSet:P}){let R=Ut("",h,": ")+g,H=R+Ut("(",Ye(_,", "),")");return H.length>Nj&&(H=R+Ut(`(
`,JI(Ye(_,`
`)),`
)`)),Ye([H,Ye(O," "),P]," ")}},Argument:{leave:({name:h,value:g})=>h+": "+g},FragmentSpread:{leave:({name:h,directives:g})=>"..."+h+Ut(" ",Ye(g," "))},InlineFragment:{leave:({typeCondition:h,directives:g,selectionSet:_})=>Ye(["...",Ut("on ",h),Ye(g," "),_]," ")},FragmentDefinition:{leave:({name:h,typeCondition:g,variableDefinitions:_,directives:O,selectionSet:P})=>`fragment ${h}${Ut("(",Ye(_,", "),")")} on ${g} ${Ut("",Ye(O," ")," ")}`+P},IntValue:{leave:({value:h})=>h},FloatValue:{leave:({value:h})=>h},StringValue:{leave:({value:h,block:g})=>g?aD(h):vD(h)},BooleanValue:{leave:({value:h})=>h?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:h})=>h},ListValue:{leave:({values:h})=>"["+Ye(h,", ")+"]"},ObjectValue:{leave:({fields:h})=>"{"+Ye(h,", ")+"}"},ObjectField:{leave:({name:h,value:g})=>h+": "+g},Directive:{leave:({name:h,arguments:g})=>"@"+h+Ut("(",Ye(g,", "),")")},NamedType:{leave:({name:h})=>h},ListType:{leave:({type:h})=>"["+h+"]"},NonNullType:{leave:({type:h})=>h+"!"},SchemaDefinition:{leave:({description:h,directives:g,operationTypes:_})=>Ut("",h,`
`)+Ye(["schema",Ye(g," "),pu(_)]," ")},OperationTypeDefinition:{leave:({operation:h,type:g})=>h+": "+g},ScalarTypeDefinition:{leave:({description:h,name:g,directives:_})=>Ut("",h,`
`)+Ye(["scalar",g,Ye(_," ")]," ")},ObjectTypeDefinition:{leave:({description:h,name:g,interfaces:_,directives:O,fields:P})=>Ut("",h,`
`)+Ye(["type",g,Ut("implements ",Ye(_," & ")),Ye(O," "),pu(P)]," ")},FieldDefinition:{leave:({description:h,name:g,arguments:_,type:O,directives:P})=>Ut("",h,`
`)+g+(gD(_)?Ut(`(
`,JI(Ye(_,`
`)),`
)`):Ut("(",Ye(_,", "),")"))+": "+O+Ut(" ",Ye(P," "))},InputValueDefinition:{leave:({description:h,name:g,type:_,defaultValue:O,directives:P})=>Ut("",h,`
`)+Ye([g+": "+_,Ut("= ",O),Ye(P," ")]," ")},InterfaceTypeDefinition:{leave:({description:h,name:g,interfaces:_,directives:O,fields:P})=>Ut("",h,`
`)+Ye(["interface",g,Ut("implements ",Ye(_," & ")),Ye(O," "),pu(P)]," ")},UnionTypeDefinition:{leave:({description:h,name:g,directives:_,types:O})=>Ut("",h,`
`)+Ye(["union",g,Ye(_," "),Ut("= ",Ye(O," | "))]," ")},EnumTypeDefinition:{leave:({description:h,name:g,directives:_,values:O})=>Ut("",h,`
`)+Ye(["enum",g,Ye(_," "),pu(O)]," ")},EnumValueDefinition:{leave:({description:h,name:g,directives:_})=>Ut("",h,`
`)+Ye([g,Ye(_," ")]," ")},InputObjectTypeDefinition:{leave:({description:h,name:g,directives:_,fields:O})=>Ut("",h,`
`)+Ye(["input",g,Ye(_," "),pu(O)]," ")},DirectiveDefinition:{leave:({description:h,name:g,arguments:_,repeatable:O,locations:P})=>Ut("",h,`
`)+"directive @"+g+(gD(_)?Ut(`(
`,JI(Ye(_,`
`)),`
)`):Ut("(",Ye(_,", "),")"))+(O?" repeatable":"")+" on "+Ye(P," | ")},SchemaExtension:{leave:({directives:h,operationTypes:g})=>Ye(["extend schema",Ye(h," "),pu(g)]," ")},ScalarTypeExtension:{leave:({name:h,directives:g})=>Ye(["extend scalar",h,Ye(g," ")]," ")},ObjectTypeExtension:{leave:({name:h,interfaces:g,directives:_,fields:O})=>Ye(["extend type",h,Ut("implements ",Ye(g," & ")),Ye(_," "),pu(O)]," ")},InterfaceTypeExtension:{leave:({name:h,interfaces:g,directives:_,fields:O})=>Ye(["extend interface",h,Ut("implements ",Ye(g," & ")),Ye(_," "),pu(O)]," ")},UnionTypeExtension:{leave:({name:h,directives:g,types:_})=>Ye(["extend union",h,Ye(g," "),Ut("= ",Ye(_," | "))]," ")},EnumTypeExtension:{leave:({name:h,directives:g,values:_})=>Ye(["extend enum",h,Ye(g," "),pu(_)]," ")},InputObjectTypeExtension:{leave:({name:h,directives:g,fields:_})=>Ye(["extend input",h,Ye(g," "),pu(_)]," ")}};function Ye(h,g=""){var _;return(_=h?.filter(O=>O).join(g))!==null&&_!==void 0?_:""}function pu(h){return Ut(`{
`,JI(Ye(h,`
`)),`
}`)}function Ut(h,g,_=""){return g!=null&&g!==""?h+g+_:""}function JI(h){return Ut("  ",h.replace(/\n/g,`
  `))}function gD(h){var g;return(g=h?.some(_=>_.includes(`
`)))!==null&&g!==void 0?g:!1}var mD=h=>{let g,_=h.definitions.filter(O=>O.kind==="OperationDefinition");return _.length===1&&(g=_[0]?.name?.value),g},p0=h=>{if(typeof h=="string"){let _;try{let O=QI(h);_=mD(O)}catch{}return{query:h,operationName:_}}let g=mD(h);return{query:ZI(h),operationName:g}};var y0=class h extends Error{constructor(g,_){let O=`${h.extractMessage(g)}: ${JSON.stringify({response:g,request:_})}`;super(O),Object.setPrototypeOf(this,h.prototype),this.response=g,this.request=_,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,h)}static extractMessage(g){return g.errors?.[0]?.message??`GraphQL Error (Code: ${g.status})`}};var Kv=JS(wD(),1);var Fj="connection_init",Lj="connection_ack",OD="ping",kD="pong",Bj="subscribe",zj="next",Hj="error",xD="complete",Yv=class h{get type(){return this._type}get id(){return this._id}get payload(){return this._payload}constructor(g,_,O){this._type=g,this._payload=_,this._id=O}get text(){let g={type:this.type};return this.id!=null&&this.id!=null&&(g.id=this.id),this.payload!=null&&this.payload!=null&&(g.payload=this.payload),JSON.stringify(g)}static parse(g,_){let{type:O,payload:P,id:R}=JSON.parse(g);return new h(O,_(P),R)}},tC=class{constructor(g,{onInit:_,onAcknowledged:O,onPing:P,onPong:R}){this.socketState={acknowledged:!1,lastRequestId:0,subscriptions:{}},this.socket=g,g.addEventListener("open",async H=>{this.socketState.acknowledged=!1,this.socketState.subscriptions={},g.send(Vj(_?await _():null).text)}),g.addEventListener("close",H=>{this.socketState.acknowledged=!1,this.socketState.subscriptions={}}),g.addEventListener("error",H=>{console.error(H)}),g.addEventListener("message",H=>{try{let q=Uj(H.data);switch(q.type){case Lj:{this.socketState.acknowledged?console.warn("Duplicate CONNECTION_ACK message ignored"):(this.socketState.acknowledged=!0,O&&O(q.payload));return}case OD:{P?P(q.payload).then(X=>g.send(ED(X).text)):g.send(ED(null).text);return}case kD:{R&&R(q.payload);return}}if(!this.socketState.acknowledged||q.id===void 0||q.id===null||!this.socketState.subscriptions[q.id])return;let{query:le,variables:ge,subscriber:ce}=this.socketState.subscriptions[q.id];switch(q.type){case zj:{!q.payload.errors&&q.payload.data&&ce.next&&ce.next(q.payload.data),q.payload.errors&&ce.error&&ce.error(new y0({...q.payload,status:200},{query:le,variables:ge}));return}case Hj:{ce.error&&ce.error(new y0({errors:q.payload,status:200},{query:le,variables:ge}));return}case xD:{ce.complete&&ce.complete(),delete this.socketState.subscriptions[q.id];return}}}catch(q){console.error(q),g.close(1006)}g.close(4400,"Unknown graphql-ws message.")})}makeSubscribe(g,_,O,P){let R=(this.socketState.lastRequestId++).toString();return this.socketState.subscriptions[R]={query:g,variables:P,subscriber:O},this.socket.send(qj(R,{query:g,operationName:_,variables:P}).text),()=>{this.socket.send(Gj(R).text),delete this.socketState.subscriptions[R]}}rawRequest(g,_){return new Promise((O,P)=>{let R;this.rawSubscribe(g,{next:(H,q)=>R={data:H,extensions:q},error:P,complete:()=>O(R)},_)})}request(g,_){return new Promise((O,P)=>{let R;this.subscribe(g,{next:H=>R=H,error:P,complete:()=>O(R)},_)})}subscribe(g,_,O){let{query:P,operationName:R}=p0(g);return this.makeSubscribe(P,R,_,O)}rawSubscribe(g,_,O){return this.makeSubscribe(g,void 0,_,O)}ping(g){this.socket.send(Wj(g).text)}close(){this.socket.close(1e3)}};tC.PROTOCOL="graphql-transport-ws";function Uj(h,g=_=>_){return Yv.parse(h,g)}function Vj(h){return new Yv(Fj,h)}function Wj(h){return new Yv(OD,h,void 0)}function ED(h){return new Yv(kD,h,void 0)}function qj(h,g){return new Yv(Bj,g,h)}function Gj(h){return new Yv(xD,void 0,h)}var AE=h=>{let g={};return h&&(typeof Headers<"u"&&h instanceof Headers||Kv&&Kv.Headers&&h instanceof Kv.Headers?g=YA(h):Array.isArray(h)?h.forEach(([_,O])=>{_&&O!==void 0&&(g[_]=O)}):g=h),g},TD=h=>h.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),Yj=h=>{if(!Array.isArray(h.query)){let O=h,P=[`query=${encodeURIComponent(TD(O.query))}`];return h.variables&&P.push(`variables=${encodeURIComponent(O.jsonSerializer.stringify(O.variables))}`),O.operationName&&P.push(`operationName=${encodeURIComponent(O.operationName)}`),P.join("&")}if(typeof h.variables<"u"&&!Array.isArray(h.variables))throw new Error("Cannot create query with given variable type, array expected");let g=h,_=h.query.reduce((O,P,R)=>(O.push({query:TD(P),variables:g.variables?g.jsonSerializer.stringify(g.variables[R]):void 0}),O),[]);return`query=${encodeURIComponent(g.jsonSerializer.stringify(_))}`},Kj=h=>async g=>{let{url:_,query:O,variables:P,operationName:R,fetch:H,fetchOptions:q,middleware:le}=g,ge={...g.headers},ce="",X;h==="POST"?(X=Xj(O,P,R,q.jsonSerializer),typeof X=="string"&&(ge["Content-Type"]="application/json")):ce=Yj({query:O,variables:P,operationName:R,jsonSerializer:q.jsonSerializer??VI});let Re={method:h,headers:ge,body:X,...q},$e=_,we=Re;if(le){let ze=await Promise.resolve(le({...Re,url:_,operationName:R,variables:P})),{url:Vt,...Me}=ze;$e=Vt,we=Me}return ce&&($e=`${$e}?${ce}`),await H($e,we)},wP=class{constructor(g,_={}){this.url=g,this.requestConfig=_,this.rawRequest=async(...O)=>{let[P,R,H]=O,q=XA(P,R,H),{headers:le,fetch:ge=Kv.default,method:ce="POST",requestMiddleware:X,responseMiddleware:Re,...$e}=this.requestConfig,{url:we}=this;q.signal!==void 0&&($e.signal=q.signal);let{operationName:ze}=p0(q.query);return bP({url:we,query:q.query,variables:q.variables,headers:{...AE(_P(le)),...AE(q.requestHeaders)},operationName:ze,fetch:ge,method:ce,fetchOptions:$e,middleware:X}).then(Vt=>(Re&&Re(Vt),Vt)).catch(Vt=>{throw Re&&Re(Vt),Vt})}}async request(g,..._){let[O,P]=_,R=KA(g,O,P),{headers:H,fetch:q=Kv.default,method:le="POST",requestMiddleware:ge,responseMiddleware:ce,...X}=this.requestConfig,{url:Re}=this;R.signal!==void 0&&(X.signal=R.signal);let{query:$e,operationName:we}=p0(R.document);return bP({url:Re,query:$e,variables:R.variables,headers:{...AE(_P(H)),...AE(R.requestHeaders)},operationName:we,fetch:q,method:le,fetchOptions:X,middleware:ge}).then(ze=>(ce&&ce(ze),ze.data)).catch(ze=>{throw ce&&ce(ze),ze})}batchRequests(g,_){let O=QA(g,_),{headers:P,...R}=this.requestConfig;O.signal!==void 0&&(R.signal=O.signal);let H=O.documents.map(({document:le})=>p0(le).query),q=O.documents.map(({variables:le})=>le);return bP({url:this.url,query:H,variables:q,headers:{...AE(_P(P)),...AE(O.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??Kv.default,method:this.requestConfig.method||"POST",fetchOptions:R,middleware:this.requestConfig.requestMiddleware}).then(le=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(le),le.data)).catch(le=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(le),le})}setHeaders(g){return this.requestConfig.headers=g,this}setHeader(g,_){let{headers:O}=this.requestConfig;return O?O[g]=_:this.requestConfig.headers={[g]:_},this}setEndpoint(g){return this.url=g,this}},bP=async h=>{let{query:g,variables:_,fetchOptions:O}=h,P=Kj(GA(h.method??"post")),R=Array.isArray(h.query),H=await P(h),q=await Qj(H,O.jsonSerializer??VI),le=Array.isArray(q)?!q.some(({data:ce})=>!ce):!!q.data,ge=Array.isArray(q)||!q.errors||Array.isArray(q.errors)&&!q.errors.length||O.errorPolicy==="all"||O.errorPolicy==="ignore";if(H.ok&&ge&&le){let{errors:ce,...X}=(Array.isArray(q),q),Re=O.errorPolicy==="ignore"?X:q;return{...R?{data:Re}:Re,headers:H.headers,status:H.status}}else{let ce=typeof q=="string"?{error:q}:q;throw new y0({...ce,status:H.status,headers:H.headers},{query:g,variables:_})}};async function SD(h,g,..._){let O=JA(h,g,..._);return new wP(O.url).request({...O})}var Xj=(h,g,_,O)=>{let P=O??VI;if(!Array.isArray(h))return P.stringify({query:h,variables:g,operationName:_});if(typeof g<"u"&&!Array.isArray(g))throw new Error("Cannot create request body with given variable type, array expected");let R=h.reduce((H,q,le)=>(H.push({query:q,variables:g?g[le]:void 0}),H),[]);return P.stringify(R)},Qj=async(h,g)=>{let _;return h.headers.forEach((O,P)=>{P.toLowerCase()==="content-type"&&(_=O)}),_&&(_.toLowerCase().startsWith("application/json")||_.toLowerCase().startsWith("application/graphql+json")||_.toLowerCase().startsWith("application/graphql-response+json"))?g.parse(await h.text()):h.text()},_P=h=>typeof h=="function"?h():h,ID=(h,...g)=>h.reduce((_,O,P)=>`${_}${O}${P in g?String(g[P]):""}`,"");var Jj="kimne78kx3ncx6brgo4mv6wki5h1ko",Zj=ID`query($login: String) {
    user(login: $login) {
        id
        login
        displayName
        description
        createdAt
        primaryColorHex
        profileImageURL(width: 70)

        followers {
            totalCount
        }

        roles {
            isPartner
        }

        channel {
            id
            home {
                shelves {
                    streamerShelf {
                        type
                        edges {
                            trackingID
                            node {
                                id
                                displayName
                                login
                                description
                                primaryColorHex
                                profileImageURL(width: 70)
                                followers {
                                    totalCount
                                }
                            }
                        }
                    }
                }    
            }
        }

        stream {
            id
            title
            type
            viewersCount
            createdAt
            game {
                name				
            }
        }
    }
}`;function eF(h){return SD({url:"https://gql.twitch.tv/gql",document:Zj,variables:{login:h},requestHeaders:{"Client-Id":Jj}})}function PD(){let h=new CD.default,g=[],_=[],O=null,P=!1;async function R(){if(!g.length){h.emit("endOfQueue"),O=null;return}let H=g.shift(),{user:q}=await eF(H);if(P)return;let le=q.channel.home.shelves.streamerShelf,ge=le.type==="AUTOHOST"?le.edges.filter(Re=>!!Re.node).map(Re=>Re.node):[],ce=[q,...ge].filter(({id:Re})=>!_.includes(Number(Re))),X=ge.map(Re=>({from:q.id,to:Re.id}));_.push(Number(q.id));for(let Re of ge){let $e=Number(Re.id);_.includes($e)||(_.push($e),g.push(Re.login))}h.emit("data",{users:ce,links:X}),O=setTimeout(R,1e3)}return h.on("start",function(H){H&&g.unshift(H),O||setTimeout(R,0),P=!1}),h.on("stop",function(){O&&(clearTimeout(O),O=null,P=!0)}),h}var jD=JS($D(),1),EP=JS(MD(),1);function FD(h,{nodes:g,edges:_}){return new jD.Network(h,{nodes:g,edges:_},{edges:{selectionWidth:O=>O*4},physics:{barnesHut:{gravitationalConstant:-1e4,centralGravity:.1,springLength:200}}})}function LD(){return{nodes:new EP.DataSet([]),edges:new EP.DataSet([])}}function BD(h,g){h.nodes.add({id:g.id,shape:"circularImage",image:g.profileImageURL,label:g.displayName,color:{border:"#"+(g.primaryColorHex||"0000AA")},borderWidth:8,size:Math.min(30+.1*Math.sqrt(g.followers.totalCount),100)})}function zD(h,g){h.edges.add({from:g.from,to:g.to,arrows:"to"})}var mN=JS(hP(),1);var uC,Et,GD,xP,g0,HD,YD,OP,tF,DE={},KD=[],rF=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,TP=Array.isArray;function Xv(h,g){for(var _ in g)h[_]=g[_];return h}function XD(h){var g=h.parentNode;g&&g.removeChild(h)}function ht(h,g,_){var O,P,R,H={};for(R in g)R=="key"?O=g[R]:R=="ref"?P=g[R]:H[R]=g[R];if(arguments.length>2&&(H.children=arguments.length>3?uC.call(arguments,2):_),typeof h=="function"&&h.defaultProps!=null)for(R in h.defaultProps)H[R]===void 0&&(H[R]=h.defaultProps[R]);return oC(h,H,O,P,null)}function oC(h,g,_,O,P){var R={type:h,props:g,key:_,ref:O,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:P??++GD};return P==null&&Et.vnode!=null&&Et.vnode(R),R}function yu(h){return h.children}function NE(h,g){this.props=h,this.context=g}function nI(h,g){if(g==null)return h.__?nI(h.__,h.__.__k.indexOf(h)+1):null;for(var _;g<h.__k.length;g++)if((_=h.__k[g])!=null&&_.__e!=null)return _.__d||_.__e;return typeof h.type=="function"?nI(h):null}function QD(h){var g,_;if((h=h.__)!=null&&h.__c!=null){for(h.__e=h.__c.base=null,g=0;g<h.__k.length;g++)if((_=h.__k[g])!=null&&_.__e!=null){h.__e=h.__c.base=_.__e;break}return QD(h)}}function UD(h){(!h.__d&&(h.__d=!0)&&g0.push(h)&&!aC.__r++||HD!==Et.debounceRendering)&&((HD=Et.debounceRendering)||YD)(aC)}function aC(){var h,g,_,O,P,R,H,q,le;for(g0.sort(OP);h=g0.shift();)h.__d&&(g=g0.length,O=void 0,P=void 0,R=void 0,q=(H=(_=h).__v).__e,(le=_.__P)&&(O=[],P=[],(R=Xv({},H)).__v=H.__v+1,SP(le,H,R,_.__n,le.ownerSVGElement!==void 0,H.__h!=null?[q]:null,O,q??nI(H),H.__h,P),tN(O,H,P),H.__e!=q&&QD(H)),g0.length>g&&g0.sort(OP));aC.__r=0}function JD(h,g,_,O,P,R,H,q,le,ge,ce){var X,Re,$e,we,ze,Vt,Me,rt,nt,Rt=0,It=O&&O.__k||KD,gr=It.length,it=gr,dn=g.length;for(_.__k=[],X=0;X<dn;X++)(we=_.__k[X]=(we=g[X])==null||typeof we=="boolean"||typeof we=="function"?null:typeof we=="string"||typeof we=="number"||typeof we=="bigint"?oC(null,we,null,null,we):TP(we)?oC(yu,{children:we},null,null,null):we.__b>0?oC(we.type,we.props,we.key,we.ref?we.ref:null,we.__v):we)!=null?(we.__=_,we.__b=_.__b+1,(rt=nF(we,It,Me=X+Rt,it))===-1?$e=DE:($e=It[rt]||DE,It[rt]=void 0,it--),SP(h,we,$e,P,R,H,q,le,ge,ce),ze=we.__e,(Re=we.ref)&&$e.ref!=Re&&($e.ref&&IP($e.ref,null,we),ce.push(Re,we.__c||ze,we)),ze!=null&&(Vt==null&&(Vt=ze),(nt=$e===DE||$e.__v===null)?rt==-1&&Rt--:rt!==Me&&(rt===Me+1?Rt++:rt>Me?it>dn-Me?Rt+=rt-Me:Rt--:Rt=rt<Me&&rt==Me-1?rt-Me:0),Me=X+Rt,typeof we.type!="function"||rt===Me&&$e.__k!==we.__k?typeof we.type=="function"||rt===Me&&!nt?we.__d!==void 0?(le=we.__d,we.__d=void 0):le=ze.nextSibling:le=eN(h,ze,le):le=ZD(we,le,h),typeof _.type=="function"&&(_.__d=le))):($e=It[X])&&$e.key==null&&$e.__e&&($e.__e==le&&($e.__=O,le=nI($e)),kP($e,$e,!1),It[X]=null);for(_.__e=Vt,X=gr;X--;)It[X]!=null&&(typeof _.type=="function"&&It[X].__e!=null&&It[X].__e==_.__d&&(_.__d=It[X].__e.nextSibling),kP(It[X],It[X]))}function ZD(h,g,_){for(var O,P=h.__k,R=0;P&&R<P.length;R++)(O=P[R])&&(O.__=h,g=typeof O.type=="function"?ZD(O,g,_):eN(_,O.__e,g));return g}function eN(h,g,_){return _==null||_.parentNode!==h?h.insertBefore(g,null):g==_&&g.parentNode!=null||h.insertBefore(g,_),g.nextSibling}function nF(h,g,_,O){var P=h.key,R=h.type,H=_-1,q=_+1,le=g[_];if(le===null||le&&P==le.key&&R===le.type)return _;if(O>(le!=null?1:0))for(;H>=0||q<g.length;){if(H>=0){if((le=g[H])&&P==le.key&&R===le.type)return H;H--}if(q<g.length){if((le=g[q])&&P==le.key&&R===le.type)return q;q++}}return-1}function iF(h,g,_,O,P){var R;for(R in _)R==="children"||R==="key"||R in g||sC(h,R,null,_[R],O);for(R in g)P&&typeof g[R]!="function"||R==="children"||R==="key"||R==="value"||R==="checked"||_[R]===g[R]||sC(h,R,g[R],_[R],O)}function VD(h,g,_){g[0]==="-"?h.setProperty(g,_??""):h[g]=_==null?"":typeof _!="number"||rF.test(g)?_:_+"px"}function sC(h,g,_,O,P){var R;e:if(g==="style")if(typeof _=="string")h.style.cssText=_;else{if(typeof O=="string"&&(h.style.cssText=O=""),O)for(g in O)_&&g in _||VD(h.style,g,"");if(_)for(g in _)O&&_[g]===O[g]||VD(h.style,g,_[g])}else if(g[0]==="o"&&g[1]==="n")R=g!==(g=g.replace(/(PointerCapture)$|Capture$/,"$1")),g=g.toLowerCase()in h?g.toLowerCase().slice(2):g.slice(2),h.l||(h.l={}),h.l[g+R]=_,_?O?_.u=O.u:(_.u=Date.now(),h.addEventListener(g,R?qD:WD,R)):h.removeEventListener(g,R?qD:WD,R);else if(g!=="dangerouslySetInnerHTML"){if(P)g=g.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(g!=="width"&&g!=="height"&&g!=="href"&&g!=="list"&&g!=="form"&&g!=="tabIndex"&&g!=="download"&&g!=="rowSpan"&&g!=="colSpan"&&g!=="role"&&g in h)try{h[g]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&g[4]!=="-"?h.removeAttribute(g):h.setAttribute(g,_))}}function WD(h){var g=this.l[h.type+!1];if(h.t){if(h.t<=g.u)return}else h.t=Date.now();return g(Et.event?Et.event(h):h)}function qD(h){return this.l[h.type+!0](Et.event?Et.event(h):h)}function SP(h,g,_,O,P,R,H,q,le,ge){var ce,X,Re,$e,we,ze,Vt,Me,rt,nt,Rt,It,gr,it,dn,ar=g.type;if(g.constructor!==void 0)return null;_.__h!=null&&(le=_.__h,q=g.__e=_.__e,g.__h=null,R=[q]),(ce=Et.__b)&&ce(g);e:if(typeof ar=="function")try{if(Me=g.props,rt=(ce=ar.contextType)&&O[ce.__c],nt=ce?rt?rt.props.value:ce.__:O,_.__c?Vt=(X=g.__c=_.__c).__=X.__E:("prototype"in ar&&ar.prototype.render?g.__c=X=new ar(Me,nt):(g.__c=X=new NE(Me,nt),X.constructor=ar,X.render=aF),rt&&rt.sub(X),X.props=Me,X.state||(X.state={}),X.context=nt,X.__n=O,Re=X.__d=!0,X.__h=[],X._sb=[]),X.__s==null&&(X.__s=X.state),ar.getDerivedStateFromProps!=null&&(X.__s==X.state&&(X.__s=Xv({},X.__s)),Xv(X.__s,ar.getDerivedStateFromProps(Me,X.__s))),$e=X.props,we=X.state,X.__v=g,Re)ar.getDerivedStateFromProps==null&&X.componentWillMount!=null&&X.componentWillMount(),X.componentDidMount!=null&&X.__h.push(X.componentDidMount);else{if(ar.getDerivedStateFromProps==null&&Me!==$e&&X.componentWillReceiveProps!=null&&X.componentWillReceiveProps(Me,nt),!X.__e&&(X.shouldComponentUpdate!=null&&X.shouldComponentUpdate(Me,X.__s,nt)===!1||g.__v===_.__v)){for(g.__v!==_.__v&&(X.props=Me,X.state=X.__s,X.__d=!1),g.__e=_.__e,g.__k=_.__k,g.__k.forEach(function(te){te&&(te.__=g)}),Rt=0;Rt<X._sb.length;Rt++)X.__h.push(X._sb[Rt]);X._sb=[],X.__h.length&&H.push(X);break e}X.componentWillUpdate!=null&&X.componentWillUpdate(Me,X.__s,nt),X.componentDidUpdate!=null&&X.__h.push(function(){X.componentDidUpdate($e,we,ze)})}if(X.context=nt,X.props=Me,X.__P=h,X.__e=!1,It=Et.__r,gr=0,"prototype"in ar&&ar.prototype.render){for(X.state=X.__s,X.__d=!1,It&&It(g),ce=X.render(X.props,X.state,X.context),it=0;it<X._sb.length;it++)X.__h.push(X._sb[it]);X._sb=[]}else do X.__d=!1,It&&It(g),ce=X.render(X.props,X.state,X.context),X.state=X.__s;while(X.__d&&++gr<25);X.state=X.__s,X.getChildContext!=null&&(O=Xv(Xv({},O),X.getChildContext())),Re||X.getSnapshotBeforeUpdate==null||(ze=X.getSnapshotBeforeUpdate($e,we)),JD(h,TP(dn=ce!=null&&ce.type===yu&&ce.key==null?ce.props.children:ce)?dn:[dn],g,_,O,P,R,H,q,le,ge),X.base=g.__e,g.__h=null,X.__h.length&&H.push(X),Vt&&(X.__E=X.__=null)}catch(te){g.__v=null,(le||R!=null)&&(g.__e=q,g.__h=!!le,R[R.indexOf(q)]=null),Et.__e(te,g,_)}else R==null&&g.__v===_.__v?(g.__k=_.__k,g.__e=_.__e):g.__e=oF(_.__e,g,_,O,P,R,H,le,ge);(ce=Et.diffed)&&ce(g)}function tN(h,g,_){for(var O=0;O<_.length;O++)IP(_[O],_[++O],_[++O]);Et.__c&&Et.__c(g,h),h.some(function(P){try{h=P.__h,P.__h=[],h.some(function(R){R.call(P)})}catch(R){Et.__e(R,P.__v)}})}function oF(h,g,_,O,P,R,H,q,le){var ge,ce,X,Re=_.props,$e=g.props,we=g.type,ze=0;if(we==="svg"&&(P=!0),R!=null){for(;ze<R.length;ze++)if((ge=R[ze])&&"setAttribute"in ge==!!we&&(we?ge.localName===we:ge.nodeType===3)){h=ge,R[ze]=null;break}}if(h==null){if(we===null)return document.createTextNode($e);h=P?document.createElementNS("http://www.w3.org/2000/svg",we):document.createElement(we,$e.is&&$e),R=null,q=!1}if(we===null)Re===$e||q&&h.data===$e||(h.data=$e);else{if(R=R&&uC.call(h.childNodes),ce=(Re=_.props||DE).dangerouslySetInnerHTML,X=$e.dangerouslySetInnerHTML,!q){if(R!=null)for(Re={},ze=0;ze<h.attributes.length;ze++)Re[h.attributes[ze].name]=h.attributes[ze].value;(X||ce)&&(X&&(ce&&X.__html==ce.__html||X.__html===h.innerHTML)||(h.innerHTML=X&&X.__html||""))}if(iF(h,$e,Re,P,q),X)g.__k=[];else if(JD(h,TP(ze=g.props.children)?ze:[ze],g,_,O,P&&we!=="foreignObject",R,H,R?R[0]:_.__k&&nI(_,0),q,le),R!=null)for(ze=R.length;ze--;)R[ze]!=null&&XD(R[ze]);q||("value"in $e&&(ze=$e.value)!==void 0&&(ze!==h.value||we==="progress"&&!ze||we==="option"&&ze!==Re.value)&&sC(h,"value",ze,Re.value,!1),"checked"in $e&&(ze=$e.checked)!==void 0&&ze!==h.checked&&sC(h,"checked",ze,Re.checked,!1))}return h}function IP(h,g,_){try{typeof h=="function"?h(g):h.current=g}catch(O){Et.__e(O,_)}}function kP(h,g,_){var O,P;if(Et.unmount&&Et.unmount(h),(O=h.ref)&&(O.current&&O.current!==h.__e||IP(O,null,g)),(O=h.__c)!=null){if(O.componentWillUnmount)try{O.componentWillUnmount()}catch(R){Et.__e(R,g)}O.base=O.__P=null,h.__c=void 0}if(O=h.__k)for(P=0;P<O.length;P++)O[P]&&kP(O[P],g,_||typeof h.type!="function");_||h.__e==null||XD(h.__e),h.__=h.__e=h.__d=void 0}function aF(h,g,_){return this.constructor(h,_)}function rN(h,g,_){var O,P,R,H;Et.__&&Et.__(h,g),P=(O=typeof _=="function")?null:_&&_.__k||g.__k,R=[],H=[],SP(g,h=(!O&&_||g).__k=ht(yu,null,[h]),P||DE,DE,g.ownerSVGElement!==void 0,!O&&_?[_]:P?null:g.firstChild?uC.call(g.childNodes):null,R,!O&&_?_:P?P.__e:g.firstChild,O,H),tN(R,h,H)}uC=KD.slice,Et={__e:function(h,g,_,O){for(var P,R,H;g=g.__;)if((P=g.__c)&&!P.__)try{if((R=P.constructor)&&R.getDerivedStateFromError!=null&&(P.setState(R.getDerivedStateFromError(h)),H=P.__d),P.componentDidCatch!=null&&(P.componentDidCatch(h,O||{}),H=P.__d),H)return P.__E=P}catch(q){h=q}throw h}},GD=0,xP=function(h){return h!=null&&h.constructor===void 0},NE.prototype.setState=function(h,g){var _;_=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xv({},this.state),typeof h=="function"&&(h=h(Xv({},_),this.props)),h&&Xv(_,h),h!=null&&this.__v&&(g&&this._sb.push(g),UD(this))},NE.prototype.forceUpdate=function(h){this.__v&&(this.__e=!0,h&&this.__h.push(h),UD(this))},NE.prototype.render=yu,g0=[],YD=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,OP=function(h,g){return h.__v.__b-g.__v.__b},aC.__r=0,tF=0;var PP,ua,CP,nN,AP=0,cN=[],lC=[],iN=Et.__b,oN=Et.__r,aN=Et.diffed,sN=Et.__c,uN=Et.unmount;function sF(h,g){Et.__h&&Et.__h(ua,h,AP||g),AP=0;var _=ua.__H||(ua.__H={__:[],__h:[]});return h>=_.__.length&&_.__.push({__V:lC}),_.__[h]}function NP(h){return AP=5,hC(function(){return{current:h}},[])}function hC(h,g){var _=sF(PP++,7);return cF(_.__H,g)?(_.__V=h(),_.i=g,_.__h=h,_.__V):_.__}function uF(){for(var h;h=cN.shift();)if(h.__P&&h.__H)try{h.__H.__h.forEach(cC),h.__H.__h.forEach(DP),h.__H.__h=[]}catch(g){h.__H.__h=[],Et.__e(g,h.__v)}}Et.__b=function(h){ua=null,iN&&iN(h)},Et.__r=function(h){oN&&oN(h),PP=0;var g=(ua=h.__c).__H;g&&(CP===ua?(g.__h=[],ua.__h=[],g.__.forEach(function(_){_.__N&&(_.__=_.__N),_.__V=lC,_.__N=_.i=void 0})):(g.__h.forEach(cC),g.__h.forEach(DP),g.__h=[],PP=0)),CP=ua},Et.diffed=function(h){aN&&aN(h);var g=h.__c;g&&g.__H&&(g.__H.__h.length&&(cN.push(g)!==1&&nN===Et.requestAnimationFrame||((nN=Et.requestAnimationFrame)||lF)(uF)),g.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.__V!==lC&&(_.__=_.__V),_.i=void 0,_.__V=lC})),CP=ua=null},Et.__c=function(h,g){g.some(function(_){try{_.__h.forEach(cC),_.__h=_.__h.filter(function(O){return!O.__||DP(O)})}catch(O){g.some(function(P){P.__h&&(P.__h=[])}),g=[],Et.__e(O,_.__v)}}),sN&&sN(h,g)},Et.unmount=function(h){uN&&uN(h);var g,_=h.__c;_&&_.__H&&(_.__H.__.forEach(function(O){try{cC(O)}catch(P){g=P}}),_.__H=void 0,g&&Et.__e(g,_.__v))};var lN=typeof requestAnimationFrame=="function";function lF(h){var g,_=function(){clearTimeout(O),lN&&cancelAnimationFrame(g),setTimeout(h)},O=setTimeout(_,100);lN&&(g=requestAnimationFrame(_))}function cC(h){var g=ua,_=h.__c;typeof _=="function"&&(h.__c=void 0,_()),ua=g}function DP(h){var g=ua;h.__c=h.__(),ua=g}function cF(h,g){return!h||h.length!==g.length||g.some(function(_,O){return _!==h[O]})}function fC(){throw new Error("Cycle detected")}var hF=Symbol.for("preact-signals");function RP(){if($E>1)$E--;else{for(var h,g=!1;iI!==void 0;){var _=iI;for(iI=void 0,$P++;_!==void 0;){var O=_.o;if(_.o=void 0,_.f&=-3,!(8&_.f)&&dN(_))try{_.c()}catch(P){g||(h=P,g=!0)}_=O}}if($P=0,$E--,g)throw h}}var Wr=void 0;var iI=void 0,$E=0,$P=0,dC=0;function hN(h){if(Wr!==void 0){var g=h.n;if(g===void 0||g.t!==Wr)return g={i:0,S:h,p:Wr.s,n:void 0,t:Wr,e:void 0,x:void 0,r:g},Wr.s!==void 0&&(Wr.s.n=g),Wr.s=g,h.n=g,32&Wr.f&&h.S(g),g;if(g.i===-1)return g.i=0,g.n!==void 0&&(g.n.p=g.p,g.p!==void 0&&(g.p.n=g.n),g.p=Wr.s,g.n=void 0,Wr.s.n=g,Wr.s=g),g}}function Pn(h){this.v=h,this.i=0,this.n=void 0,this.t=void 0}Pn.prototype.brand=hF;Pn.prototype.h=function(){return!0};Pn.prototype.S=function(h){this.t!==h&&h.e===void 0&&(h.x=this.t,this.t!==void 0&&(this.t.e=h),this.t=h)};Pn.prototype.U=function(h){if(this.t!==void 0){var g=h.e,_=h.x;g!==void 0&&(g.x=_,h.e=void 0),_!==void 0&&(_.e=g,h.x=void 0),h===this.t&&(this.t=_)}};Pn.prototype.subscribe=function(h){var g=this;return aI(function(){var _=g.value,O=32&this.f;this.f&=-33;try{h(_)}finally{this.f|=O}})};Pn.prototype.valueOf=function(){return this.value};Pn.prototype.toString=function(){return this.value+""};Pn.prototype.toJSON=function(){return this.value};Pn.prototype.peek=function(){return this.v};Object.defineProperty(Pn.prototype,"value",{get:function(){var h=hN(this);return h!==void 0&&(h.i=this.i),this.v},set:function(h){if(Wr instanceof Qv&&function(){throw new Error("Computed cannot have side-effects")}(),h!==this.v){$P>100&&fC(),this.v=h,this.i++,dC++,$E++;try{for(var g=this.t;g!==void 0;g=g.x)g.t.N()}finally{RP()}}}});function Uh(h){return new Pn(h)}function dN(h){for(var g=h.s;g!==void 0;g=g.n)if(g.S.i!==g.i||!g.S.h()||g.S.i!==g.i)return!0;return!1}function fN(h){for(var g=h.s;g!==void 0;g=g.n){var _=g.S.n;if(_!==void 0&&(g.r=_),g.S.n=g,g.i=-1,g.n===void 0){h.s=g;break}}}function vN(h){for(var g=h.s,_=void 0;g!==void 0;){var O=g.p;g.i===-1?(g.S.U(g),O!==void 0&&(O.n=g.n),g.n!==void 0&&(g.n.p=O)):_=g,g.S.n=g.r,g.r!==void 0&&(g.r=void 0),g=O}h.s=_}function Qv(h){Pn.call(this,void 0),this.x=h,this.s=void 0,this.g=dC-1,this.f=4}(Qv.prototype=new Pn).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===dC))return!0;if(this.g=dC,this.f|=1,this.i>0&&!dN(this))return this.f&=-2,!0;var h=Wr;try{fN(this),Wr=this;var g=this.x();(16&this.f||this.v!==g||this.i===0)&&(this.v=g,this.f&=-17,this.i++)}catch(_){this.v=_,this.f|=16,this.i++}return Wr=h,vN(this),this.f&=-2,!0};Qv.prototype.S=function(h){if(this.t===void 0){this.f|=36;for(var g=this.s;g!==void 0;g=g.n)g.S.S(g)}Pn.prototype.S.call(this,h)};Qv.prototype.U=function(h){if(this.t!==void 0&&(Pn.prototype.U.call(this,h),this.t===void 0)){this.f&=-33;for(var g=this.s;g!==void 0;g=g.n)g.S.U(g)}};Qv.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var h=this.t;h!==void 0;h=h.x)h.t.N()}};Qv.prototype.peek=function(){if(this.h()||fC(),16&this.f)throw this.v;return this.v};Object.defineProperty(Qv.prototype,"value",{get:function(){1&this.f&&fC();var h=hN(this);if(this.h(),h!==void 0&&(h.i=this.i),16&this.f)throw this.v;return this.v}});function MP(h){return new Qv(h)}function pN(h){var g=h.u;if(h.u=void 0,typeof g=="function"){$E++;var _=Wr;Wr=void 0;try{g()}catch(O){throw h.f&=-2,h.f|=8,jP(h),O}finally{Wr=_,RP()}}}function jP(h){for(var g=h.s;g!==void 0;g=g.n)g.S.U(g);h.x=void 0,h.s=void 0,pN(h)}function dF(h){if(Wr!==this)throw new Error("Out-of-order effect");vN(this),Wr=h,this.f&=-2,8&this.f&&jP(this),RP()}function oI(h){this.x=h,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}oI.prototype.c=function(){var h=this.S();try{if(8&this.f||this.x===void 0)return;var g=this.x();typeof g=="function"&&(this.u=g)}finally{h()}};oI.prototype.S=function(){1&this.f&&fC(),this.f|=1,this.f&=-9,pN(this),fN(this),$E++;var h=Wr;return Wr=this,dF.bind(this,h)};oI.prototype.N=function(){2&this.f||(this.f|=2,this.o=iI,iI=this)};oI.prototype.d=function(){this.f|=8,1&this.f||jP(this)};function aI(h){var g=new oI(h);try{g.c()}catch(_){throw g.d(),_}return g.d.bind(g)}var LP,FP;function RE(h,g){Et[h]=g.bind(null,Et[h]||function(){})}function vC(h){FP&&FP(),FP=h&&h.S()}function yN(h){var g=this,_=h.data,O=vF(_);O.value=_;var P=hC(function(){for(var R=g.__v;R=R.__;)if(R.__c){R.__c.__$f|=4;break}return g.__$u.c=function(){var H;!xP(P.peek())&&((H=g.base)==null?void 0:H.nodeType)===3?g.base.data=P.peek():(g.__$f|=1,g.setState({}))},MP(function(){var H=O.value.value;return H===0?0:H===!0?"":H||""})},[]);return P.value}yN.displayName="_st";Object.defineProperties(Pn.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:yN},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});RE("__b",function(h,g){if(typeof g.type=="string"){var _,O=g.props;for(var P in O)if(P!=="children"){var R=O[P];R instanceof Pn&&(_||(g.__np=_={}),_[P]=R,O[P]=R.peek())}}h(g)});RE("__r",function(h,g){vC();var _,O=g.__c;O&&(O.__$f&=-2,(_=O.__$u)===void 0&&(O.__$u=_=function(P){var R;return aI(function(){R=this}),R.c=function(){O.__$f|=1,O.setState({})},R}())),LP=O,vC(_),h(g)});RE("__e",function(h,g,_,O){vC(),LP=void 0,h(g,_,O)});RE("diffed",function(h,g){vC(),LP=void 0;var _;if(typeof g.type=="string"&&(_=g.__e)){var O=g.__np,P=g.props;if(O){var R=_.U;if(R)for(var H in R){var q=R[H];q!==void 0&&!(H in O)&&(q.d(),R[H]=void 0)}else _.U=R={};for(var le in O){var ge=R[le],ce=O[le];ge===void 0?(ge=fF(_,le,ce,P),R[le]=ge):ge.o(ce,P)}}}h(g)});function fF(h,g,_,O){var P=g in h&&h.ownerSVGElement===void 0,R=Uh(_);return{o:function(H,q){R.value=H,O=q},d:aI(function(){var H=R.value.value;O[g]!==H&&(O[g]=H,P?h[g]=H:H?h.setAttribute(g,H):h.removeAttribute(g))})}}RE("unmount",function(h,g){if(typeof g.type=="string"){var _=g.__e;if(_){var O=_.U;if(O){_.U=void 0;for(var P in O){var R=O[P];R&&R.d()}}}}else{var H=g.__c;if(H){var q=H.__$u;q&&(H.__$u=void 0,q.d())}}h(g)});RE("__h",function(h,g,_,O){(O<3||O===9)&&(g.__$f|=2),h(g,_,O)});NE.prototype.shouldComponentUpdate=function(h,g){var _=this.__$u;if(!(_&&_.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var O in g)return!0;for(var P in h)if(P!=="__source"&&h[P]!==this.props[P])return!0;for(var R in this.props)if(!(R in h))return!0;return!1};function vF(h){return hC(function(){return Uh(h)},[])}function pF(h){let g=parseInt(h.slice(1,3),16)/255,_=parseInt(h.slice(3,5),16)/255,O=parseInt(h.slice(5,7),16)/255;return .2126*g+.7152*_+.0722*O}function yF(){return ht("svg",{fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 640 512"},ht("path",{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"}))}function bN(){return ht("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512"},ht("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))}function gF({state:h,ui:g}){let _=h.status.value,O=NP(null);return ht("div",{class:"controls"},_===pC&&ht(yu,null,ht("input",{ref:O,class:"controls__input",placeholder:"Root account"}),ht("button",{class:"button button-green",onClick:()=>{h.status.value=gN,g.emit("start",O.current.value)}},"Start"),ht("button",{class:"button button-blue",onClick:()=>{g.emit("clearGraph")}},"Clear graph")),_===gN&&ht(yu,null,ht("button",{class:"button button-red",onClick:()=>{h.status.value=pC,g.emit("stop")}},"Stop")))}function mF({state:h}){let g=h.userView.value,_="#"+(g?.primaryColorHex||"6441a5"),O=pF(_);return g?ht("div",{class:"userView",style:O>.5?{background:"rgba(0, 0, 0, 0.8)",color:"#ffffff"}:{background:"rgba(0, 0, 0, 0.1)",color:"#000000"}},ht("div",{class:"userView__close",onClick:()=>h.userView.value=null,style:{fill:O>.5?"#ffffff":"#000000"}},ht(bN,null)),ht("div",{class:"userView__top"},ht("div",{class:"top__image"},ht("img",{src:g.profileImageURL,style:{borderColor:_},width:"70px",height:"70px"})),ht("div",{class:"top__displayName"},ht("span",{class:"displayName__name",style:{color:_}},g.displayName),ht("a",{href:"https://twitch.tv/"+g.login,class:"link",target:"_blank"},ht("span",{class:"displayName__twitchTag"},"Channel \xA0",ht(yF,null)))),ht("div",{class:"top__totalFollowers"},g.followers.totalCount," follower",g.followers.totalCount===1?"":"s")),ht("p",null,g.description)):ht(yu,null)}function bF({state:h}){let g=h.message.value;return g?ht("div",{class:"messageContainer"},ht("div",{class:"message"},ht("div",null,g),ht("div",{class:"message__close",onClick:()=>h.message.value=null},ht(bN,null)))):ht(yu,null)}function _F({state:h}){return h.preludeShown.value?ht("div",{class:"prelude"},ht("h1",null,"What is this?"),ht("p",{class:"prelude__phrasing",align:"justify"},"On Twitch a streamer can suggest other streamers. This tool builds a graph based on these suggestions. First, you provide a name of a streamer. The tool will pull suggested streamers from the account, place them onto a graph, and then continue doing this recursively with other streamers."),ht("h1",null,"How do I use it?"),ht("p",{class:"prelude__phrasing",align:"justify"},"Type in the Twitch link or the handle of a streamer into ",ht("strong",null,"Root account"),". To start building a graph press ",ht("span",{class:"green"},"Start"),". To finish building a graph press ",ht("span",{class:"red"},"Stop"),". You can then specify another channel and continue the graph off it, or you can clear the graph by pressing ",ht("span",{class:"blue"},"Clear graph"),"."),ht("p",{class:"prelude__phrasing",align:"center"},ht("a",{href:"https://github.com/realicedicerice/twitch-suggested-graph",class:"link"},"Github"))):ht(yu,null)}function wF({state:h,ui:g}){return ht(yu,null,ht(_F,{state:h}),ht(gF,{state:h,ui:g}),ht(mF,{state:h}),ht(bF,{state:h}))}var pC=0,gN=1,Gn=new mN.default,m0={status:Uh(pC),preludeShown:Uh(!0),message:Uh(null),userView:Uh(null)};rN(ht(wF,{state:m0,ui:Gn}),document.querySelector("#appui"));Gn.once("start",function(){m0.preludeShown.value=!1});Gn.on("start",function(){m0.message.value=null});Gn.on("idle",function(){m0.status.value=pC});Gn.on("showUserView",function(h){m0.userView.value=h});Gn.on("hideUserView",function(){m0.userView.value=null});Gn.on("message",function(h){m0.message.value=h});var sI=LD(),EF=FD(document.querySelector("#network"),sI),ME=PD(),BP=new Map;ME.on("data",function({users:h,links:g}){for(let _ of h)BP.set(_.id,_),BD(sI,_);for(let _ of g)zD(sI,_)});ME.on("endOfQueue",function(){Gn.emit("idle"),BP.size===1?Gn.emit("message","Finished processing. It appears this user does not suggest any channels."):Gn.emit("message","Finished processing.")});ME.on("error",function({message:h,fatal:g}){g&&Gn.emit("idle"),Gn.emit("message","Error: "+h)});Gn.on("start",function(h){ME.emit("start",h)});Gn.on("stop",function(){ME.emit("stop")});Gn.on("clearGraph",function(){sI.nodes.clear(),sI.edges.clear(),ME.emit("reset")});EF.on("click",function(h){if(!h.nodes.length){Gn.emit("hideUserView");return}let g=BP.get(h.nodes[0]);Gn.emit("showUserView",g)});})();
/*! Bundled license information:

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)

vis-data/peer/umd/vis-data.js:
  (**
   * vis-data
   * http://visjs.org/
   *
   * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
   *
   * @version 7.1.7
   * @date    2023-09-13T18:13:28.258Z
   *
   * @copyright (c) 2011-2017 Almende B.V, http://almende.com
   * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
   *
   * @license
   * vis.js is dual licensed under both
   *
   *   1. The Apache 2.0 License
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   *   and
   *
   *   2. The MIT License
   *      http://opensource.org/licenses/MIT
   *
   * vis.js may be distributed under either license.
   *)
  (*! Hammer.JS - v2.0.17-rc - 2019-12-16
   * http://naver.github.io/egjs
   *
   * Forked By Naver egjs
   * Copyright (c) hammerjs
   * Licensed under the MIT license *)

vis-network/peer/umd/vis-network.min.js:
  (**
   * vis-network
   * https://visjs.github.io/vis-network/
   *
   * A dynamic, browser-based visualization library.
   *
   * @version 9.1.8
   * @date    2023-10-15T18:19:22.998Z
   *
   * @copyright (c) 2011-2017 Almende B.V, http://almende.com
   * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
   *
   * @license
   * vis.js is dual licensed under both
   *
   *   1. The Apache 2.0 License
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   *   and
   *
   *   2. The MIT License
   *      http://opensource.org/licenses/MIT
   *
   * vis.js may be distributed under either license.
   *)
  (*! Hammer.JS - v2.0.17-rc - 2019-12-16
  	 * http://naver.github.io/egjs
  	 *
  	 * Forked By Naver egjs
  	 * Copyright (c) hammerjs
  	 * Licensed under the MIT license *)

vis-data/peer/umd/vis-data.min.js:
  (**
   * vis-data
   * http://visjs.org/
   *
   * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
   *
   * @version 7.1.7
   * @date    2023-09-13T18:13:28.258Z
   *
   * @copyright (c) 2011-2017 Almende B.V, http://almende.com
   * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
   *
   * @license
   * vis.js is dual licensed under both
   *
   *   1. The Apache 2.0 License
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   *   and
   *
   *   2. The MIT License
   *      http://opensource.org/licenses/MIT
   *
   * vis.js may be distributed under either license.
   *)
  (*! Hammer.JS - v2.0.17-rc - 2019-12-16
     * http://naver.github.io/egjs
     *
     * Forked By Naver egjs
     * Copyright (c) hammerjs
     * Licensed under the MIT license *)
*/
